var TA=Object.defineProperty;var SA=(r,e,t)=>e in r?TA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ye=(r,e,t)=>SA(r,typeof e!="symbol"?e+"":e,t);function DA(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in r)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(r,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function hy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $g={exports:{}},Lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function CA(){if(Hw)return Lu;Hw=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var f in a)f!=="key"&&(o[f]=a[f])}else o=a;return a=o.ref,{$$typeof:r,type:n,key:u,ref:a!==void 0?a:null,props:o}}return Lu.Fragment=e,Lu.jsx=t,Lu.jsxs=t,Lu}var Bw;function AA(){return Bw||(Bw=1,$g.exports=CA()),$g.exports}var ae=AA(),Zg={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function RA(){if(Fw)return Ne;Fw=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=_&&V[_]||V["@@iterator"],typeof V=="function"?V:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,L={};function x(V,ne,pe){this.props=V,this.context=ne,this.refs=L,this.updater=pe||D}x.prototype.isReactComponent={},x.prototype.setState=function(V,ne){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ne,"setState")},x.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function F(){}F.prototype=x.prototype;function Y(V,ne,pe){this.props=V,this.context=ne,this.refs=L,this.updater=pe||D}var Q=Y.prototype=new F;Q.constructor=Y,k(Q,x.prototype),Q.isPureReactComponent=!0;var le=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function R(V,ne,pe,ce,be,Ue){return pe=Ue.ref,{$$typeof:r,type:V,key:ne,ref:pe!==void 0?pe:null,props:Ue}}function T(V,ne){return R(V.type,ne,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function O(V){var ne={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(pe){return ne[pe]})}var M=/\/+/g;function N(V,ne){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):ne.toString(36)}function I(){}function he(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(I,I):(V.status="pending",V.then(function(ne){V.status==="pending"&&(V.status="fulfilled",V.value=ne)},function(ne){V.status==="pending"&&(V.status="rejected",V.reason=ne)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function de(V,ne,pe,ce,be){var Ue=typeof V;(Ue==="undefined"||Ue==="boolean")&&(V=null);var Oe=!1;if(V===null)Oe=!0;else switch(Ue){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(V.$$typeof){case r:case e:Oe=!0;break;case y:return Oe=V._init,de(Oe(V._payload),ne,pe,ce,be)}}if(Oe)return be=be(V),Oe=ce===""?"."+N(V,0):ce,le(be)?(pe="",Oe!=null&&(pe=Oe.replace(M,"$&/")+"/"),de(be,ne,pe,"",function(_r){return _r})):be!=null&&(C(be)&&(be=T(be,pe+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(M,"$&/")+"/")+Oe)),ne.push(be)),1;Oe=0;var Gt=ce===""?".":ce+":";if(le(V))for(var dt=0;dt<V.length;dt++)ce=V[dt],Ue=Gt+N(ce,dt),Oe+=de(ce,ne,pe,Ue,be);else if(dt=b(V),typeof dt=="function")for(V=dt.call(V),dt=0;!(ce=V.next()).done;)ce=ce.value,Ue=Gt+N(ce,dt++),Oe+=de(ce,ne,pe,Ue,be);else if(Ue==="object"){if(typeof V.then=="function")return de(he(V),ne,pe,ce,be);throw ne=String(V),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function H(V,ne,pe){if(V==null)return V;var ce=[],be=0;return de(V,ce,"","",function(Ue){return ne.call(pe,Ue,be++)}),ce}function Z(V){if(V._status===-1){var ne=V._result;ne=ne(),ne.then(function(pe){(V._status===0||V._status===-1)&&(V._status=1,V._result=pe)},function(pe){(V._status===0||V._status===-1)&&(V._status=2,V._result=pe)}),V._status===-1&&(V._status=0,V._result=ne)}if(V._status===1)return V._result.default;throw V._result}var ue=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Se(){}return Ne.Children={map:H,forEach:function(V,ne,pe){H(V,function(){ne.apply(this,arguments)},pe)},count:function(V){var ne=0;return H(V,function(){ne++}),ne},toArray:function(V){return H(V,function(ne){return ne})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ne.Component=x,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=Y,Ne.StrictMode=n,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(V){return oe.H.useMemoCache(V)}},Ne.cache=function(V){return function(){return V.apply(null,arguments)}},Ne.cloneElement=function(V,ne,pe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=k({},V.props),be=V.key,Ue=void 0;if(ne!=null)for(Oe in ne.ref!==void 0&&(Ue=void 0),ne.key!==void 0&&(be=""+ne.key),ne)!$.call(ne,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ne.ref===void 0||(ce[Oe]=ne[Oe]);var Oe=arguments.length-2;if(Oe===1)ce.children=pe;else if(1<Oe){for(var Gt=Array(Oe),dt=0;dt<Oe;dt++)Gt[dt]=arguments[dt+2];ce.children=Gt}return R(V.type,be,void 0,void 0,Ue,ce)},Ne.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},Ne.createElement=function(V,ne,pe){var ce,be={},Ue=null;if(ne!=null)for(ce in ne.key!==void 0&&(Ue=""+ne.key),ne)$.call(ne,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=ne[ce]);var Oe=arguments.length-2;if(Oe===1)be.children=pe;else if(1<Oe){for(var Gt=Array(Oe),dt=0;dt<Oe;dt++)Gt[dt]=arguments[dt+2];be.children=Gt}if(V&&V.defaultProps)for(ce in Oe=V.defaultProps,Oe)be[ce]===void 0&&(be[ce]=Oe[ce]);return R(V,Ue,void 0,void 0,null,be)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(V){return{$$typeof:f,render:V}},Ne.isValidElement=C,Ne.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:Z}},Ne.memo=function(V,ne){return{$$typeof:m,type:V,compare:ne===void 0?null:ne}},Ne.startTransition=function(V){var ne=oe.T,pe={};oe.T=pe;try{var ce=V(),be=oe.S;be!==null&&be(pe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Se,ue)}catch(Ue){ue(Ue)}finally{oe.T=ne}},Ne.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ne.use=function(V){return oe.H.use(V)},Ne.useActionState=function(V,ne,pe){return oe.H.useActionState(V,ne,pe)},Ne.useCallback=function(V,ne){return oe.H.useCallback(V,ne)},Ne.useContext=function(V){return oe.H.useContext(V)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(V,ne){return oe.H.useDeferredValue(V,ne)},Ne.useEffect=function(V,ne,pe){var ce=oe.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(V,ne)},Ne.useId=function(){return oe.H.useId()},Ne.useImperativeHandle=function(V,ne,pe){return oe.H.useImperativeHandle(V,ne,pe)},Ne.useInsertionEffect=function(V,ne){return oe.H.useInsertionEffect(V,ne)},Ne.useLayoutEffect=function(V,ne){return oe.H.useLayoutEffect(V,ne)},Ne.useMemo=function(V,ne){return oe.H.useMemo(V,ne)},Ne.useOptimistic=function(V,ne){return oe.H.useOptimistic(V,ne)},Ne.useReducer=function(V,ne,pe){return oe.H.useReducer(V,ne,pe)},Ne.useRef=function(V){return oe.H.useRef(V)},Ne.useState=function(V){return oe.H.useState(V)},Ne.useSyncExternalStore=function(V,ne,pe){return oe.H.useSyncExternalStore(V,ne,pe)},Ne.useTransition=function(){return oe.H.useTransition()},Ne.version="19.1.0",Ne}var jw;function py(){return jw||(jw=1,Zg.exports=RA()),Zg.exports}var W=py();const ee=hy(W),TT=DA({__proto__:null,default:ee},[W]);var Jg={exports:{}},Vu={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function IA(){return zw||(zw=1,function(r){function e(H,Z){var ue=H.length;H.push(Z);e:for(;0<ue;){var Se=ue-1>>>1,V=H[Se];if(0<a(V,Z))H[Se]=Z,H[ue]=V,ue=Se;else break e}}function t(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var Z=H[0],ue=H.pop();if(ue!==Z){H[0]=ue;e:for(var Se=0,V=H.length,ne=V>>>1;Se<ne;){var pe=2*(Se+1)-1,ce=H[pe],be=pe+1,Ue=H[be];if(0>a(ce,ue))be<V&&0>a(Ue,ce)?(H[Se]=Ue,H[be]=ue,Se=be):(H[Se]=ce,H[pe]=ue,Se=pe);else if(be<V&&0>a(Ue,ue))H[Se]=Ue,H[be]=ue,Se=be;else break e}}return Z}function a(H,Z){var ue=H.sortIndex-Z.sortIndex;return ue!==0?ue:H.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var p=[],m=[],y=1,_=null,b=3,D=!1,k=!1,L=!1,x=!1,F=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function le(H){for(var Z=t(m);Z!==null;){if(Z.callback===null)n(m);else if(Z.startTime<=H)n(m),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=t(m)}}function oe(H){if(L=!1,le(H),!k)if(t(p)!==null)k=!0,$||($=!0,N());else{var Z=t(m);Z!==null&&de(oe,Z.startTime-H)}}var $=!1,R=-1,T=5,C=-1;function O(){return x?!0:!(r.unstable_now()-C<T)}function M(){if(x=!1,$){var H=r.unstable_now();C=H;var Z=!0;try{e:{k=!1,L&&(L=!1,Y(R),R=-1),D=!0;var ue=b;try{t:{for(le(H),_=t(p);_!==null&&!(_.expirationTime>H&&O());){var Se=_.callback;if(typeof Se=="function"){_.callback=null,b=_.priorityLevel;var V=Se(_.expirationTime<=H);if(H=r.unstable_now(),typeof V=="function"){_.callback=V,le(H),Z=!0;break t}_===t(p)&&n(p),le(H)}else n(p);_=t(p)}if(_!==null)Z=!0;else{var ne=t(m);ne!==null&&de(oe,ne.startTime-H),Z=!1}}break e}finally{_=null,b=ue,D=!1}Z=void 0}}finally{Z?N():$=!1}}}var N;if(typeof Q=="function")N=function(){Q(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,he=I.port2;I.port1.onmessage=M,N=function(){he.postMessage(null)}}else N=function(){F(M,0)};function de(H,Z){R=F(function(){H(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(H){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var ue=b;b=Z;try{return H()}finally{b=ue}},r.unstable_requestPaint=function(){x=!0},r.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ue=b;b=H;try{return Z()}finally{b=ue}},r.unstable_scheduleCallback=function(H,Z,ue){var Se=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Se+ue:Se):ue=Se,H){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ue+V,H={id:y++,callback:Z,priorityLevel:H,startTime:ue,expirationTime:V,sortIndex:-1},ue>Se?(H.sortIndex=ue,e(m,H),t(p)===null&&H===t(m)&&(L?(Y(R),R=-1):L=!0,de(oe,ue-Se))):(H.sortIndex=V,e(p,H),k||D||(k=!0,$||($=!0,N()))),H},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(H){var Z=b;return function(){var ue=b;b=Z;try{return H.apply(this,arguments)}finally{b=ue}}}}(tm)),tm}var Yw;function OA(){return Yw||(Yw=1,em.exports=IA()),em.exports}var nm={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw;function MA(){if(qw)return hn;qw=1;var r=py();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,hn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(p,m,null,y)},hn.flushSync=function(p){var m=u.T,y=n.p;try{if(u.T=null,n.p=2,p)return p()}finally{u.T=m,n.p=y,n.d.f()}},hn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(p,m))},hn.prefetchDNS=function(p){typeof p=="string"&&n.d.D(p)},hn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=f(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,D=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?n.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:D}):y==="script"&&n.d.X(p,{crossOrigin:_,integrity:b,fetchPriority:D,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},hn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);n.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(p)},hn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=f(y,m.crossOrigin);n.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},hn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=f(m.as,m.crossOrigin);n.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(p)},hn.requestFormReset=function(p){n.d.r(p)},hn.unstable_batchedUpdates=function(p,m){return p(m)},hn.useFormState=function(p,m,y){return u.H.useFormState(p,m,y)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.1.0",hn}var Gw;function ST(){if(Gw)return nm.exports;Gw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nm.exports=MA(),nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qw;function xA(){if(Qw)return Vu;Qw=1;var r=OA(),e=py(),t=ST();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(n(188))}function p(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(n(188));return s!==i?null:i}for(var l=i,c=s;;){var h=l.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){l=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===l)return f(h),i;if(g===c)return f(h),s;g=g.sibling}throw Error(n(188))}if(l.return!==c.return)l=h,c=g;else{for(var E=!1,S=h.child;S;){if(S===l){E=!0,l=h,c=g;break}if(S===c){E=!0,c=h,l=g;break}S=S.sibling}if(!E){for(S=g.child;S;){if(S===l){E=!0,l=g,c=h;break}if(S===c){E=!0,c=g,l=h;break}S=S.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==c)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function N(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function he(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case x:return"Profiler";case L:return"StrictMode";case oe:return"Suspense";case $:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case Q:return(i.displayName||"Context")+".Provider";case Y:return(i._context.displayName||"Context")+".Consumer";case le:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return s=i.displayName||null,s!==null?s:he(i.type)||"Memo";case T:s=i._payload,i=i._init;try{return he(i(s))}catch{}}return null}var de=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Se=[],V=-1;function ne(i){return{current:i}}function pe(i){0>V||(i.current=Se[V],Se[V]=null,V--)}function ce(i,s){V++,Se[V]=i.current,i.current=s}var be=ne(null),Ue=ne(null),Oe=ne(null),Gt=ne(null);function dt(i,s){switch(ce(Oe,s),ce(Ue,i),ce(be,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?hw(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=hw(s),i=pw(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}pe(be),ce(be,i)}function _r(){pe(be),pe(Ue),pe(Oe)}function Fi(i){i.memoizedState!==null&&ce(Gt,i);var s=be.current,l=pw(s,i.type);s!==l&&(ce(Ue,i),ce(be,l))}function Jr(i){Ue.current===i&&(pe(be),pe(Ue)),Gt.current===i&&(pe(Gt),Mu._currentValue=ue)}var qa=Object.prototype.hasOwnProperty,Ga=r.unstable_scheduleCallback,Qa=r.unstable_cancelCallback,Rl=r.unstable_shouldYield,Pc=r.unstable_requestPaint,jn=r.unstable_now,$h=r.unstable_getCurrentPriorityLevel,Il=r.unstable_ImmediatePriority,Js=r.unstable_UserBlockingPriority,Ka=r.unstable_NormalPriority,Zh=r.unstable_LowPriority,eo=r.unstable_IdlePriority,Ol=r.log,Lc=r.unstable_setDisableYieldValue,bt=null,nt=null;function On(i){if(typeof Ol=="function"&&Lc(i),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(bt,i)}catch{}}var fn=Math.clz32?Math.clz32:Wa,Vc=Math.log,Jh=Math.LN2;function Wa(i){return i>>>=0,i===0?32:31-(Vc(i)/Jh|0)|0}var Xa=256,$a=4194304;function ur(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function to(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var h=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?h=ur(c):(E&=S,E!==0?h=ur(E):l||(l=S&~i,l!==0&&(h=ur(l))))):(S=c&~g,S!==0?h=ur(S):E!==0?h=ur(E):l||(l=c&~i,l!==0&&(h=ur(l)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:h}function Za(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ml(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(){var i=Xa;return Xa<<=1,(Xa&4194048)===0&&(Xa=256),i}function kl(){var i=$a;return $a<<=1,($a&62914560)===0&&($a=4194304),i}function ei(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function ti(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Nl(i,s,l,c,h,g){var E=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var S=i.entanglements,P=i.expirationTimes,q=i.hiddenUpdates;for(l=E&~l;0<l;){var J=31-fn(l),re=1<<J;S[J]=0,P[J]=-1;var G=q[J];if(G!==null)for(q[J]=null,J=0;J<G.length;J++){var K=G[J];K!==null&&(K.lane&=-536870913)}l&=~re}c!==0&&wr(i,c,0),g!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function wr(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-fn(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Pl(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-fn(l),h=1<<c;h&s|i[c]&s&&(i[c]|=s),l&=~h}}function ji(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function no(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function zi(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:kw(i.type))}function Uc(i,s){var l=Z.p;try{return Z.p=i,s()}finally{Z.p=l}}var mt=Math.random().toString(36).slice(2),Ht="__reactFiber$"+mt,xt="__reactProps$"+mt,zn="__reactContainer$"+mt,Ll="__reactEvents$"+mt,ep="__reactListeners$"+mt,Yi="__reactHandles$"+mt,Hc="__reactResources$"+mt,Ja="__reactMarker$"+mt;function qi(i){delete i[Ht],delete i[xt],delete i[Ll],delete i[ep],delete i[Yi]}function ni(i){var s=i[Ht];if(s)return s;for(var l=i.parentNode;l;){if(s=l[zn]||l[Ht]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=vw(i);i!==null;){if(l=i[Ht])return l;i=vw(i)}return s}i=l,l=i.parentNode}return null}function Er(i){if(i=i[Ht]||i[zn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function br(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function _n(i){var s=i[Hc];return s||(s=i[Hc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ct(i){i[Ja]=!0}var Vl=new Set,ro={};function cr(i,s){ri(i,s),ri(i+"Capture",s)}function ri(i,s){for(ro[i]=s,i=0;i<s.length;i++)Vl.add(s[i])}var Bc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fc={},es={};function jc(i){return qa.call(es,i)?!0:qa.call(Fc,i)?!1:Bc.test(i)?es[i]=!0:(Fc[i]=!0,!1)}function Gi(i,s,l){if(jc(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Tr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function en(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}var ts,zc;function ii(i){if(ts===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ts=s&&s[1]||"",zc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ts+i+zc}var io=!1;function ao(i,s){if(!i||io)return"";io=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(K){var G=K}Reflect.construct(i,[],re)}else{try{re.call()}catch(K){G=K}i.call(re.prototype)}}else{try{throw Error()}catch(K){G=K}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),E=g[0],S=g[1];if(E&&S){var P=E.split(`
`),q=S.split(`
`);for(h=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(c===P.length||h===q.length)for(c=P.length-1,h=q.length-1;1<=c&&0<=h&&P[c]!==q[h];)h--;for(;1<=c&&0<=h;c--,h--)if(P[c]!==q[h]){if(c!==1||h!==1)do if(c--,h--,0>h||P[c]!==q[h]){var J=`
`+P[c].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=c&&0<=h);break}}}finally{io=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ii(l):""}function Ul(i){switch(i.tag){case 26:case 27:case 5:return ii(i.type);case 16:return ii("Lazy");case 13:return ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return ao(i.type,!1);case 11:return ao(i.type.render,!1);case 1:return ao(i.type,!0);case 31:return ii("Activity");default:return""}}function so(i){try{var s="";do s+=Ul(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function wn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Hl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tp(i){var s=Hl(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,g=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return h.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function oo(i){i._valueTracker||(i._valueTracker=tp(i))}function Bl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=Hl(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function ns(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var np=/[\n"\\]/g;function kt(i){return i.replace(np,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Mn(i,s,l,c,h,g,E,S){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+wn(s)):i.value!==""+wn(s)&&(i.value=""+wn(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Qi(i,E,wn(s)):l!=null?Qi(i,E,wn(l)):c!=null&&i.removeAttribute("value"),h==null&&g!=null&&(i.defaultChecked=!!g),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+wn(S):i.removeAttribute("name")}function rs(i,s,l,c,h,g,E,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;l=l!=null?""+wn(l):"",s=s!=null?""+wn(s):l,S||s===i.value||(i.value=s),i.defaultValue=s}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Qi(i,s,l){s==="number"&&ns(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ai(i,s,l,c){if(i=i.options,s){s={};for(var h=0;h<l.length;h++)s["$"+l[h]]=!0;for(l=0;l<i.length;l++)h=s.hasOwnProperty("$"+i[l].value),i[l].selected!==h&&(i[l].selected=h),h&&c&&(i[l].defaultSelected=!0)}else{for(l=""+wn(l),s=null,h=0;h<i.length;h++){if(i[h].value===l){i[h].selected=!0,c&&(i[h].defaultSelected=!0);return}s!==null||i[h].disabled||(s=i[h])}s!==null&&(s.selected=!0)}}function ot(i,s,l){if(s!=null&&(s=""+wn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+wn(l):""}function is(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(n(92));if(de(c)){if(1<c.length)throw Error(n(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=wn(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Yn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var as=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yc(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||as.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Fl(i,s,l){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var h in s)c=s[h],s.hasOwnProperty(h)&&l[h]!==c&&Yc(i,h,c)}else for(var g in s)s.hasOwnProperty(g)&&Yc(i,g,s[g])}function jl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ip=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(i){return ip.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var si=null;function qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var oi=null,li=null;function zl(i){var s=Er(i);if(s&&(i=s.stateNode)){var l=i[xt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Mn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+kt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var h=c[xt]||null;if(!h)throw Error(n(90));Mn(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&Bl(c)}break e;case"textarea":ot(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&ai(i,!!l.multiple,s,!1)}}}var Sr=!1;function qc(i,s,l){if(Sr)return i(s,l);Sr=!0;try{var c=i(s);return c}finally{if(Sr=!1,(oi!==null||li!==null)&&(Hf(),oi&&(s=oi,i=li,li=oi=null,zl(s),i)))for(s=0;s<i.length;s++)zl(i[s])}}function ss(i,s){var l=i.stateNode;if(l===null)return null;var c=l[xt]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(fr)try{var os={};Object.defineProperty(os,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{Gn=!1}var Dr=null,Ki=null,ui=null;function Yl(){if(ui)return ui;var i,s=Ki,l=s.length,c,h="value"in Dr?Dr.value:Dr.textContent,g=h.length;for(i=0;i<l&&s[i]===h[i];i++);var E=l-i;for(c=1;c<=E&&s[l-c]===h[g-c];c++);return ui=h.slice(i,1<c?1-c:void 0)}function Cr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ar(){return!0}function ql(){return!1}function Qt(i){function s(l,c,h,g,E){this._reactName=l,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(l=i[S],this[S]=l?l(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ar:ql,this.isPropagationStopped=ql,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),s}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=Qt(Je),ls=y({},Je,{view:0,detail:0}),Gc=Qt(ls),co,fo,Rr,us=y({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Rr&&(Rr&&i.type==="mousemove"?(co=i.screenX-Rr.screenX,fo=i.screenY-Rr.screenY):fo=co=0,Rr=i),co)},movementY:function(i){return"movementY"in i?i.movementY:fo}}),Qn=Qt(us),Qc=y({},us,{dataTransfer:0}),ap=Qt(Qc),cs=y({},ls,{relatedTarget:0}),ho=Qt(cs),Gl=y({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),po=Qt(Gl),Kc=y({},Je,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),go=Qt(Kc),sp=y({},Je,{data:0}),Ql=Qt(sp),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Xc[i])?!!s[i]:!1}function ds(){return Kl}var $c=y({},ls,{key:function(i){if(i.key){var s=fs[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Cr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(i){return i.type==="keypress"?Cr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Cr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mo=Qt($c),Zc=y({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wl=Qt(Zc),ci=y({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),Jc=Qt(ci),ef=y({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),tf=Qt(ef),nf=y({},us,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),yo=Qt(nf),En=y({},Je,{newState:0,oldState:0}),rf=Qt(En),af=[9,13,27,32],Ir=fr&&"CompositionEvent"in window,d=null;fr&&"documentMode"in document&&(d=document.documentMode);var v=fr&&"TextEvent"in window&&!d,w=fr&&(!Ir||d&&8<d&&11>=d),A=" ",j=!1;function X(i,s){switch(i){case"keyup":return af.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ye=!1;function Bt(i,s){switch(i){case"compositionend":return fe(s);case"keypress":return s.which!==32?null:(j=!0,A);case"textInput":return i=s.data,i===A&&j?null:i;default:return null}}function qe(i,s){if(Ye)return i==="compositionend"||!Ir&&X(i,s)?(i=Yl(),ui=Ki=Dr=null,Ye=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var Kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ft(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Kt[i.type]:s==="textarea"}function fi(i,s,l,c){oi?li?li.push(c):li=[c]:oi=c,s=qf(s,"onChange"),0<s.length&&(l=new uo("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var tn=null,Or=null;function Xl(i){lw(i,0)}function sf(i){var s=br(i);if(Bl(s))return i}function Iv(i,s){if(i==="change")return s}var Ov=!1;if(fr){var op;if(fr){var lp="oninput"in document;if(!lp){var Mv=document.createElement("div");Mv.setAttribute("oninput","return;"),lp=typeof Mv.oninput=="function"}op=lp}else op=!1;Ov=op&&(!document.documentMode||9<document.documentMode)}function xv(){tn&&(tn.detachEvent("onpropertychange",kv),Or=tn=null)}function kv(i){if(i.propertyName==="value"&&sf(Or)){var s=[];fi(s,Or,i,qn(i)),qc(Xl,s)}}function J1(i,s,l){i==="focusin"?(xv(),tn=s,Or=l,tn.attachEvent("onpropertychange",kv)):i==="focusout"&&xv()}function eC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return sf(Or)}function tC(i,s){if(i==="click")return sf(s)}function nC(i,s){if(i==="input"||i==="change")return sf(s)}function rC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var xn=typeof Object.is=="function"?Object.is:rC;function $l(i,s){if(xn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var h=l[c];if(!qa.call(s,h)||!xn(i[h],s[h]))return!1}return!0}function Nv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Pv(i,s){var l=Nv(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Nv(l)}}function Lv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Lv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Vv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ns(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ns(i.document)}return s}function up(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var iC=fr&&"documentMode"in document&&11>=document.documentMode,vo=null,cp=null,Zl=null,fp=!1;function Uv(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;fp||vo==null||vo!==ns(c)||(c=vo,"selectionStart"in c&&up(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Zl&&$l(Zl,c)||(Zl=c,c=qf(cp,"onSelect"),0<c.length&&(s=new uo("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=vo)))}function hs(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var _o={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},dp={},Hv={};fr&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function ps(i){if(dp[i])return dp[i];if(!_o[i])return i;var s=_o[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Hv)return dp[i]=s[l];return i}var Bv=ps("animationend"),Fv=ps("animationiteration"),jv=ps("animationstart"),aC=ps("transitionrun"),sC=ps("transitionstart"),oC=ps("transitioncancel"),zv=ps("transitionend"),Yv=new Map,hp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hp.push("scrollEnd");function dr(i,s){Yv.set(i,s),cr(s,[i])}var qv=new WeakMap;function Kn(i,s){if(typeof i=="object"&&i!==null){var l=qv.get(i);return l!==void 0?l:(s={value:i,source:s,stack:so(s)},qv.set(i,s),s)}return{value:i,source:s,stack:so(s)}}var Wn=[],wo=0,pp=0;function of(){for(var i=wo,s=pp=wo=0;s<i;){var l=Wn[s];Wn[s++]=null;var c=Wn[s];Wn[s++]=null;var h=Wn[s];Wn[s++]=null;var g=Wn[s];if(Wn[s++]=null,c!==null&&h!==null){var E=c.pending;E===null?h.next=h:(h.next=E.next,E.next=h),c.pending=h}g!==0&&Gv(l,h,g)}}function lf(i,s,l,c){Wn[wo++]=i,Wn[wo++]=s,Wn[wo++]=l,Wn[wo++]=c,pp|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function gp(i,s,l,c){return lf(i,s,l,c),uf(i)}function Eo(i,s){return lf(i,null,null,s),uf(i)}function Gv(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var h=!1,g=i.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(h=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,h&&s!==null&&(h=31-fn(l),i=g.hiddenUpdates,c=i[h],c===null?i[h]=[s]:c.push(s),s.lane=l|536870912),g):null}function uf(i){if(50<Tu)throw Tu=0,Eg=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var bo={};function lC(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,s,l,c){return new lC(i,s,l,c)}function mp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function di(i,s){var l=i.alternate;return l===null?(l=kn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Qv(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function cf(i,s,l,c,h,g){var E=0;if(c=i,typeof i=="function")mp(i)&&(E=1);else if(typeof i=="string")E=cA(i,l,be.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=kn(31,l,s,h),i.elementType=C,i.lanes=g,i;case k:return gs(l.children,h,g,s);case L:E=8,h|=24;break;case x:return i=kn(12,l,s,h|2),i.elementType=x,i.lanes=g,i;case oe:return i=kn(13,l,s,h),i.elementType=oe,i.lanes=g,i;case $:return i=kn(19,l,s,h),i.elementType=$,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:case Q:E=10;break e;case Y:E=9;break e;case le:E=11;break e;case R:E=14;break e;case T:E=16,c=null;break e}E=29,l=Error(n(130,i===null?"null":typeof i,"")),c=null}return s=kn(E,l,s,h),s.elementType=i,s.type=c,s.lanes=g,s}function gs(i,s,l,c){return i=kn(7,i,c,s),i.lanes=l,i}function yp(i,s,l){return i=kn(6,i,null,s),i.lanes=l,i}function vp(i,s,l){return s=kn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var To=[],So=0,ff=null,df=0,Xn=[],$n=0,ms=null,hi=1,pi="";function ys(i,s){To[So++]=df,To[So++]=ff,ff=i,df=s}function Kv(i,s,l){Xn[$n++]=hi,Xn[$n++]=pi,Xn[$n++]=ms,ms=i;var c=hi;i=pi;var h=32-fn(c)-1;c&=~(1<<h),l+=1;var g=32-fn(s)+h;if(30<g){var E=h-h%5;g=(c&(1<<E)-1).toString(32),c>>=E,h-=E,hi=1<<32-fn(s)+h|l<<h|c,pi=g+i}else hi=1<<g|l<<h|c,pi=i}function _p(i){i.return!==null&&(ys(i,1),Kv(i,1,0))}function wp(i){for(;i===ff;)ff=To[--So],To[So]=null,df=To[--So],To[So]=null;for(;i===ms;)ms=Xn[--$n],Xn[$n]=null,pi=Xn[--$n],Xn[$n]=null,hi=Xn[--$n],Xn[$n]=null}var bn=null,Tt=null,$e=!1,vs=null,Mr=!1,Ep=Error(n(519));function _s(i){var s=Error(n(418,""));throw tu(Kn(s,i)),Ep}function Wv(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[Ht]=i,s[xt]=c,l){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(l=0;l<Du.length;l++)Fe(Du[l],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),rs(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),oo(s);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),is(s,c.value,c.defaultValue,c.children),oo(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||dw(s.textContent,l)?(c.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),c.onScroll!=null&&Fe("scroll",s),c.onScrollEnd!=null&&Fe("scrollend",s),c.onClick!=null&&(s.onclick=Gf),s=!0):s=!1,s||_s(i)}function Xv(i){for(bn=i.return;bn;)switch(bn.tag){case 5:case 13:Mr=!1;return;case 27:case 3:Mr=!0;return;default:bn=bn.return}}function Jl(i){if(i!==bn)return!1;if(!$e)return Xv(i),$e=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Vg(i.type,i.memoizedProps)),l=!l),l&&Tt&&_s(i),Xv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){Tt=pr(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}Tt=null}}else s===27?(s=Tt,ca(i.type)?(i=Fg,Fg=null,Tt=i):Tt=s):Tt=bn?pr(i.stateNode.nextSibling):null;return!0}function eu(){Tt=bn=null,$e=!1}function $v(){var i=vs;return i!==null&&(An===null?An=i:An.push.apply(An,i),vs=null),i}function tu(i){vs===null?vs=[i]:vs.push(i)}var bp=ne(null),ws=null,gi=null;function Wi(i,s,l){ce(bp,s._currentValue),s._currentValue=l}function mi(i){i._currentValue=bp.current,pe(bp)}function Tp(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function Sp(i,s,l,c){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var g=h.dependencies;if(g!==null){var E=h.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=h;for(var P=0;P<s.length;P++)if(S.context===s[P]){g.lanes|=l,S=g.alternate,S!==null&&(S.lanes|=l),Tp(g.return,l,i),c||(E=null);break e}g=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(n(341));E.lanes|=l,g=E.alternate,g!==null&&(g.lanes|=l),Tp(E,l,i),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===i){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function nu(i,s,l,c){i=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var S=h.type;xn(h.pendingProps.value,E.value)||(i!==null?i.push(S):i=[S])}}else if(h===Gt.current){if(E=h.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(Mu):i=[Mu])}h=h.return}i!==null&&Sp(s,i,l,c),s.flags|=262144}function hf(i){for(i=i.firstContext;i!==null;){if(!xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Es(i){ws=i,gi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function dn(i){return Zv(ws,i)}function pf(i,s){return ws===null&&Es(i),Zv(i,s)}function Zv(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},gi===null){if(i===null)throw Error(n(308));gi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else gi=gi.next=s;return l}var uC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},cC=r.unstable_scheduleCallback,fC=r.unstable_NormalPriority,jt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dp(){return{controller:new uC,data:new Map,refCount:0}}function ru(i){i.refCount--,i.refCount===0&&cC(fC,function(){i.controller.abort()})}var iu=null,Cp=0,Do=0,Co=null;function dC(i,s){if(iu===null){var l=iu=[];Cp=0,Do=Rg(),Co={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Cp++,s.then(Jv,Jv),s}function Jv(){if(--Cp===0&&iu!==null){Co!==null&&(Co.status="fulfilled");var i=iu;iu=null,Do=0,Co=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function hC(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var h=0;h<l.length;h++)(0,l[h])(s)},function(h){for(c.status="rejected",c.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),c}var e_=H.S;H.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&dC(i,s),e_!==null&&e_(i,s)};var bs=ne(null);function Ap(){var i=bs.current;return i!==null?i:ht.pooledCache}function gf(i,s){s===null?ce(bs,bs.current):ce(bs,s.pool)}function t_(){var i=Ap();return i===null?null:{parent:jt._currentValue,pool:i}}var au=Error(n(460)),n_=Error(n(474)),mf=Error(n(542)),Rp={then:function(){}};function r_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function yf(){}function i_(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(yf,yf),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,s_(i),i;default:if(typeof s.status=="string")s.then(yf,yf);else{if(i=ht,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=c}},function(c){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,s_(i),i}throw su=s,au}}var su=null;function a_(){if(su===null)throw Error(n(459));var i=su;return su=null,i}function s_(i){if(i===au||i===mf)throw Error(n(483))}var Xi=!1;function Ip(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Op(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function $i(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Zi(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(rt&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,s=uf(i),Gv(i,null,l),s}return lf(i,c,s,l),uf(i)}function ou(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Pl(i,l)}}function Mp(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var h=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?h=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?h=g=s:g=g.next=s}else h=g=s;l={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var xp=!1;function lu(){if(xp){var i=Co;if(i!==null)throw i}}function uu(i,s,l,c){xp=!1;var h=i.updateQueue;Xi=!1;var g=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var P=S,q=P.next;P.next=null,E===null?g=q:E.next=q,E=P;var J=i.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==E&&(S===null?J.firstBaseUpdate=q:S.next=q,J.lastBaseUpdate=P))}if(g!==null){var re=h.baseState;E=0,J=q=P=null,S=g;do{var G=S.lane&-536870913,K=G!==S.lane;if(K?(Ge&G)===G:(c&G)===G){G!==0&&G===Do&&(xp=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ie=i,De=S;G=s;var ct=l;switch(De.tag){case 1:if(Ie=De.payload,typeof Ie=="function"){re=Ie.call(ct,re,G);break e}re=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=De.payload,G=typeof Ie=="function"?Ie.call(ct,re,G):Ie,G==null)break e;re=y({},re,G);break e;case 2:Xi=!0}}G=S.callback,G!==null&&(i.flags|=64,K&&(i.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(q=J=K,P=re):J=J.next=K,E|=G;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);J===null&&(P=re),h.baseState=P,h.firstBaseUpdate=q,h.lastBaseUpdate=J,g===null&&(h.shared.lanes=0),sa|=E,i.lanes=E,i.memoizedState=re}}function o_(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function l_(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)o_(l[i],s)}var Ao=ne(null),vf=ne(0);function u_(i,s){i=Ti,ce(vf,i),ce(Ao,s),Ti=i|s.baseLanes}function kp(){ce(vf,Ti),ce(Ao,Ao.current)}function Np(){Ti=vf.current,pe(Ao),pe(vf)}var Ji=0,Pe=null,lt=null,Nt=null,_f=!1,Ro=!1,Ts=!1,wf=0,cu=0,Io=null,pC=0;function At(){throw Error(n(321))}function Pp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!xn(i[l],s[l]))return!1;return!0}function Lp(i,s,l,c,h,g){return Ji=g,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=i===null||i.memoizedState===null?G_:Q_,Ts=!1,g=l(c,h),Ts=!1,Ro&&(g=f_(s,l,c,h)),c_(i),g}function c_(i){H.H=Cf;var s=lt!==null&&lt.next!==null;if(Ji=0,Nt=lt=Pe=null,_f=!1,cu=0,Io=null,s)throw Error(n(300));i===null||Wt||(i=i.dependencies,i!==null&&hf(i)&&(Wt=!0))}function f_(i,s,l,c){Pe=i;var h=0;do{if(Ro&&(Io=null),cu=0,Ro=!1,25<=h)throw Error(n(301));if(h+=1,Nt=lt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=EC,g=s(l,c)}while(Ro);return g}function gC(){var i=H.H,s=i.useState()[0];return s=typeof s.then=="function"?fu(s):s,i=i.useState()[0],(lt!==null?lt.memoizedState:null)!==i&&(Pe.flags|=1024),s}function Vp(){var i=wf!==0;return wf=0,i}function Up(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Hp(i){if(_f){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}_f=!1}Ji=0,Nt=lt=Pe=null,Ro=!1,cu=wf=0,Io=null}function Dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Pe.memoizedState=Nt=i:Nt=Nt.next=i,Nt}function Pt(){if(lt===null){var i=Pe.alternate;i=i!==null?i.memoizedState:null}else i=lt.next;var s=Nt===null?Pe.memoizedState:Nt.next;if(s!==null)Nt=s,lt=i;else{if(i===null)throw Pe.alternate===null?Error(n(467)):Error(n(310));lt=i,i={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Nt===null?Pe.memoizedState=Nt=i:Nt=Nt.next=i}return Nt}function Bp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fu(i){var s=cu;return cu+=1,Io===null&&(Io=[]),i=i_(Io,i,s),s=Pe,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?G_:Q_),i}function Ef(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return fu(i);if(i.$$typeof===Q)return dn(i)}throw Error(n(438,String(i)))}function Fp(i){var s=null,l=Pe.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Bp(),Pe.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=O;return s.index++,l}function yi(i,s){return typeof s=="function"?s(i):s}function bf(i){var s=Pt();return jp(s,lt,i)}function jp(i,s,l){var c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=l;var h=i.baseQueue,g=c.pending;if(g!==null){if(h!==null){var E=h.next;h.next=g.next,g.next=E}s.baseQueue=h=g,c.pending=null}if(g=i.baseState,h===null)i.memoizedState=g;else{s=h.next;var S=E=null,P=null,q=s,J=!1;do{var re=q.lane&-536870913;if(re!==q.lane?(Ge&re)===re:(Ji&re)===re){var G=q.revertLane;if(G===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),re===Do&&(J=!0);else if((Ji&G)===G){q=q.next,G===Do&&(J=!0);continue}else re={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},P===null?(S=P=re,E=g):P=P.next=re,Pe.lanes|=G,sa|=G;re=q.action,Ts&&l(g,re),g=q.hasEagerState?q.eagerState:l(g,re)}else G={lane:re,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},P===null?(S=P=G,E=g):P=P.next=G,Pe.lanes|=re,sa|=re;q=q.next}while(q!==null&&q!==s);if(P===null?E=g:P.next=S,!xn(g,i.memoizedState)&&(Wt=!0,J&&(l=Co,l!==null)))throw l;i.memoizedState=g,i.baseState=E,i.baseQueue=P,c.lastRenderedState=g}return h===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function zp(i){var s=Pt(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var c=l.dispatch,h=l.pending,g=s.memoizedState;if(h!==null){l.pending=null;var E=h=h.next;do g=i(g,E.action),E=E.next;while(E!==h);xn(g,s.memoizedState)||(Wt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,c]}function d_(i,s,l){var c=Pe,h=Pt(),g=$e;if(g){if(l===void 0)throw Error(n(407));l=l()}else l=s();var E=!xn((lt||h).memoizedState,l);E&&(h.memoizedState=l,Wt=!0),h=h.queue;var S=g_.bind(null,c,h,i);if(du(2048,8,S,[i]),h.getSnapshot!==s||E||Nt!==null&&Nt.memoizedState.tag&1){if(c.flags|=2048,Oo(9,Tf(),p_.bind(null,c,h,l,s),null),ht===null)throw Error(n(349));g||(Ji&124)!==0||h_(c,s,l)}return l}function h_(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Pe.updateQueue,s===null?(s=Bp(),Pe.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function p_(i,s,l,c){s.value=l,s.getSnapshot=c,m_(s)&&y_(i)}function g_(i,s,l){return l(function(){m_(s)&&y_(i)})}function m_(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!xn(i,l)}catch{return!0}}function y_(i){var s=Eo(i,2);s!==null&&Un(s,i,2)}function Yp(i){var s=Dn();if(typeof i=="function"){var l=i;if(i=l(),Ts){On(!0);try{l()}finally{On(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:i},s}function v_(i,s,l,c){return i.baseState=l,jp(i,lt,typeof c=="function"?c:yi)}function mC(i,s,l,c,h){if(Df(i))throw Error(n(485));if(i=s.action,i!==null){var g={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};H.T!==null?l(!0):g.isTransition=!1,c(g),l=s.pending,l===null?(g.next=s.pending=g,__(s,g)):(g.next=l.next,s.pending=l.next=g)}}function __(i,s){var l=s.action,c=s.payload,h=i.state;if(s.isTransition){var g=H.T,E={};H.T=E;try{var S=l(h,c),P=H.S;P!==null&&P(E,S),w_(i,s,S)}catch(q){qp(i,s,q)}finally{H.T=g}}else try{g=l(h,c),w_(i,s,g)}catch(q){qp(i,s,q)}}function w_(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){E_(i,s,c)},function(c){return qp(i,s,c)}):E_(i,s,l)}function E_(i,s,l){s.status="fulfilled",s.value=l,b_(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,__(i,l)))}function qp(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,b_(s),s=s.next;while(s!==c)}i.action=null}function b_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function T_(i,s){return s}function S_(i,s){if($e){var l=ht.formState;if(l!==null){e:{var c=Pe;if($e){if(Tt){t:{for(var h=Tt,g=Mr;h.nodeType!==8;){if(!g){h=null;break t}if(h=pr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Tt=pr(h.nextSibling),c=h.data==="F!";break e}}_s(c)}c=!1}c&&(s=l[0])}}return l=Dn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T_,lastRenderedState:s},l.queue=c,l=z_.bind(null,Pe,c),c.dispatch=l,c=Yp(!1),g=Xp.bind(null,Pe,!1,c.queue),c=Dn(),h={state:s,dispatch:null,action:i,pending:null},c.queue=h,l=mC.bind(null,Pe,h,g,l),h.dispatch=l,c.memoizedState=i,[s,l,!1]}function D_(i){var s=Pt();return C_(s,lt,i)}function C_(i,s,l){if(s=jp(i,s,T_)[0],i=bf(yi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=fu(s)}catch(E){throw E===au?mf:E}else c=s;s=Pt();var h=s.queue,g=h.dispatch;return l!==s.memoizedState&&(Pe.flags|=2048,Oo(9,Tf(),yC.bind(null,h,l),null)),[c,g,i]}function yC(i,s){i.action=s}function A_(i){var s=Pt(),l=lt;if(l!==null)return C_(s,l,i);Pt(),s=s.memoizedState,l=Pt();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function Oo(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=Bp(),Pe.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function Tf(){return{destroy:void 0,resource:void 0}}function R_(){return Pt().memoizedState}function Sf(i,s,l,c){var h=Dn();c=c===void 0?null:c,Pe.flags|=i,h.memoizedState=Oo(1|s,Tf(),l,c)}function du(i,s,l,c){var h=Pt();c=c===void 0?null:c;var g=h.memoizedState.inst;lt!==null&&c!==null&&Pp(c,lt.memoizedState.deps)?h.memoizedState=Oo(s,g,l,c):(Pe.flags|=i,h.memoizedState=Oo(1|s,g,l,c))}function I_(i,s){Sf(8390656,8,i,s)}function O_(i,s){du(2048,8,i,s)}function M_(i,s){return du(4,2,i,s)}function x_(i,s){return du(4,4,i,s)}function k_(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function N_(i,s,l){l=l!=null?l.concat([i]):null,du(4,4,k_.bind(null,s,i),l)}function Gp(){}function P_(i,s){var l=Pt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Pp(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function L_(i,s){var l=Pt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Pp(s,c[1]))return c[0];if(c=i(),Ts){On(!0);try{i()}finally{On(!1)}}return l.memoizedState=[c,s],c}function Qp(i,s,l){return l===void 0||(Ji&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=H0(),Pe.lanes|=i,sa|=i,l)}function V_(i,s,l,c){return xn(l,s)?l:Ao.current!==null?(i=Qp(i,l,c),xn(i,s)||(Wt=!0),i):(Ji&42)===0?(Wt=!0,i.memoizedState=l):(i=H0(),Pe.lanes|=i,sa|=i,s)}function U_(i,s,l,c,h){var g=Z.p;Z.p=g!==0&&8>g?g:8;var E=H.T,S={};H.T=S,Xp(i,!1,s,l);try{var P=h(),q=H.S;if(q!==null&&q(S,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var J=hC(P,c);hu(i,s,J,Vn(i))}else hu(i,s,c,Vn(i))}catch(re){hu(i,s,{then:function(){},status:"rejected",reason:re},Vn())}finally{Z.p=g,H.T=E}}function vC(){}function Kp(i,s,l,c){if(i.tag!==5)throw Error(n(476));var h=H_(i).queue;U_(i,h,s,ue,l===null?vC:function(){return B_(i),l(c)})}function H_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:ue},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function B_(i){var s=H_(i).next.queue;hu(i,s,{},Vn())}function Wp(){return dn(Mu)}function F_(){return Pt().memoizedState}function j_(){return Pt().memoizedState}function _C(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=Vn();i=$i(l);var c=Zi(s,i,l);c!==null&&(Un(c,s,l),ou(c,s,l)),s={cache:Dp()},i.payload=s;return}s=s.return}}function wC(i,s,l){var c=Vn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Df(i)?Y_(s,l):(l=gp(i,s,l,c),l!==null&&(Un(l,i,c),q_(l,s,c)))}function z_(i,s,l){var c=Vn();hu(i,s,l,c)}function hu(i,s,l,c){var h={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Df(i))Y_(s,h);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,S=g(E,l);if(h.hasEagerState=!0,h.eagerState=S,xn(S,E))return lf(i,s,h,0),ht===null&&of(),!1}catch{}finally{}if(l=gp(i,s,h,c),l!==null)return Un(l,i,c),q_(l,s,c),!0}return!1}function Xp(i,s,l,c){if(c={lane:2,revertLane:Rg(),action:c,hasEagerState:!1,eagerState:null,next:null},Df(i)){if(s)throw Error(n(479))}else s=gp(i,l,c,2),s!==null&&Un(s,i,2)}function Df(i){var s=i.alternate;return i===Pe||s!==null&&s===Pe}function Y_(i,s){Ro=_f=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function q_(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Pl(i,l)}}var Cf={readContext:dn,use:Ef,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},G_={readContext:dn,use:Ef,useCallback:function(i,s){return Dn().memoizedState=[i,s===void 0?null:s],i},useContext:dn,useEffect:I_,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Sf(4194308,4,k_.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Sf(4194308,4,i,s)},useInsertionEffect:function(i,s){Sf(4,2,i,s)},useMemo:function(i,s){var l=Dn();s=s===void 0?null:s;var c=i();if(Ts){On(!0);try{i()}finally{On(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=Dn();if(l!==void 0){var h=l(s);if(Ts){On(!0);try{l(s)}finally{On(!1)}}}else h=s;return c.memoizedState=c.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},c.queue=i,i=i.dispatch=wC.bind(null,Pe,i),[c.memoizedState,i]},useRef:function(i){var s=Dn();return i={current:i},s.memoizedState=i},useState:function(i){i=Yp(i);var s=i.queue,l=z_.bind(null,Pe,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Gp,useDeferredValue:function(i,s){var l=Dn();return Qp(l,i,s)},useTransition:function(){var i=Yp(!1);return i=U_.bind(null,Pe,i.queue,!0,!1),Dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Pe,h=Dn();if($e){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),ht===null)throw Error(n(349));(Ge&124)!==0||h_(c,s,l)}h.memoizedState=l;var g={value:l,getSnapshot:s};return h.queue=g,I_(g_.bind(null,c,g,i),[i]),c.flags|=2048,Oo(9,Tf(),p_.bind(null,c,g,l,s),null),l},useId:function(){var i=Dn(),s=ht.identifierPrefix;if($e){var l=pi,c=hi;l=(c&~(1<<32-fn(c)-1)).toString(32)+l,s="«"+s+"R"+l,l=wf++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=pC++,s="«"+s+"r"+l.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:Wp,useFormState:S_,useActionState:S_,useOptimistic:function(i){var s=Dn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Xp.bind(null,Pe,!0,l),l.dispatch=s,[i,s]},useMemoCache:Fp,useCacheRefresh:function(){return Dn().memoizedState=_C.bind(null,Pe)}},Q_={readContext:dn,use:Ef,useCallback:P_,useContext:dn,useEffect:O_,useImperativeHandle:N_,useInsertionEffect:M_,useLayoutEffect:x_,useMemo:L_,useReducer:bf,useRef:R_,useState:function(){return bf(yi)},useDebugValue:Gp,useDeferredValue:function(i,s){var l=Pt();return V_(l,lt.memoizedState,i,s)},useTransition:function(){var i=bf(yi)[0],s=Pt().memoizedState;return[typeof i=="boolean"?i:fu(i),s]},useSyncExternalStore:d_,useId:F_,useHostTransitionStatus:Wp,useFormState:D_,useActionState:D_,useOptimistic:function(i,s){var l=Pt();return v_(l,lt,i,s)},useMemoCache:Fp,useCacheRefresh:j_},EC={readContext:dn,use:Ef,useCallback:P_,useContext:dn,useEffect:O_,useImperativeHandle:N_,useInsertionEffect:M_,useLayoutEffect:x_,useMemo:L_,useReducer:zp,useRef:R_,useState:function(){return zp(yi)},useDebugValue:Gp,useDeferredValue:function(i,s){var l=Pt();return lt===null?Qp(l,i,s):V_(l,lt.memoizedState,i,s)},useTransition:function(){var i=zp(yi)[0],s=Pt().memoizedState;return[typeof i=="boolean"?i:fu(i),s]},useSyncExternalStore:d_,useId:F_,useHostTransitionStatus:Wp,useFormState:A_,useActionState:A_,useOptimistic:function(i,s){var l=Pt();return lt!==null?v_(l,lt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Fp,useCacheRefresh:j_},Mo=null,pu=0;function Af(i){var s=pu;return pu+=1,Mo===null&&(Mo=[]),i_(Mo,i,s)}function gu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Rf(i,s){throw s.$$typeof===_?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function K_(i){var s=i._init;return s(i._payload)}function W_(i){function s(B,U){if(i){var z=B.deletions;z===null?(B.deletions=[U],B.flags|=16):z.push(U)}}function l(B,U){if(!i)return null;for(;U!==null;)s(B,U),U=U.sibling;return null}function c(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function h(B,U){return B=di(B,U),B.index=0,B.sibling=null,B}function g(B,U,z){return B.index=z,i?(z=B.alternate,z!==null?(z=z.index,z<U?(B.flags|=67108866,U):z):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function E(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function S(B,U,z,te){return U===null||U.tag!==6?(U=yp(z,B.mode,te),U.return=B,U):(U=h(U,z),U.return=B,U)}function P(B,U,z,te){var ve=z.type;return ve===k?J(B,U,z.props.children,te,z.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===T&&K_(ve)===U.type)?(U=h(U,z.props),gu(U,z),U.return=B,U):(U=cf(z.type,z.key,z.props,null,B.mode,te),gu(U,z),U.return=B,U)}function q(B,U,z,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==z.containerInfo||U.stateNode.implementation!==z.implementation?(U=vp(z,B.mode,te),U.return=B,U):(U=h(U,z.children||[]),U.return=B,U)}function J(B,U,z,te,ve){return U===null||U.tag!==7?(U=gs(z,B.mode,te,ve),U.return=B,U):(U=h(U,z),U.return=B,U)}function re(B,U,z){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=yp(""+U,B.mode,z),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return z=cf(U.type,U.key,U.props,null,B.mode,z),gu(z,U),z.return=B,z;case D:return U=vp(U,B.mode,z),U.return=B,U;case T:var te=U._init;return U=te(U._payload),re(B,U,z)}if(de(U)||N(U))return U=gs(U,B.mode,z,null),U.return=B,U;if(typeof U.then=="function")return re(B,Af(U),z);if(U.$$typeof===Q)return re(B,pf(B,U),z);Rf(B,U)}return null}function G(B,U,z,te){var ve=U!==null?U.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ve!==null?null:S(B,U,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return z.key===ve?P(B,U,z,te):null;case D:return z.key===ve?q(B,U,z,te):null;case T:return ve=z._init,z=ve(z._payload),G(B,U,z,te)}if(de(z)||N(z))return ve!==null?null:J(B,U,z,te,null);if(typeof z.then=="function")return G(B,U,Af(z),te);if(z.$$typeof===Q)return G(B,U,pf(B,z),te);Rf(B,z)}return null}function K(B,U,z,te,ve){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(z)||null,S(U,B,""+te,ve);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case b:return B=B.get(te.key===null?z:te.key)||null,P(U,B,te,ve);case D:return B=B.get(te.key===null?z:te.key)||null,q(U,B,te,ve);case T:var He=te._init;return te=He(te._payload),K(B,U,z,te,ve)}if(de(te)||N(te))return B=B.get(z)||null,J(U,B,te,ve,null);if(typeof te.then=="function")return K(B,U,z,Af(te),ve);if(te.$$typeof===Q)return K(B,U,z,pf(U,te),ve);Rf(U,te)}return null}function Ie(B,U,z,te){for(var ve=null,He=null,Ee=U,Ce=U=0,$t=null;Ee!==null&&Ce<z.length;Ce++){Ee.index>Ce?($t=Ee,Ee=null):$t=Ee.sibling;var Xe=G(B,Ee,z[Ce],te);if(Xe===null){Ee===null&&(Ee=$t);break}i&&Ee&&Xe.alternate===null&&s(B,Ee),U=g(Xe,U,Ce),He===null?ve=Xe:He.sibling=Xe,He=Xe,Ee=$t}if(Ce===z.length)return l(B,Ee),$e&&ys(B,Ce),ve;if(Ee===null){for(;Ce<z.length;Ce++)Ee=re(B,z[Ce],te),Ee!==null&&(U=g(Ee,U,Ce),He===null?ve=Ee:He.sibling=Ee,He=Ee);return $e&&ys(B,Ce),ve}for(Ee=c(Ee);Ce<z.length;Ce++)$t=K(Ee,B,Ce,z[Ce],te),$t!==null&&(i&&$t.alternate!==null&&Ee.delete($t.key===null?Ce:$t.key),U=g($t,U,Ce),He===null?ve=$t:He.sibling=$t,He=$t);return i&&Ee.forEach(function(ga){return s(B,ga)}),$e&&ys(B,Ce),ve}function De(B,U,z,te){if(z==null)throw Error(n(151));for(var ve=null,He=null,Ee=U,Ce=U=0,$t=null,Xe=z.next();Ee!==null&&!Xe.done;Ce++,Xe=z.next()){Ee.index>Ce?($t=Ee,Ee=null):$t=Ee.sibling;var ga=G(B,Ee,Xe.value,te);if(ga===null){Ee===null&&(Ee=$t);break}i&&Ee&&ga.alternate===null&&s(B,Ee),U=g(ga,U,Ce),He===null?ve=ga:He.sibling=ga,He=ga,Ee=$t}if(Xe.done)return l(B,Ee),$e&&ys(B,Ce),ve;if(Ee===null){for(;!Xe.done;Ce++,Xe=z.next())Xe=re(B,Xe.value,te),Xe!==null&&(U=g(Xe,U,Ce),He===null?ve=Xe:He.sibling=Xe,He=Xe);return $e&&ys(B,Ce),ve}for(Ee=c(Ee);!Xe.done;Ce++,Xe=z.next())Xe=K(Ee,B,Ce,Xe.value,te),Xe!==null&&(i&&Xe.alternate!==null&&Ee.delete(Xe.key===null?Ce:Xe.key),U=g(Xe,U,Ce),He===null?ve=Xe:He.sibling=Xe,He=Xe);return i&&Ee.forEach(function(bA){return s(B,bA)}),$e&&ys(B,Ce),ve}function ct(B,U,z,te){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case b:e:{for(var ve=z.key;U!==null;){if(U.key===ve){if(ve=z.type,ve===k){if(U.tag===7){l(B,U.sibling),te=h(U,z.props.children),te.return=B,B=te;break e}}else if(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===T&&K_(ve)===U.type){l(B,U.sibling),te=h(U,z.props),gu(te,z),te.return=B,B=te;break e}l(B,U);break}else s(B,U);U=U.sibling}z.type===k?(te=gs(z.props.children,B.mode,te,z.key),te.return=B,B=te):(te=cf(z.type,z.key,z.props,null,B.mode,te),gu(te,z),te.return=B,B=te)}return E(B);case D:e:{for(ve=z.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===z.containerInfo&&U.stateNode.implementation===z.implementation){l(B,U.sibling),te=h(U,z.children||[]),te.return=B,B=te;break e}else{l(B,U);break}else s(B,U);U=U.sibling}te=vp(z,B.mode,te),te.return=B,B=te}return E(B);case T:return ve=z._init,z=ve(z._payload),ct(B,U,z,te)}if(de(z))return Ie(B,U,z,te);if(N(z)){if(ve=N(z),typeof ve!="function")throw Error(n(150));return z=ve.call(z),De(B,U,z,te)}if(typeof z.then=="function")return ct(B,U,Af(z),te);if(z.$$typeof===Q)return ct(B,U,pf(B,z),te);Rf(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,U!==null&&U.tag===6?(l(B,U.sibling),te=h(U,z),te.return=B,B=te):(l(B,U),te=yp(z,B.mode,te),te.return=B,B=te),E(B)):l(B,U)}return function(B,U,z,te){try{pu=0;var ve=ct(B,U,z,te);return Mo=null,ve}catch(Ee){if(Ee===au||Ee===mf)throw Ee;var He=kn(29,Ee,null,B.mode);return He.lanes=te,He.return=B,He}finally{}}}var xo=W_(!0),X_=W_(!1),Zn=ne(null),xr=null;function ea(i){var s=i.alternate;ce(zt,zt.current&1),ce(Zn,i),xr===null&&(s===null||Ao.current!==null||s.memoizedState!==null)&&(xr=i)}function $_(i){if(i.tag===22){if(ce(zt,zt.current),ce(Zn,i),xr===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(xr=i)}}else ta()}function ta(){ce(zt,zt.current),ce(Zn,Zn.current)}function vi(i){pe(Zn),xr===i&&(xr=null),pe(zt)}var zt=ne(0);function If(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Bg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function $p(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Zp={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=Vn(),h=$i(c);h.payload=s,l!=null&&(h.callback=l),s=Zi(i,h,c),s!==null&&(Un(s,i,c),ou(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=Vn(),h=$i(c);h.tag=1,h.payload=s,l!=null&&(h.callback=l),s=Zi(i,h,c),s!==null&&(Un(s,i,c),ou(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Vn(),c=$i(l);c.tag=2,s!=null&&(c.callback=s),s=Zi(i,c,l),s!==null&&(Un(s,i,l),ou(s,i,l))}};function Z_(i,s,l,c,h,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,E):s.prototype&&s.prototype.isPureReactComponent?!$l(l,c)||!$l(h,g):!0}function J_(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&Zp.enqueueReplaceState(s,s.state,null)}function Ss(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var h in i)l[h]===void 0&&(l[h]=i[h])}return l}var Of=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function e0(i){Of(i)}function t0(i){console.error(i)}function n0(i){Of(i)}function Mf(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function r0(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jp(i,s,l){return l=$i(l),l.tag=3,l.payload={element:null},l.callback=function(){Mf(i,s)},l}function i0(i){return i=$i(i),i.tag=3,i}function a0(i,s,l,c){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var g=c.value;i.payload=function(){return h(g)},i.callback=function(){r0(s,l,c)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){r0(s,l,c),typeof h!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function bC(i,s,l,c,h){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&nu(s,l,h,!0),l=Zn.current,l!==null){switch(l.tag){case 13:return xr===null?Tg():l.alternate===null&&St===0&&(St=3),l.flags&=-257,l.flags|=65536,l.lanes=h,c===Rp?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Dg(i,c,h)),!1;case 22:return l.flags|=65536,c===Rp?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Dg(i,c,h)),!1}throw Error(n(435,l.tag))}return Dg(i,c,h),Tg(),!1}if($e)return s=Zn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,c!==Ep&&(i=Error(n(422),{cause:c}),tu(Kn(i,l)))):(c!==Ep&&(s=Error(n(423),{cause:c}),tu(Kn(s,l))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,c=Kn(c,l),h=Jp(i.stateNode,c,h),Mp(i,h),St!==4&&(St=2)),!1;var g=Error(n(520),{cause:c});if(g=Kn(g,l),bu===null?bu=[g]:bu.push(g),St!==4&&(St=2),s===null)return!0;c=Kn(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=h&-h,l.lanes|=i,i=Jp(l.stateNode,c,i),Mp(l,i),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(oa===null||!oa.has(g))))return l.flags|=65536,h&=-h,l.lanes|=h,h=i0(h),a0(h,i,l,c),Mp(l,h),!1}l=l.return}while(l!==null);return!1}var s0=Error(n(461)),Wt=!1;function nn(i,s,l,c){s.child=i===null?X_(s,null,l,c):xo(s,i.child,l,c)}function o0(i,s,l,c,h){l=l.render;var g=s.ref;if("ref"in c){var E={};for(var S in c)S!=="ref"&&(E[S]=c[S])}else E=c;return Es(s),c=Lp(i,s,l,E,g,h),S=Vp(),i!==null&&!Wt?(Up(i,s,h),_i(i,s,h)):($e&&S&&_p(s),s.flags|=1,nn(i,s,c,h),s.child)}function l0(i,s,l,c,h){if(i===null){var g=l.type;return typeof g=="function"&&!mp(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,u0(i,s,g,c,h)):(i=cf(l.type,null,c,s,s.mode,h),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!og(i,h)){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:$l,l(E,c)&&i.ref===s.ref)return _i(i,s,h)}return s.flags|=1,i=di(g,c),i.ref=s.ref,i.return=s,s.child=i}function u0(i,s,l,c,h){if(i!==null){var g=i.memoizedProps;if($l(g,c)&&i.ref===s.ref)if(Wt=!1,s.pendingProps=c=g,og(i,h))(i.flags&131072)!==0&&(Wt=!0);else return s.lanes=i.lanes,_i(i,s,h)}return eg(i,s,l,c,h)}function c0(i,s,l){var c=s.pendingProps,h=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|l:l,i!==null){for(h=s.child=i.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return f0(i,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&gf(s,g!==null?g.cachePool:null),g!==null?u_(s,g):kp(),$_(s);else return s.lanes=s.childLanes=536870912,f0(i,s,g!==null?g.baseLanes|l:l,l)}else g!==null?(gf(s,g.cachePool),u_(s,g),ta(),s.memoizedState=null):(i!==null&&gf(s,null),kp(),ta());return nn(i,s,h,l),s.child}function f0(i,s,l,c){var h=Ap();return h=h===null?null:{parent:jt._currentValue,pool:h},s.memoizedState={baseLanes:l,cachePool:h},i!==null&&gf(s,null),kp(),$_(s),i!==null&&nu(i,s,c,!0),null}function xf(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function eg(i,s,l,c,h){return Es(s),l=Lp(i,s,l,c,void 0,h),c=Vp(),i!==null&&!Wt?(Up(i,s,h),_i(i,s,h)):($e&&c&&_p(s),s.flags|=1,nn(i,s,l,h),s.child)}function d0(i,s,l,c,h,g){return Es(s),s.updateQueue=null,l=f_(s,c,l,h),c_(i),c=Vp(),i!==null&&!Wt?(Up(i,s,g),_i(i,s,g)):($e&&c&&_p(s),s.flags|=1,nn(i,s,l,g),s.child)}function h0(i,s,l,c,h){if(Es(s),s.stateNode===null){var g=bo,E=l.contextType;typeof E=="object"&&E!==null&&(g=dn(E)),g=new l(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Zp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Ip(s),E=l.contextType,g.context=typeof E=="object"&&E!==null?dn(E):bo,g.state=s.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&($p(s,l,E,c),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Zp.enqueueReplaceState(g,g.state,null),uu(s,c,g,h),lu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var S=s.memoizedProps,P=Ss(l,S);g.props=P;var q=g.context,J=l.contextType;E=bo,typeof J=="object"&&J!==null&&(E=dn(J));var re=l.getDerivedStateFromProps;J=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||q!==E)&&J_(s,g,c,E),Xi=!1;var G=s.memoizedState;g.state=G,uu(s,c,g,h),lu(),q=s.memoizedState,S||G!==q||Xi?(typeof re=="function"&&($p(s,l,re,c),q=s.memoizedState),(P=Xi||Z_(s,l,P,c,G,q,E))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=q),g.props=c,g.state=q,g.context=E,c=P):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Op(i,s),E=s.memoizedProps,J=Ss(l,E),g.props=J,re=s.pendingProps,G=g.context,q=l.contextType,P=bo,typeof q=="object"&&q!==null&&(P=dn(q)),S=l.getDerivedStateFromProps,(q=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==re||G!==P)&&J_(s,g,c,P),Xi=!1,G=s.memoizedState,g.state=G,uu(s,c,g,h),lu();var K=s.memoizedState;E!==re||G!==K||Xi||i!==null&&i.dependencies!==null&&hf(i.dependencies)?(typeof S=="function"&&($p(s,l,S,c),K=s.memoizedState),(J=Xi||Z_(s,l,J,c,G,K,P)||i!==null&&i.dependencies!==null&&hf(i.dependencies))?(q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,K,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,K,P)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=K),g.props=c,g.state=K,g.context=P,c=J):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,xf(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=xo(s,i.child,null,h),s.child=xo(s,null,l,h)):nn(i,s,l,h),s.memoizedState=g.state,i=s.child):i=_i(i,s,h),i}function p0(i,s,l,c){return eu(),s.flags|=256,nn(i,s,l,c),s.child}var tg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ng(i){return{baseLanes:i,cachePool:t_()}}function rg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Jn),i}function g0(i,s,l){var c=s.pendingProps,h=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(zt.current&2)!==0),E&&(h=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if($e){if(h?ea(s):ta(),$e){var S=Tt,P;if(P=S){e:{for(P=S,S=Mr;P.nodeType!==8;){if(!S){S=null;break e}if(P=pr(P.nextSibling),P===null){S=null;break e}}S=P}S!==null?(s.memoizedState={dehydrated:S,treeContext:ms!==null?{id:hi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},P=kn(18,null,null,0),P.stateNode=S,P.return=s,s.child=P,bn=s,Tt=null,P=!0):P=!1}P||_s(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Bg(S)?s.lanes=32:s.lanes=536870912,null;vi(s)}return S=c.children,c=c.fallback,h?(ta(),h=s.mode,S=kf({mode:"hidden",children:S},h),c=gs(c,h,l,null),S.return=s,c.return=s,S.sibling=c,s.child=S,h=s.child,h.memoizedState=ng(l),h.childLanes=rg(i,E,l),s.memoizedState=tg,c):(ea(s),ig(s,S))}if(P=i.memoizedState,P!==null&&(S=P.dehydrated,S!==null)){if(g)s.flags&256?(ea(s),s.flags&=-257,s=ag(i,s,l)):s.memoizedState!==null?(ta(),s.child=i.child,s.flags|=128,s=null):(ta(),h=c.fallback,S=s.mode,c=kf({mode:"visible",children:c.children},S),h=gs(h,S,l,null),h.flags|=2,c.return=s,h.return=s,c.sibling=h,s.child=c,xo(s,i.child,null,l),c=s.child,c.memoizedState=ng(l),c.childLanes=rg(i,E,l),s.memoizedState=tg,s=h);else if(ea(s),Bg(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var q=E.dgst;E=q,c=Error(n(419)),c.stack="",c.digest=E,tu({value:c,source:null,stack:null}),s=ag(i,s,l)}else if(Wt||nu(i,s,l,!1),E=(l&i.childLanes)!==0,Wt||E){if(E=ht,E!==null&&(c=l&-l,c=(c&42)!==0?1:ji(c),c=(c&(E.suspendedLanes|l))!==0?0:c,c!==0&&c!==P.retryLane))throw P.retryLane=c,Eo(i,c),Un(E,i,c),s0;S.data==="$?"||Tg(),s=ag(i,s,l)}else S.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=P.treeContext,Tt=pr(S.nextSibling),bn=s,$e=!0,vs=null,Mr=!1,i!==null&&(Xn[$n++]=hi,Xn[$n++]=pi,Xn[$n++]=ms,hi=i.id,pi=i.overflow,ms=s),s=ig(s,c.children),s.flags|=4096);return s}return h?(ta(),h=c.fallback,S=s.mode,P=i.child,q=P.sibling,c=di(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,q!==null?h=di(q,h):(h=gs(h,S,l,null),h.flags|=2),h.return=s,c.return=s,c.sibling=h,s.child=c,c=h,h=s.child,S=i.child.memoizedState,S===null?S=ng(l):(P=S.cachePool,P!==null?(q=jt._currentValue,P=P.parent!==q?{parent:q,pool:q}:P):P=t_(),S={baseLanes:S.baseLanes|l,cachePool:P}),h.memoizedState=S,h.childLanes=rg(i,E,l),s.memoizedState=tg,c):(ea(s),l=i.child,i=l.sibling,l=di(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=l,s.memoizedState=null,l)}function ig(i,s){return s=kf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function kf(i,s){return i=kn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function ag(i,s,l){return xo(s,i.child,null,l),i=ig(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function m0(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Tp(i.return,s,l)}function sg(i,s,l,c,h){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=h)}function y0(i,s,l){var c=s.pendingProps,h=c.revealOrder,g=c.tail;if(nn(i,s,c.children,l),c=zt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&m0(i,l,s);else if(i.tag===19)m0(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(ce(zt,c),h){case"forwards":for(l=s.child,h=null;l!==null;)i=l.alternate,i!==null&&If(i)===null&&(h=l),l=l.sibling;l=h,l===null?(h=s.child,s.child=null):(h=l.sibling,l.sibling=null),sg(s,!1,h,l,g);break;case"backwards":for(l=null,h=s.child,s.child=null;h!==null;){if(i=h.alternate,i!==null&&If(i)===null){s.child=h;break}i=h.sibling,h.sibling=l,l=h,h=i}sg(s,!0,l,null,g);break;case"together":sg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _i(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),sa|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(nu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,l=di(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=di(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function og(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&hf(i)))}function TC(i,s,l){switch(s.tag){case 3:dt(s,s.stateNode.containerInfo),Wi(s,jt,i.memoizedState.cache),eu();break;case 27:case 5:Fi(s);break;case 4:dt(s,s.stateNode.containerInfo);break;case 10:Wi(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ea(s),s.flags|=128,null):(l&s.child.childLanes)!==0?g0(i,s,l):(ea(s),i=_i(i,s,l),i!==null?i.sibling:null);ea(s);break;case 19:var h=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(nu(i,s,l,!1),c=(l&s.childLanes)!==0),h){if(c)return y0(i,s,l);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(zt,zt.current),c)break;return null;case 22:case 23:return s.lanes=0,c0(i,s,l);case 24:Wi(s,jt,i.memoizedState.cache)}return _i(i,s,l)}function v0(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Wt=!0;else{if(!og(i,l)&&(s.flags&128)===0)return Wt=!1,TC(i,s,l);Wt=(i.flags&131072)!==0}else Wt=!1,$e&&(s.flags&1048576)!==0&&Kv(s,df,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,h=c._init;if(c=h(c._payload),s.type=c,typeof c=="function")mp(c)?(i=Ss(c,i),s.tag=1,s=h0(null,s,c,i,l)):(s.tag=0,s=eg(null,s,c,i,l));else{if(c!=null){if(h=c.$$typeof,h===le){s.tag=11,s=o0(null,s,c,i,l);break e}else if(h===R){s.tag=14,s=l0(null,s,c,i,l);break e}}throw s=he(c)||c,Error(n(306,s,""))}}return s;case 0:return eg(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,h=Ss(c,s.pendingProps),h0(i,s,c,h,l);case 3:e:{if(dt(s,s.stateNode.containerInfo),i===null)throw Error(n(387));c=s.pendingProps;var g=s.memoizedState;h=g.element,Op(i,s),uu(s,c,null,l);var E=s.memoizedState;if(c=E.cache,Wi(s,jt,c),c!==g.cache&&Sp(s,[jt],l,!0),lu(),c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=p0(i,s,c,l);break e}else if(c!==h){h=Kn(Error(n(424)),s),tu(h),s=p0(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Tt=pr(i.firstChild),bn=s,$e=!0,vs=null,Mr=!0,l=X_(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(eu(),c===h){s=_i(i,s,l);break e}nn(i,s,c,l)}s=s.child}return s;case 26:return xf(i,s),i===null?(l=bw(s.type,null,s.pendingProps,null))?s.memoizedState=l:$e||(l=s.type,i=s.pendingProps,c=Qf(Oe.current).createElement(l),c[Ht]=s,c[xt]=i,an(c,l,i),Ct(c),s.stateNode=c):s.memoizedState=bw(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Fi(s),i===null&&$e&&(c=s.stateNode=_w(s.type,s.pendingProps,Oe.current),bn=s,Mr=!0,h=Tt,ca(s.type)?(Fg=h,Tt=pr(c.firstChild)):Tt=h),nn(i,s,s.pendingProps.children,l),xf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&$e&&((h=c=Tt)&&(c=$C(c,s.type,s.pendingProps,Mr),c!==null?(s.stateNode=c,bn=s,Tt=pr(c.firstChild),Mr=!1,h=!0):h=!1),h||_s(s)),Fi(s),h=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,c=g.children,Vg(h,g)?c=null:E!==null&&Vg(h,E)&&(s.flags|=32),s.memoizedState!==null&&(h=Lp(i,s,gC,null,null,l),Mu._currentValue=h),xf(i,s),nn(i,s,c,l),s.child;case 6:return i===null&&$e&&((i=l=Tt)&&(l=ZC(l,s.pendingProps,Mr),l!==null?(s.stateNode=l,bn=s,Tt=null,i=!0):i=!1),i||_s(s)),null;case 13:return g0(i,s,l);case 4:return dt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=xo(s,null,c,l):nn(i,s,c,l),s.child;case 11:return o0(i,s,s.type,s.pendingProps,l);case 7:return nn(i,s,s.pendingProps,l),s.child;case 8:return nn(i,s,s.pendingProps.children,l),s.child;case 12:return nn(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,Wi(s,s.type,c.value),nn(i,s,c.children,l),s.child;case 9:return h=s.type._context,c=s.pendingProps.children,Es(s),h=dn(h),c=c(h),s.flags|=1,nn(i,s,c,l),s.child;case 14:return l0(i,s,s.type,s.pendingProps,l);case 15:return u0(i,s,s.type,s.pendingProps,l);case 19:return y0(i,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},i===null?(l=kf(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=di(i.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return c0(i,s,l);case 24:return Es(s),c=dn(jt),i===null?(h=Ap(),h===null&&(h=ht,g=Dp(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=l),h=g),s.memoizedState={parent:c,cache:h},Ip(s),Wi(s,jt,h)):((i.lanes&l)!==0&&(Op(i,s),uu(s,null,null,l),lu()),h=i.memoizedState,g=s.memoizedState,h.parent!==c?(h={parent:c,cache:c},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Wi(s,jt,c)):(c=g.cache,Wi(s,jt,c),c!==h.cache&&Sp(s,[jt],l,!0))),nn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function wi(i){i.flags|=4}function _0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Aw(s)){if(s=Zn.current,s!==null&&((Ge&4194048)===Ge?xr!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||s!==xr))throw su=Rp,n_;i.flags|=8192}}function Nf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?kl():536870912,i.lanes|=s,Lo|=s)}function mu(i,s){if(!$e)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function _t(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var h=i.child;h!==null;)l|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)l|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function SC(i,s,l){var c=s.pendingProps;switch(wp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(s),null;case 1:return _t(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),mi(jt),_r(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Jl(s)?wi(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$v())),_t(s),null;case 26:return l=s.memoizedState,i===null?(wi(s),l!==null?(_t(s),_0(s,l)):(_t(s),s.flags&=-16777217)):l?l!==i.memoizedState?(wi(s),_t(s),_0(s,l)):(_t(s),s.flags&=-16777217):(i.memoizedProps!==c&&wi(s),_t(s),s.flags&=-16777217),null;case 27:Jr(s),l=Oe.current;var h=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&wi(s);else{if(!c){if(s.stateNode===null)throw Error(n(166));return _t(s),null}i=be.current,Jl(s)?Wv(s):(i=_w(h,c,l),s.stateNode=i,wi(s))}return _t(s),null;case 5:if(Jr(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&wi(s);else{if(!c){if(s.stateNode===null)throw Error(n(166));return _t(s),null}if(i=be.current,Jl(s))Wv(s);else{switch(h=Qf(Oe.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?h.createElement(l,{is:c.is}):h.createElement(l)}}i[Ht]=s,i[xt]=c;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=i;e:switch(an(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&wi(s)}}return _t(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&wi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(i=Oe.current,Jl(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,h=bn,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}i[Ht]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||dw(i.nodeValue,l)),i||_s(s)}else i=Qf(i).createTextNode(c),i[Ht]=s,s.stateNode=i}return _t(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Jl(s),c!==null&&c.dehydrated!==null){if(i===null){if(!h)throw Error(n(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[Ht]=s}else eu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),h=!1}else h=$v(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(vi(s),s):(vi(s),null)}if(vi(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=s.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),Nf(s,s.updateQueue),_t(s),null;case 4:return _r(),i===null&&xg(s.stateNode.containerInfo),_t(s),null;case 10:return mi(s.type),_t(s),null;case 19:if(pe(zt),h=s.memoizedState,h===null)return _t(s),null;if(c=(s.flags&128)!==0,g=h.rendering,g===null)if(c)mu(h,!1);else{if(St!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=If(i),g!==null){for(s.flags|=128,mu(h,!1),i=g.updateQueue,s.updateQueue=i,Nf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Qv(l,i),l=l.sibling;return ce(zt,zt.current&1|2),s.child}i=i.sibling}h.tail!==null&&jn()>Vf&&(s.flags|=128,c=!0,mu(h,!1),s.lanes=4194304)}else{if(!c)if(i=If(g),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,Nf(s,i),mu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!$e)return _t(s),null}else 2*jn()-h.renderingStartTime>Vf&&l!==536870912&&(s.flags|=128,c=!0,mu(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(i=h.last,i!==null?i.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=jn(),s.sibling=null,i=zt.current,ce(zt,c?i&1|2:i&1),s):(_t(s),null);case 22:case 23:return vi(s),Np(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(_t(s),s.subtreeFlags&6&&(s.flags|=8192)):_t(s),l=s.updateQueue,l!==null&&Nf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&pe(bs),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),mi(jt),_t(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function DC(i,s){switch(wp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return mi(jt),_r(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Jr(s),null;case 13:if(vi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));eu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return pe(zt),null;case 4:return _r(),null;case 10:return mi(s.type),null;case 22:case 23:return vi(s),Np(),i!==null&&pe(bs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return mi(jt),null;case 25:return null;default:return null}}function w0(i,s){switch(wp(s),s.tag){case 3:mi(jt),_r();break;case 26:case 27:case 5:Jr(s);break;case 4:_r();break;case 13:vi(s);break;case 19:pe(zt);break;case 10:mi(s.type);break;case 22:case 23:vi(s),Np(),i!==null&&pe(bs);break;case 24:mi(jt)}}function yu(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&i)===i){c=void 0;var g=l.create,E=l.inst;c=g(),E.destroy=c}l=l.next}while(l!==h)}}catch(S){ft(s,s.return,S)}}function na(i,s,l){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&i)===i){var E=c.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=s;var P=l,q=S;try{q()}catch(J){ft(h,P,J)}}}c=c.next}while(c!==g)}}catch(J){ft(s,s.return,J)}}function E0(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{l_(s,l)}catch(c){ft(i,i.return,c)}}}function b0(i,s,l){l.props=Ss(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){ft(i,s,c)}}function vu(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(h){ft(i,s,h)}}function kr(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(h){ft(i,s,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){ft(i,s,h)}else l.current=null}function T0(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(h){ft(i,i.return,h)}}function lg(i,s,l){try{var c=i.stateNode;GC(c,i.type,l,s),c[xt]=s}catch(h){ft(i,i.return,h)}}function S0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ca(i.type)||i.tag===4}function ug(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||S0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ca(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function cg(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Gf));else if(c!==4&&(c===27&&ca(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(cg(i,s,l),i=i.sibling;i!==null;)cg(i,s,l),i=i.sibling}function Pf(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&ca(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Pf(i,s,l),i=i.sibling;i!==null;)Pf(i,s,l),i=i.sibling}function D0(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);an(s,c,l),s[Ht]=i,s[xt]=l}catch(g){ft(i,i.return,g)}}var Ei=!1,Rt=!1,fg=!1,C0=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function CC(i,s){if(i=i.containerInfo,Pg=Jf,i=Vv(i),up(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,S=-1,P=-1,q=0,J=0,re=i,G=null;t:for(;;){for(var K;re!==l||h!==0&&re.nodeType!==3||(S=E+h),re!==g||c!==0&&re.nodeType!==3||(P=E+c),re.nodeType===3&&(E+=re.nodeValue.length),(K=re.firstChild)!==null;)G=re,re=K;for(;;){if(re===i)break t;if(G===l&&++q===h&&(S=E),G===g&&++J===c&&(P=E),(K=re.nextSibling)!==null)break;re=G,G=re.parentNode}re=K}l=S===-1||P===-1?null:{start:S,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Lg={focusedElem:i,selectionRange:l},Jf=!1,Xt=s;Xt!==null;)if(s=Xt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Xt=i;else for(;Xt!==null;){switch(s=Xt,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=s,h=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var Ie=Ss(l.type,h,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Ie,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(De){ft(l,l.return,De)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Hg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Xt=i;break}Xt=s.return}}function A0(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ra(i,l),c&4&&yu(5,l);break;case 1:if(ra(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(E){ft(l,l.return,E)}else{var h=Ss(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(h,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){ft(l,l.return,E)}}c&64&&E0(l),c&512&&vu(l,l.return);break;case 3:if(ra(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{l_(i,s)}catch(E){ft(l,l.return,E)}}break;case 27:s===null&&c&4&&D0(l);case 26:case 5:ra(i,l),s===null&&c&4&&T0(l),c&512&&vu(l,l.return);break;case 12:ra(i,l);break;case 13:ra(i,l),c&4&&O0(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=PC.bind(null,l),JC(i,l))));break;case 22:if(c=l.memoizedState!==null||Ei,!c){s=s!==null&&s.memoizedState!==null||Rt,h=Ei;var g=Rt;Ei=c,(Rt=s)&&!g?ia(i,l,(l.subtreeFlags&8772)!==0):ra(i,l),Ei=h,Rt=g}break;case 30:break;default:ra(i,l)}}function R0(i){var s=i.alternate;s!==null&&(i.alternate=null,R0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&qi(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var yt=null,Cn=!1;function bi(i,s,l){for(l=l.child;l!==null;)I0(i,s,l),l=l.sibling}function I0(i,s,l){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(bt,l)}catch{}switch(l.tag){case 26:Rt||kr(l,s),bi(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Rt||kr(l,s);var c=yt,h=Cn;ca(l.type)&&(yt=l.stateNode,Cn=!1),bi(i,s,l),Au(l.stateNode),yt=c,Cn=h;break;case 5:Rt||kr(l,s);case 6:if(c=yt,h=Cn,yt=null,bi(i,s,l),yt=c,Cn=h,yt!==null)if(Cn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(l.stateNode)}catch(g){ft(l,s,g)}else try{yt.removeChild(l.stateNode)}catch(g){ft(l,s,g)}break;case 18:yt!==null&&(Cn?(i=yt,yw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Pu(i)):yw(yt,l.stateNode));break;case 4:c=yt,h=Cn,yt=l.stateNode.containerInfo,Cn=!0,bi(i,s,l),yt=c,Cn=h;break;case 0:case 11:case 14:case 15:Rt||na(2,l,s),Rt||na(4,l,s),bi(i,s,l);break;case 1:Rt||(kr(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&b0(l,s,c)),bi(i,s,l);break;case 21:bi(i,s,l);break;case 22:Rt=(c=Rt)||l.memoizedState!==null,bi(i,s,l),Rt=c;break;default:bi(i,s,l)}}function O0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Pu(i)}catch(l){ft(s,s.return,l)}}function AC(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new C0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new C0),s;default:throw Error(n(435,i.tag))}}function dg(i,s){var l=AC(i);s.forEach(function(c){var h=LC.bind(null,i,c);l.has(c)||(l.add(c),c.then(h,h))})}function Nn(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var h=l[c],g=i,E=s,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(ca(S.type)){yt=S.stateNode,Cn=!1;break e}break;case 5:yt=S.stateNode,Cn=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,Cn=!0;break e}S=S.return}if(yt===null)throw Error(n(160));I0(g,E,h),yt=null,Cn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)M0(s,i),s=s.sibling}var hr=null;function M0(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Nn(s,i),Pn(i),c&4&&(na(3,i,i.return),yu(3,i),na(5,i,i.return));break;case 1:Nn(s,i),Pn(i),c&512&&(Rt||l===null||kr(l,l.return)),c&64&&Ei&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var h=hr;if(Nn(s,i),Pn(i),c&512&&(Rt||l===null||kr(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Ja]||g[Ht]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(c),h.head.insertBefore(g,h.querySelector("head > title"))),an(g,c,l),g[Ht]=i,Ct(g),c=g;break e;case"link":var E=Dw("link","href",h).get(c+(l.href||""));if(E){for(var S=0;S<E.length;S++)if(g=E[S],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(S,1);break t}}g=h.createElement(c),an(g,c,l),h.head.appendChild(g);break;case"meta":if(E=Dw("meta","content",h).get(c+(l.content||""))){for(S=0;S<E.length;S++)if(g=E[S],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(S,1);break t}}g=h.createElement(c),an(g,c,l),h.head.appendChild(g);break;default:throw Error(n(468,c))}g[Ht]=i,Ct(g),c=g}i.stateNode=c}else Cw(h,i.type,i.stateNode);else i.stateNode=Sw(h,c,i.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?Cw(h,i.type,i.stateNode):Sw(h,c,i.memoizedProps)):c===null&&i.stateNode!==null&&lg(i,i.memoizedProps,l.memoizedProps)}break;case 27:Nn(s,i),Pn(i),c&512&&(Rt||l===null||kr(l,l.return)),l!==null&&c&4&&lg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Nn(s,i),Pn(i),c&512&&(Rt||l===null||kr(l,l.return)),i.flags&32){h=i.stateNode;try{Yn(h,"")}catch(K){ft(i,i.return,K)}}c&4&&i.stateNode!=null&&(h=i.memoizedProps,lg(i,h,l!==null?l.memoizedProps:h)),c&1024&&(fg=!0);break;case 6:if(Nn(s,i),Pn(i),c&4){if(i.stateNode===null)throw Error(n(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(K){ft(i,i.return,K)}}break;case 3:if(Xf=null,h=hr,hr=Kf(s.containerInfo),Nn(s,i),hr=h,Pn(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Pu(s.containerInfo)}catch(K){ft(i,i.return,K)}fg&&(fg=!1,x0(i));break;case 4:c=hr,hr=Kf(i.stateNode.containerInfo),Nn(s,i),Pn(i),hr=c;break;case 12:Nn(s,i),Pn(i);break;case 13:Nn(s,i),Pn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vg=jn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,dg(i,c)));break;case 22:h=i.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,q=Ei,J=Rt;if(Ei=q||h,Rt=J||P,Nn(s,i),Rt=J,Ei=q,Pn(i),c&8192)e:for(s=i.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(l===null||P||Ei||Rt||Ds(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){P=l=s;try{if(g=P.stateNode,h)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=P.stateNode;var re=P.memoizedProps.style,G=re!=null&&re.hasOwnProperty("display")?re.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){ft(P,P.return,K)}}}else if(s.tag===6){if(l===null){P=s;try{P.stateNode.nodeValue=h?"":P.memoizedProps}catch(K){ft(P,P.return,K)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,dg(i,l))));break;case 19:Nn(s,i),Pn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,dg(i,c)));break;case 30:break;case 21:break;default:Nn(s,i),Pn(i)}}function Pn(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(S0(c)){l=c;break}c=c.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var h=l.stateNode,g=ug(i);Pf(i,g,h);break;case 5:var E=l.stateNode;l.flags&32&&(Yn(E,""),l.flags&=-33);var S=ug(i);Pf(i,S,E);break;case 3:case 4:var P=l.stateNode.containerInfo,q=ug(i);cg(i,q,P);break;default:throw Error(n(161))}}catch(J){ft(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function x0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;x0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ra(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)A0(i,s.alternate,s),s=s.sibling}function Ds(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:na(4,s,s.return),Ds(s);break;case 1:kr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&b0(s,s.return,l),Ds(s);break;case 27:Au(s.stateNode);case 26:case 5:kr(s,s.return),Ds(s);break;case 22:s.memoizedState===null&&Ds(s);break;case 30:Ds(s);break;default:Ds(s)}i=i.sibling}}function ia(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,h=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:ia(h,g,l),yu(4,g);break;case 1:if(ia(h,g,l),c=g,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){ft(c,c.return,q)}if(c=g,h=c.updateQueue,h!==null){var S=c.stateNode;try{var P=h.shared.hiddenCallbacks;if(P!==null)for(h.shared.hiddenCallbacks=null,h=0;h<P.length;h++)o_(P[h],S)}catch(q){ft(c,c.return,q)}}l&&E&64&&E0(g),vu(g,g.return);break;case 27:D0(g);case 26:case 5:ia(h,g,l),l&&c===null&&E&4&&T0(g),vu(g,g.return);break;case 12:ia(h,g,l);break;case 13:ia(h,g,l),l&&E&4&&O0(h,g);break;case 22:g.memoizedState===null&&ia(h,g,l),vu(g,g.return);break;case 30:break;default:ia(h,g,l)}s=s.sibling}}function hg(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&ru(l))}function pg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ru(i))}function Nr(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)k0(i,s,l,c),s=s.sibling}function k0(i,s,l,c){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Nr(i,s,l,c),h&2048&&yu(9,s);break;case 1:Nr(i,s,l,c);break;case 3:Nr(i,s,l,c),h&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ru(i)));break;case 12:if(h&2048){Nr(i,s,l,c),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,S=g.onPostCommit;typeof S=="function"&&S(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){ft(s,s.return,P)}}else Nr(i,s,l,c);break;case 13:Nr(i,s,l,c);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?Nr(i,s,l,c):_u(i,s):g._visibility&2?Nr(i,s,l,c):(g._visibility|=2,ko(i,s,l,c,(s.subtreeFlags&10256)!==0)),h&2048&&hg(E,s);break;case 24:Nr(i,s,l,c),h&2048&&pg(s.alternate,s);break;default:Nr(i,s,l,c)}}function ko(i,s,l,c,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,E=s,S=l,P=c,q=E.flags;switch(E.tag){case 0:case 11:case 15:ko(g,E,S,P,h),yu(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?ko(g,E,S,P,h):_u(g,E):(J._visibility|=2,ko(g,E,S,P,h)),h&&q&2048&&hg(E.alternate,E);break;case 24:ko(g,E,S,P,h),h&&q&2048&&pg(E.alternate,E);break;default:ko(g,E,S,P,h)}s=s.sibling}}function _u(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,h=c.flags;switch(c.tag){case 22:_u(l,c),h&2048&&hg(c.alternate,c);break;case 24:_u(l,c),h&2048&&pg(c.alternate,c);break;default:_u(l,c)}s=s.sibling}}var wu=8192;function No(i){if(i.subtreeFlags&wu)for(i=i.child;i!==null;)N0(i),i=i.sibling}function N0(i){switch(i.tag){case 26:No(i),i.flags&wu&&i.memoizedState!==null&&dA(hr,i.memoizedState,i.memoizedProps);break;case 5:No(i);break;case 3:case 4:var s=hr;hr=Kf(i.stateNode.containerInfo),No(i),hr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=wu,wu=16777216,No(i),wu=s):No(i));break;default:No(i)}}function P0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Eu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Xt=c,V0(c,i)}P0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)L0(i),i=i.sibling}function L0(i){switch(i.tag){case 0:case 11:case 15:Eu(i),i.flags&2048&&na(9,i,i.return);break;case 3:Eu(i);break;case 12:Eu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Lf(i)):Eu(i);break;default:Eu(i)}}function Lf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Xt=c,V0(c,i)}P0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:na(8,s,s.return),Lf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Lf(s));break;default:Lf(s)}i=i.sibling}}function V0(i,s){for(;Xt!==null;){var l=Xt;switch(l.tag){case 0:case 11:case 15:na(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ru(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Xt=c;else e:for(l=i;Xt!==null;){c=Xt;var h=c.sibling,g=c.return;if(R0(c),c===l){Xt=null;break e}if(h!==null){h.return=g,Xt=h;break e}Xt=g}}}var RC={getCacheForType:function(i){var s=dn(jt),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},IC=typeof WeakMap=="function"?WeakMap:Map,rt=0,ht=null,Be=null,Ge=0,it=0,Ln=null,aa=!1,Po=!1,gg=!1,Ti=0,St=0,sa=0,Cs=0,mg=0,Jn=0,Lo=0,bu=null,An=null,yg=!1,vg=0,Vf=1/0,Uf=null,oa=null,rn=0,la=null,Vo=null,Uo=0,_g=0,wg=null,U0=null,Tu=0,Eg=null;function Vn(){if((rt&2)!==0&&Ge!==0)return Ge&-Ge;if(H.T!==null){var i=Do;return i!==0?i:Rg()}return zi()}function H0(){Jn===0&&(Jn=(Ge&536870912)===0||$e?xl():536870912);var i=Zn.current;return i!==null&&(i.flags|=32),Jn}function Un(i,s,l){(i===ht&&(it===2||it===9)||i.cancelPendingCommit!==null)&&(Ho(i,0),ua(i,Ge,Jn,!1)),ti(i,l),((rt&2)===0||i!==ht)&&(i===ht&&((rt&2)===0&&(Cs|=l),St===4&&ua(i,Ge,Jn,!1)),Pr(i))}function B0(i,s,l){if((rt&6)!==0)throw Error(n(327));var c=!l&&(s&124)===0&&(s&i.expiredLanes)===0||Za(i,s),h=c?xC(i,s):Sg(i,s,!0),g=c;do{if(h===0){Po&&!c&&ua(i,s,0,!1);break}else{if(l=i.current.alternate,g&&!OC(l)){h=Sg(i,s,!1),g=!1;continue}if(h===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var S=i;h=bu;var P=S.current.memoizedState.isDehydrated;if(P&&(Ho(S,E).flags|=256),E=Sg(S,E,!1),E!==2){if(gg&&!P){S.errorRecoveryDisabledLanes|=g,Cs|=g,h=4;break e}g=An,An=h,g!==null&&(An===null?An=g:An.push.apply(An,g))}h=E}if(g=!1,h!==2)continue}}if(h===1){Ho(i,0),ua(i,s,0,!0);break}e:{switch(c=i,g=h,g){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:ua(c,s,Jn,!aa);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(h=vg+300-jn(),10<h)){if(ua(c,s,Jn,!aa),to(c,0,!0)!==0)break e;c.timeoutHandle=gw(F0.bind(null,c,l,An,Uf,yg,s,Jn,Cs,Lo,aa,g,2,-0,0),h);break e}F0(c,l,An,Uf,yg,s,Jn,Cs,Lo,aa,g,0,-0,0)}}break}while(!0);Pr(i)}function F0(i,s,l,c,h,g,E,S,P,q,J,re,G,K){if(i.timeoutHandle=-1,re=s.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Ou={stylesheets:null,count:0,unsuspend:fA},N0(s),re=hA(),re!==null)){i.cancelPendingCommit=re(K0.bind(null,i,s,g,l,c,h,E,S,P,J,1,G,K)),ua(i,g,E,!q);return}K0(i,s,g,l,c,h,E,S,P)}function OC(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var h=l[c],g=h.getSnapshot;h=h.value;try{if(!xn(g(),h))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ua(i,s,l,c){s&=~mg,s&=~Cs,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var h=s;0<h;){var g=31-fn(h),E=1<<g;c[g]=-1,h&=~E}l!==0&&wr(i,l,s)}function Hf(){return(rt&6)===0?(Su(0),!1):!0}function bg(){if(Be!==null){if(it===0)var i=Be.return;else i=Be,gi=ws=null,Hp(i),Mo=null,pu=0,i=Be;for(;i!==null;)w0(i.alternate,i),i=i.return;Be=null}}function Ho(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,KC(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),bg(),ht=i,Be=l=di(i.current,null),Ge=s,it=0,Ln=null,aa=!1,Po=Za(i,s),gg=!1,Lo=Jn=mg=Cs=sa=St=0,An=bu=null,yg=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var h=31-fn(c),g=1<<h;s|=i[h],c&=~g}return Ti=s,of(),l}function j0(i,s){Pe=null,H.H=Cf,s===au||s===mf?(s=a_(),it=3):s===n_?(s=a_(),it=4):it=s===s0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,Be===null&&(St=1,Mf(i,Kn(s,i.current)))}function z0(){var i=H.H;return H.H=Cf,i===null?Cf:i}function Y0(){var i=H.A;return H.A=RC,i}function Tg(){St=4,aa||(Ge&4194048)!==Ge&&Zn.current!==null||(Po=!0),(sa&134217727)===0&&(Cs&134217727)===0||ht===null||ua(ht,Ge,Jn,!1)}function Sg(i,s,l){var c=rt;rt|=2;var h=z0(),g=Y0();(ht!==i||Ge!==s)&&(Uf=null,Ho(i,s)),s=!1;var E=St;e:do try{if(it!==0&&Be!==null){var S=Be,P=Ln;switch(it){case 8:bg(),E=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(s=!0);var q=it;if(it=0,Ln=null,Bo(i,S,P,q),l&&Po){E=0;break e}break;default:q=it,it=0,Ln=null,Bo(i,S,P,q)}}MC(),E=St;break}catch(J){j0(i,J)}while(!0);return s&&i.shellSuspendCounter++,gi=ws=null,rt=c,H.H=h,H.A=g,Be===null&&(ht=null,Ge=0,of()),E}function MC(){for(;Be!==null;)q0(Be)}function xC(i,s){var l=rt;rt|=2;var c=z0(),h=Y0();ht!==i||Ge!==s?(Uf=null,Vf=jn()+500,Ho(i,s)):Po=Za(i,s);e:do try{if(it!==0&&Be!==null){s=Be;var g=Ln;t:switch(it){case 1:it=0,Ln=null,Bo(i,s,g,1);break;case 2:case 9:if(r_(g)){it=0,Ln=null,G0(s);break}s=function(){it!==2&&it!==9||ht!==i||(it=7),Pr(i)},g.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:r_(g)?(it=0,Ln=null,G0(s)):(it=0,Ln=null,Bo(i,s,g,7));break;case 5:var E=null;switch(Be.tag){case 26:E=Be.memoizedState;case 5:case 27:var S=Be;if(!E||Aw(E)){it=0,Ln=null;var P=S.sibling;if(P!==null)Be=P;else{var q=S.return;q!==null?(Be=q,Bf(q)):Be=null}break t}}it=0,Ln=null,Bo(i,s,g,5);break;case 6:it=0,Ln=null,Bo(i,s,g,6);break;case 8:bg(),St=6;break e;default:throw Error(n(462))}}kC();break}catch(J){j0(i,J)}while(!0);return gi=ws=null,H.H=c,H.A=h,rt=l,Be!==null?0:(ht=null,Ge=0,of(),St)}function kC(){for(;Be!==null&&!Rl();)q0(Be)}function q0(i){var s=v0(i.alternate,i,Ti);i.memoizedProps=i.pendingProps,s===null?Bf(i):Be=s}function G0(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=d0(l,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=d0(l,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:Hp(s);default:w0(l,s),s=Be=Qv(s,Ti),s=v0(l,s,Ti)}i.memoizedProps=i.pendingProps,s===null?Bf(i):Be=s}function Bo(i,s,l,c){gi=ws=null,Hp(s),Mo=null,pu=0;var h=s.return;try{if(bC(i,h,s,l,Ge)){St=1,Mf(i,Kn(l,i.current)),Be=null;return}}catch(g){if(h!==null)throw Be=h,g;St=1,Mf(i,Kn(l,i.current)),Be=null;return}s.flags&32768?($e||c===1?i=!0:Po||(Ge&536870912)!==0?i=!1:(aa=i=!0,(c===2||c===9||c===3||c===6)&&(c=Zn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Q0(s,i)):Bf(s)}function Bf(i){var s=i;do{if((s.flags&32768)!==0){Q0(s,aa);return}i=s.return;var l=SC(s.alternate,s,Ti);if(l!==null){Be=l;return}if(s=s.sibling,s!==null){Be=s;return}Be=s=i}while(s!==null);St===0&&(St=5)}function Q0(i,s){do{var l=DC(i.alternate,i);if(l!==null){l.flags&=32767,Be=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Be=i;return}Be=i=l}while(i!==null);St=6,Be=null}function K0(i,s,l,c,h,g,E,S,P){i.cancelPendingCommit=null;do Ff();while(rn!==0);if((rt&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(g=s.lanes|s.childLanes,g|=pp,Nl(i,l,g,E,S,P),i===ht&&(Be=ht=null,Ge=0),Vo=s,la=i,Uo=l,_g=g,wg=h,U0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,VC(Ka,function(){return J0(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,h=Z.p,Z.p=2,E=rt,rt|=4;try{CC(i,s,l)}finally{rt=E,Z.p=h,H.T=c}}rn=1,W0(),X0(),$0()}}function W0(){if(rn===1){rn=0;var i=la,s=Vo,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var c=Z.p;Z.p=2;var h=rt;rt|=4;try{M0(s,i);var g=Lg,E=Vv(i.containerInfo),S=g.focusedElem,P=g.selectionRange;if(E!==S&&S&&S.ownerDocument&&Lv(S.ownerDocument.documentElement,S)){if(P!==null&&up(S)){var q=P.start,J=P.end;if(J===void 0&&(J=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(J,S.value.length);else{var re=S.ownerDocument||document,G=re&&re.defaultView||window;if(G.getSelection){var K=G.getSelection(),Ie=S.textContent.length,De=Math.min(P.start,Ie),ct=P.end===void 0?De:Math.min(P.end,Ie);!K.extend&&De>ct&&(E=ct,ct=De,De=E);var B=Pv(S,De),U=Pv(S,ct);if(B&&U&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==U.node||K.focusOffset!==U.offset)){var z=re.createRange();z.setStart(B.node,B.offset),K.removeAllRanges(),De>ct?(K.addRange(z),K.extend(U.node,U.offset)):(z.setEnd(U.node,U.offset),K.addRange(z))}}}}for(re=[],K=S;K=K.parentNode;)K.nodeType===1&&re.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<re.length;S++){var te=re[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Jf=!!Pg,Lg=Pg=null}finally{rt=h,Z.p=c,H.T=l}}i.current=s,rn=2}}function X0(){if(rn===2){rn=0;var i=la,s=Vo,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var c=Z.p;Z.p=2;var h=rt;rt|=4;try{A0(i,s.alternate,s)}finally{rt=h,Z.p=c,H.T=l}}rn=3}}function $0(){if(rn===4||rn===3){rn=0,Pc();var i=la,s=Vo,l=Uo,c=U0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?rn=5:(rn=0,Vo=la=null,Z0(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&(oa=null),no(l),s=s.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(bt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=H.T,h=Z.p,Z.p=2,H.T=null;try{for(var g=i.onRecoverableError,E=0;E<c.length;E++){var S=c[E];g(S.value,{componentStack:S.stack})}}finally{H.T=s,Z.p=h}}(Uo&3)!==0&&Ff(),Pr(i),h=i.pendingLanes,(l&4194090)!==0&&(h&42)!==0?i===Eg?Tu++:(Tu=0,Eg=i):Tu=0,Su(0)}}function Z0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ru(s)))}function Ff(i){return W0(),X0(),$0(),J0()}function J0(){if(rn!==5)return!1;var i=la,s=_g;_g=0;var l=no(Uo),c=H.T,h=Z.p;try{Z.p=32>l?32:l,H.T=null,l=wg,wg=null;var g=la,E=Uo;if(rn=0,Vo=la=null,Uo=0,(rt&6)!==0)throw Error(n(331));var S=rt;if(rt|=4,L0(g.current),k0(g,g.current,E,l),rt=S,Su(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(bt,g)}catch{}return!0}finally{Z.p=h,H.T=c,Z0(i,s)}}function ew(i,s,l){s=Kn(l,s),s=Jp(i.stateNode,s,2),i=Zi(i,s,2),i!==null&&(ti(i,2),Pr(i))}function ft(i,s,l){if(i.tag===3)ew(i,i,l);else for(;s!==null;){if(s.tag===3){ew(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(oa===null||!oa.has(c))){i=Kn(l,i),l=i0(2),c=Zi(s,l,2),c!==null&&(a0(l,c,s,i),ti(c,2),Pr(c));break}}s=s.return}}function Dg(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new IC;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(l)||(gg=!0,h.add(l),i=NC.bind(null,i,s,l),s.then(i,i))}function NC(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ht===i&&(Ge&l)===l&&(St===4||St===3&&(Ge&62914560)===Ge&&300>jn()-vg?(rt&2)===0&&Ho(i,0):mg|=l,Lo===Ge&&(Lo=0)),Pr(i)}function tw(i,s){s===0&&(s=kl()),i=Eo(i,s),i!==null&&(ti(i,s),Pr(i))}function PC(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),tw(i,l)}function LC(i,s){var l=0;switch(i.tag){case 13:var c=i.stateNode,h=i.memoizedState;h!==null&&(l=h.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(n(314))}c!==null&&c.delete(s),tw(i,l)}function VC(i,s){return Ga(i,s)}var jf=null,Fo=null,Cg=!1,zf=!1,Ag=!1,As=0;function Pr(i){i!==Fo&&i.next===null&&(Fo===null?jf=Fo=i:Fo=Fo.next=i),zf=!0,Cg||(Cg=!0,HC())}function Su(i,s){if(!Ag&&zf){Ag=!0;do for(var l=!1,c=jf;c!==null;){if(i!==0){var h=c.pendingLanes;if(h===0)var g=0;else{var E=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-fn(42|i)+1)-1,g&=h&~(E&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,aw(c,g))}else g=Ge,g=to(c,c===ht?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Za(c,g)||(l=!0,aw(c,g));c=c.next}while(l);Ag=!1}}function UC(){nw()}function nw(){zf=Cg=!1;var i=0;As!==0&&(QC()&&(i=As),As=0);for(var s=jn(),l=null,c=jf;c!==null;){var h=c.next,g=rw(c,s);g===0?(c.next=null,l===null?jf=h:l.next=h,h===null&&(Fo=l)):(l=c,(i!==0||(g&3)!==0)&&(zf=!0)),c=h}Su(i)}function rw(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,h=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-fn(g),S=1<<E,P=h[E];P===-1?((S&l)===0||(S&c)!==0)&&(h[E]=Ml(S,s)):P<=s&&(i.expiredLanes|=S),g&=~S}if(s=ht,l=Ge,l=to(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(it===2||it===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Qa(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Za(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&Qa(c),no(l)){case 2:case 8:l=Js;break;case 32:l=Ka;break;case 268435456:l=eo;break;default:l=Ka}return c=iw.bind(null,i),l=Ga(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&Qa(c),i.callbackPriority=2,i.callbackNode=null,2}function iw(i,s){if(rn!==0&&rn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Ff()&&i.callbackNode!==l)return null;var c=Ge;return c=to(i,i===ht?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(B0(i,c,s),rw(i,jn()),i.callbackNode!=null&&i.callbackNode===l?iw.bind(null,i):null)}function aw(i,s){if(Ff())return null;B0(i,s,!0)}function HC(){WC(function(){(rt&6)!==0?Ga(Il,UC):nw()})}function Rg(){return As===0&&(As=xl()),As}function sw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:lo(""+i)}function ow(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function BC(i,s,l,c,h){if(s==="submit"&&l&&l.stateNode===h){var g=sw((h[xt]||null).action),E=c.submitter;E&&(s=(s=E[xt]||null)?sw(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var S=new uo("action","action",null,c,h);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(As!==0){var P=E?ow(h,E):new FormData(h);Kp(l,{pending:!0,data:P,method:h.method,action:g},null,P)}}else typeof g=="function"&&(S.preventDefault(),P=E?ow(h,E):new FormData(h),Kp(l,{pending:!0,data:P,method:h.method,action:g},g,P))},currentTarget:h}]})}}for(var Ig=0;Ig<hp.length;Ig++){var Og=hp[Ig],FC=Og.toLowerCase(),jC=Og[0].toUpperCase()+Og.slice(1);dr(FC,"on"+jC)}dr(Bv,"onAnimationEnd"),dr(Fv,"onAnimationIteration"),dr(jv,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(aC,"onTransitionRun"),dr(sC,"onTransitionStart"),dr(oC,"onTransitionCancel"),dr(zv,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function lw(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],h=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var E=c.length-1;0<=E;E--){var S=c[E],P=S.instance,q=S.currentTarget;if(S=S.listener,P!==g&&h.isPropagationStopped())break e;g=S,h.currentTarget=q;try{g(h)}catch(J){Of(J)}h.currentTarget=null,g=P}else for(E=0;E<c.length;E++){if(S=c[E],P=S.instance,q=S.currentTarget,S=S.listener,P!==g&&h.isPropagationStopped())break e;g=S,h.currentTarget=q;try{g(h)}catch(J){Of(J)}h.currentTarget=null,g=P}}}}function Fe(i,s){var l=s[Ll];l===void 0&&(l=s[Ll]=new Set);var c=i+"__bubble";l.has(c)||(uw(s,i,2,!1),l.add(c))}function Mg(i,s,l){var c=0;s&&(c|=4),uw(l,i,c,s)}var Yf="_reactListening"+Math.random().toString(36).slice(2);function xg(i){if(!i[Yf]){i[Yf]=!0,Vl.forEach(function(l){l!=="selectionchange"&&(zC.has(l)||Mg(l,!1,i),Mg(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Yf]||(s[Yf]=!0,Mg("selectionchange",!1,s))}}function uw(i,s,l,c){switch(kw(s)){case 2:var h=mA;break;case 8:h=yA;break;default:h=Gg}l=h.bind(null,s,l,i),h=void 0,!Gn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?i.addEventListener(s,l,{capture:!0,passive:h}):i.addEventListener(s,l,!0):h!==void 0?i.addEventListener(s,l,{passive:h}):i.addEventListener(s,l,!1)}function kg(i,s,l,c,h){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var S=c.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=c.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=ni(S),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){c=g=E;continue e}S=S.parentNode}}c=c.return}qc(function(){var q=g,J=qn(l),re=[];e:{var G=Yv.get(i);if(G!==void 0){var K=uo,Ie=i;switch(i){case"keypress":if(Cr(l)===0)break e;case"keydown":case"keyup":K=mo;break;case"focusin":Ie="focus",K=ho;break;case"focusout":Ie="blur",K=ho;break;case"beforeblur":case"afterblur":K=ho;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Jc;break;case Bv:case Fv:case jv:K=po;break;case zv:K=tf;break;case"scroll":case"scrollend":K=Gc;break;case"wheel":K=yo;break;case"copy":case"cut":case"paste":K=go;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Wl;break;case"toggle":case"beforetoggle":K=rf}var De=(s&4)!==0,ct=!De&&(i==="scroll"||i==="scrollend"),B=De?G!==null?G+"Capture":null:G;De=[];for(var U=q,z;U!==null;){var te=U;if(z=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||z===null||B===null||(te=ss(U,B),te!=null&&De.push(Cu(U,te,z))),ct)break;U=U.return}0<De.length&&(G=new K(G,Ie,null,l,J),re.push({event:G,listeners:De}))}}if((s&7)===0){e:{if(G=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",G&&l!==si&&(Ie=l.relatedTarget||l.fromElement)&&(ni(Ie)||Ie[zn]))break e;if((K||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,K?(Ie=l.relatedTarget||l.toElement,K=q,Ie=Ie?ni(Ie):null,Ie!==null&&(ct=o(Ie),De=Ie.tag,Ie!==ct||De!==5&&De!==27&&De!==6)&&(Ie=null)):(K=null,Ie=q),K!==Ie)){if(De=Qn,te="onMouseLeave",B="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(De=Wl,te="onPointerLeave",B="onPointerEnter",U="pointer"),ct=K==null?G:br(K),z=Ie==null?G:br(Ie),G=new De(te,U+"leave",K,l,J),G.target=ct,G.relatedTarget=z,te=null,ni(J)===q&&(De=new De(B,U+"enter",Ie,l,J),De.target=z,De.relatedTarget=ct,te=De),ct=te,K&&Ie)t:{for(De=K,B=Ie,U=0,z=De;z;z=jo(z))U++;for(z=0,te=B;te;te=jo(te))z++;for(;0<U-z;)De=jo(De),U--;for(;0<z-U;)B=jo(B),z--;for(;U--;){if(De===B||B!==null&&De===B.alternate)break t;De=jo(De),B=jo(B)}De=null}else De=null;K!==null&&cw(re,G,K,De,!1),Ie!==null&&ct!==null&&cw(re,ct,Ie,De,!0)}}e:{if(G=q?br(q):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var ve=Iv;else if(Ft(G))if(Ov)ve=nC;else{ve=eC;var He=J1}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&jl(q.elementType)&&(ve=Iv):ve=tC;if(ve&&(ve=ve(i,q))){fi(re,ve,l,J);break e}He&&He(i,G,q),i==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&Qi(G,"number",G.value)}switch(He=q?br(q):window,i){case"focusin":(Ft(He)||He.contentEditable==="true")&&(vo=He,cp=q,Zl=null);break;case"focusout":Zl=cp=vo=null;break;case"mousedown":fp=!0;break;case"contextmenu":case"mouseup":case"dragend":fp=!1,Uv(re,l,J);break;case"selectionchange":if(iC)break;case"keydown":case"keyup":Uv(re,l,J)}var Ee;if(Ir)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ye?X(i,l)&&(Ce="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(w&&l.locale!=="ko"&&(Ye||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ye&&(Ee=Yl()):(Dr=J,Ki="value"in Dr?Dr.value:Dr.textContent,Ye=!0)),He=qf(q,Ce),0<He.length&&(Ce=new Ql(Ce,i,null,l,J),re.push({event:Ce,listeners:He}),Ee?Ce.data=Ee:(Ee=fe(l),Ee!==null&&(Ce.data=Ee)))),(Ee=v?Bt(i,l):qe(i,l))&&(Ce=qf(q,"onBeforeInput"),0<Ce.length&&(He=new Ql("onBeforeInput","beforeinput",null,l,J),re.push({event:He,listeners:Ce}),He.data=Ee)),BC(re,i,q,l,J)}lw(re,s)})}function Cu(i,s,l){return{instance:i,listener:s,currentTarget:l}}function qf(i,s){for(var l=s+"Capture",c=[];i!==null;){var h=i,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=ss(i,l),h!=null&&c.unshift(Cu(i,h,g)),h=ss(i,s),h!=null&&c.push(Cu(i,h,g))),i.tag===3)return c;i=i.return}return[]}function jo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function cw(i,s,l,c,h){for(var g=s._reactName,E=[];l!==null&&l!==c;){var S=l,P=S.alternate,q=S.stateNode;if(S=S.tag,P!==null&&P===c)break;S!==5&&S!==26&&S!==27||q===null||(P=q,h?(q=ss(l,g),q!=null&&E.unshift(Cu(l,q,P))):h||(q=ss(l,g),q!=null&&E.push(Cu(l,q,P)))),l=l.return}E.length!==0&&i.push({event:s,listeners:E})}var YC=/\r\n?/g,qC=/\u0000|\uFFFD/g;function fw(i){return(typeof i=="string"?i:""+i).replace(YC,`
`).replace(qC,"")}function dw(i,s){return s=fw(s),fw(i)===s}function Gf(){}function ut(i,s,l,c,h,g){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Yn(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Yn(i,""+c);break;case"className":Tr(i,"class",c);break;case"tabIndex":Tr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(i,l,c);break;case"style":Fl(i,c,g);break;case"data":if(s!=="object"){Tr(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=lo(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&ut(i,s,"name",h.name,h,null),ut(i,s,"formEncType",h.formEncType,h,null),ut(i,s,"formMethod",h.formMethod,h,null),ut(i,s,"formTarget",h.formTarget,h,null)):(ut(i,s,"encType",h.encType,h,null),ut(i,s,"method",h.method,h,null),ut(i,s,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=lo(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Gf);break;case"onScroll":c!=null&&Fe("scroll",i);break;case"onScrollEnd":c!=null&&Fe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(l=c.__html,l!=null){if(h.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=lo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":Fe("beforetoggle",i),Fe("toggle",i),Gi(i,"popover",c);break;case"xlinkActuate":en(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":en(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":en(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":en(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":en(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":en(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":en(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":en(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":en(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Gi(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=rp.get(l)||l,Gi(i,l,c))}}function Ng(i,s,l,c,h,g){switch(l){case"style":Fl(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(l=c.__html,l!=null){if(h.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Yn(i,c):(typeof c=="number"||typeof c=="bigint")&&Yn(i,""+c);break;case"onScroll":c!=null&&Fe("scroll",i);break;case"onScrollEnd":c!=null&&Fe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Gf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ro.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),s=l.slice(2,h?l.length-7:void 0),g=i[xt]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(s,g,h),typeof c=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,h);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Gi(i,l,c)}}}function an(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",i),Fe("load",i);var c=!1,h=!1,g;for(g in l)if(l.hasOwnProperty(g)){var E=l[g];if(E!=null)switch(g){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:ut(i,s,g,E,l,null)}}h&&ut(i,s,"srcSet",l.srcSet,l,null),c&&ut(i,s,"src",l.src,l,null);return;case"input":Fe("invalid",i);var S=g=E=h=null,P=null,q=null;for(c in l)if(l.hasOwnProperty(c)){var J=l[c];if(J!=null)switch(c){case"name":h=J;break;case"type":E=J;break;case"checked":P=J;break;case"defaultChecked":q=J;break;case"value":g=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,s));break;default:ut(i,s,c,J,l,null)}}rs(i,g,S,P,q,E,h,!1),oo(i);return;case"select":Fe("invalid",i),c=E=g=null;for(h in l)if(l.hasOwnProperty(h)&&(S=l[h],S!=null))switch(h){case"value":g=S;break;case"defaultValue":E=S;break;case"multiple":c=S;default:ut(i,s,h,S,l,null)}s=g,l=E,i.multiple=!!c,s!=null?ai(i,!!c,s,!1):l!=null&&ai(i,!!c,l,!0);return;case"textarea":Fe("invalid",i),g=h=c=null;for(E in l)if(l.hasOwnProperty(E)&&(S=l[E],S!=null))switch(E){case"value":c=S;break;case"defaultValue":h=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:ut(i,s,E,S,l,null)}is(i,c,h,g),oo(i);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(c=l[P],c!=null))switch(P){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ut(i,s,P,c,l,null)}return;case"dialog":Fe("beforetoggle",i),Fe("toggle",i),Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":Fe("load",i);break;case"video":case"audio":for(c=0;c<Du.length;c++)Fe(Du[c],i);break;case"image":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"embed":case"source":case"link":Fe("error",i),Fe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(c=l[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:ut(i,s,q,c,l,null)}return;default:if(jl(s)){for(J in l)l.hasOwnProperty(J)&&(c=l[J],c!==void 0&&Ng(i,s,J,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&ut(i,s,S,c,l,null))}function GC(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,E=null,S=null,P=null,q=null,J=null;for(K in l){var re=l[K];if(l.hasOwnProperty(K)&&re!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":P=re;default:c.hasOwnProperty(K)||ut(i,s,K,null,c,re)}}for(var G in c){var K=c[G];if(re=l[G],c.hasOwnProperty(G)&&(K!=null||re!=null))switch(G){case"type":g=K;break;case"name":h=K;break;case"checked":q=K;break;case"defaultChecked":J=K;break;case"value":E=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(137,s));break;default:K!==re&&ut(i,s,G,K,c,re)}}Mn(i,E,S,P,q,J,g,h);return;case"select":K=E=S=G=null;for(g in l)if(P=l[g],l.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":K=P;default:c.hasOwnProperty(g)||ut(i,s,g,null,c,P)}for(h in c)if(g=c[h],P=l[h],c.hasOwnProperty(h)&&(g!=null||P!=null))switch(h){case"value":G=g;break;case"defaultValue":S=g;break;case"multiple":E=g;default:g!==P&&ut(i,s,h,g,c,P)}s=S,l=E,c=K,G!=null?ai(i,!!l,G,!1):!!c!=!!l&&(s!=null?ai(i,!!l,s,!0):ai(i,!!l,l?[]:"",!1));return;case"textarea":K=G=null;for(S in l)if(h=l[S],l.hasOwnProperty(S)&&h!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ut(i,s,S,null,c,h)}for(E in c)if(h=c[E],g=l[E],c.hasOwnProperty(E)&&(h!=null||g!=null))switch(E){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(n(91));break;default:h!==g&&ut(i,s,E,h,c,g)}ot(i,G,K);return;case"option":for(var Ie in l)if(G=l[Ie],l.hasOwnProperty(Ie)&&G!=null&&!c.hasOwnProperty(Ie))switch(Ie){case"selected":i.selected=!1;break;default:ut(i,s,Ie,null,c,G)}for(P in c)if(G=c[P],K=l[P],c.hasOwnProperty(P)&&G!==K&&(G!=null||K!=null))switch(P){case"selected":i.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ut(i,s,P,G,c,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in l)G=l[De],l.hasOwnProperty(De)&&G!=null&&!c.hasOwnProperty(De)&&ut(i,s,De,null,c,G);for(q in c)if(G=c[q],K=l[q],c.hasOwnProperty(q)&&G!==K&&(G!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(137,s));break;default:ut(i,s,q,G,c,K)}return;default:if(jl(s)){for(var ct in l)G=l[ct],l.hasOwnProperty(ct)&&G!==void 0&&!c.hasOwnProperty(ct)&&Ng(i,s,ct,void 0,c,G);for(J in c)G=c[J],K=l[J],!c.hasOwnProperty(J)||G===K||G===void 0&&K===void 0||Ng(i,s,J,G,c,K);return}}for(var B in l)G=l[B],l.hasOwnProperty(B)&&G!=null&&!c.hasOwnProperty(B)&&ut(i,s,B,null,c,G);for(re in c)G=c[re],K=l[re],!c.hasOwnProperty(re)||G===K||G==null&&K==null||ut(i,s,re,G,c,K)}var Pg=null,Lg=null;function Qf(i){return i.nodeType===9?i:i.ownerDocument}function hw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Vg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ug=null;function QC(){var i=window.event;return i&&i.type==="popstate"?i===Ug?!1:(Ug=i,!0):(Ug=null,!1)}var gw=typeof setTimeout=="function"?setTimeout:void 0,KC=typeof clearTimeout=="function"?clearTimeout:void 0,mw=typeof Promise=="function"?Promise:void 0,WC=typeof queueMicrotask=="function"?queueMicrotask:typeof mw<"u"?function(i){return mw.resolve(null).then(i).catch(XC)}:gw;function XC(i){setTimeout(function(){throw i})}function ca(i){return i==="head"}function yw(i,s){var l=s,c=0,h=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<c&&8>c){l=c;var E=i.ownerDocument;if(l&1&&Au(E.documentElement),l&2&&Au(E.body),l&4)for(l=E.head,Au(l),E=l.firstChild;E;){var S=E.nextSibling,P=E.nodeName;E[Ja]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=S}}if(h===0){i.removeChild(g),Pu(s);return}h--}else l==="$"||l==="$?"||l==="$!"?h++:c=l.charCodeAt(0)-48;else c=0;l=g}while(l);Pu(s)}function Hg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Hg(l),qi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function $C(i,s,l,c){for(;i.nodeType===1;){var h=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ja])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=pr(i.nextSibling),i===null)break}return null}function ZC(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=pr(i.nextSibling),i===null))return null;return i}function Bg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function JC(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function pr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Fg=null;function vw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function _w(i,s,l){switch(s=Qf(l),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Au(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);qi(i)}var er=new Map,ww=new Set;function Kf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Si=Z.d;Z.d={f:eA,r:tA,D:nA,C:rA,L:iA,m:aA,X:oA,S:sA,M:lA};function eA(){var i=Si.f(),s=Hf();return i||s}function tA(i){var s=Er(i);s!==null&&s.tag===5&&s.type==="form"?B_(s):Si.r(i)}var zo=typeof document>"u"?null:document;function Ew(i,s,l){var c=zo;if(c&&typeof s=="string"&&s){var h=kt(s);h='link[rel="'+i+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),ww.has(h)||(ww.add(h),i={rel:i,crossOrigin:l,href:s},c.querySelector(h)===null&&(s=c.createElement("link"),an(s,"link",i),Ct(s),c.head.appendChild(s)))}}function nA(i){Si.D(i),Ew("dns-prefetch",i,null)}function rA(i,s){Si.C(i,s),Ew("preconnect",i,s)}function iA(i,s,l){Si.L(i,s,l);var c=zo;if(c&&i&&s){var h='link[rel="preload"][as="'+kt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+kt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+kt(l.imageSizes)+'"]')):h+='[href="'+kt(i)+'"]';var g=h;switch(s){case"style":g=Yo(i);break;case"script":g=qo(i)}er.has(g)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),er.set(g,i),c.querySelector(h)!==null||s==="style"&&c.querySelector(Ru(g))||s==="script"&&c.querySelector(Iu(g))||(s=c.createElement("link"),an(s,"link",i),Ct(s),c.head.appendChild(s)))}}function aA(i,s){Si.m(i,s);var l=zo;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+kt(c)+'"][href="'+kt(i)+'"]',g=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=qo(i)}if(!er.has(g)&&(i=y({rel:"modulepreload",href:i},s),er.set(g,i),l.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Iu(g)))return}c=l.createElement("link"),an(c,"link",i),Ct(c),l.head.appendChild(c)}}}function sA(i,s,l){Si.S(i,s,l);var c=zo;if(c&&i){var h=_n(c).hoistableStyles,g=Yo(i);s=s||"default";var E=h.get(g);if(!E){var S={loading:0,preload:null};if(E=c.querySelector(Ru(g)))S.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=er.get(g))&&jg(i,l);var P=E=c.createElement("link");Ct(P),an(P,"link",i),P._p=new Promise(function(q,J){P.onload=q,P.onerror=J}),P.addEventListener("load",function(){S.loading|=1}),P.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Wf(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(g,E)}}}function oA(i,s){Si.X(i,s);var l=zo;if(l&&i){var c=_n(l).hoistableScripts,h=qo(i),g=c.get(h);g||(g=l.querySelector(Iu(h)),g||(i=y({src:i,async:!0},s),(s=er.get(h))&&zg(i,s),g=l.createElement("script"),Ct(g),an(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function lA(i,s){Si.M(i,s);var l=zo;if(l&&i){var c=_n(l).hoistableScripts,h=qo(i),g=c.get(h);g||(g=l.querySelector(Iu(h)),g||(i=y({src:i,async:!0,type:"module"},s),(s=er.get(h))&&zg(i,s),g=l.createElement("script"),Ct(g),an(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function bw(i,s,l,c){var h=(h=Oe.current)?Kf(h):null;if(!h)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Yo(l.href),l=_n(h).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Yo(l.href);var g=_n(h).hoistableStyles,E=g.get(i);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=h.querySelector(Ru(i)))&&!g._p&&(E.instance=g,E.state.loading=5),er.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},er.set(i,l),g||uA(h,i,l,E.state))),s&&c===null)throw Error(n(528,""));return E}if(s&&c!==null)throw Error(n(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=qo(l),l=_n(h).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Yo(i){return'href="'+kt(i)+'"'}function Ru(i){return'link[rel="stylesheet"]['+i+"]"}function Tw(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function uA(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),an(s,"link",l),Ct(s),i.head.appendChild(s))}function qo(i){return'[src="'+kt(i)+'"]'}function Iu(i){return"script[async]"+i}function Sw(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+kt(l.href)+'"]');if(c)return s.instance=c,Ct(c),c;var h=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ct(c),an(c,"style",h),Wf(c,l.precedence,i),s.instance=c;case"stylesheet":h=Yo(l.href);var g=i.querySelector(Ru(h));if(g)return s.state.loading|=4,s.instance=g,Ct(g),g;c=Tw(l),(h=er.get(h))&&jg(c,h),g=(i.ownerDocument||i).createElement("link"),Ct(g);var E=g;return E._p=new Promise(function(S,P){E.onload=S,E.onerror=P}),an(g,"link",c),s.state.loading|=4,Wf(g,l.precedence,i),s.instance=g;case"script":return g=qo(l.src),(h=i.querySelector(Iu(g)))?(s.instance=h,Ct(h),h):(c=l,(h=er.get(g))&&(c=y({},l),zg(c,h)),i=i.ownerDocument||i,h=i.createElement("script"),Ct(h),an(h,"link",c),i.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Wf(c,l.precedence,i));return s.instance}function Wf(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,g=h,E=0;E<c.length;E++){var S=c[E];if(S.dataset.precedence===s)g=S;else if(g!==h)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function jg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function zg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Xf=null;function Dw(i,s,l){if(Xf===null){var c=new Map,h=Xf=new Map;h.set(l,c)}else h=Xf,c=h.get(l),c||(c=new Map,h.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),h=0;h<l.length;h++){var g=l[h];if(!(g[Ja]||g[Ht]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var S=c.get(E);S?S.push(g):c.set(E,[g])}}return c}function Cw(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function cA(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Aw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ou=null;function fA(){}function dA(i,s,l){if(Ou===null)throw Error(n(475));var c=Ou;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Yo(l.href),g=i.querySelector(Ru(h));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=$f.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=g,Ct(g);return}g=i.ownerDocument||i,l=Tw(l),(h=er.get(h))&&jg(l,h),g=g.createElement("link"),Ct(g);var E=g;E._p=new Promise(function(S,P){E.onload=S,E.onerror=P}),an(g,"link",l),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=$f.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function hA(){if(Ou===null)throw Error(n(475));var i=Ou;return i.stylesheets&&i.count===0&&Yg(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&Yg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function $f(){if(this.count--,this.count===0){if(this.stylesheets)Yg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Zf=null;function Yg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Zf=new Map,s.forEach(pA,i),Zf=null,$f.call(i))}function pA(i,s){if(!(s.state.loading&4)){var l=Zf.get(i);if(l)var c=l.get(null);else{l=new Map,Zf.set(i,l);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var E=h[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),c=E)}c&&l.set(null,c)}h=s.instance,E=h.getAttribute("data-precedence"),g=l.get(E)||c,g===c&&l.set(null,h),l.set(E,h),this.count++,c=$f.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),g?g.parentNode.insertBefore(h,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),s.state.loading|=4}}var Mu={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function gA(i,s,l,c,h,g,E,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Rw(i,s,l,c,h,g,E,S,P,q,J,re){return i=new gA(i,s,l,E,S,P,q,re),s=1,g===!0&&(s|=24),g=kn(3,null,null,s),i.current=g,g.stateNode=i,s=Dp(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:s},Ip(g),i}function Iw(i){return i?(i=bo,i):bo}function Ow(i,s,l,c,h,g){h=Iw(h),c.context===null?c.context=h:c.pendingContext=h,c=$i(s),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=Zi(i,c,s),l!==null&&(Un(l,i,s),ou(l,i,s))}function Mw(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function qg(i,s){Mw(i,s),(i=i.alternate)&&Mw(i,s)}function xw(i){if(i.tag===13){var s=Eo(i,67108864);s!==null&&Un(s,i,67108864),qg(i,67108864)}}var Jf=!0;function mA(i,s,l,c){var h=H.T;H.T=null;var g=Z.p;try{Z.p=2,Gg(i,s,l,c)}finally{Z.p=g,H.T=h}}function yA(i,s,l,c){var h=H.T;H.T=null;var g=Z.p;try{Z.p=8,Gg(i,s,l,c)}finally{Z.p=g,H.T=h}}function Gg(i,s,l,c){if(Jf){var h=Qg(c);if(h===null)kg(i,s,c,ed,l),Nw(i,c);else if(_A(h,i,s,l,c))c.stopPropagation();else if(Nw(i,c),s&4&&-1<vA.indexOf(i)){for(;h!==null;){var g=Er(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=ur(g.pendingLanes);if(E!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var P=1<<31-fn(E);S.entanglements[1]|=P,E&=~P}Pr(g),(rt&6)===0&&(Vf=jn()+500,Su(0))}}break;case 13:S=Eo(g,2),S!==null&&Un(S,g,2),Hf(),qg(g,2)}if(g=Qg(c),g===null&&kg(i,s,c,ed,l),g===h)break;h=g}h!==null&&c.stopPropagation()}else kg(i,s,c,null,l)}}function Qg(i){return i=qn(i),Kg(i)}var ed=null;function Kg(i){if(ed=null,i=ni(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return ed=i,null}function kw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($h()){case Il:return 2;case Js:return 8;case Ka:case Zh:return 32;case eo:return 268435456;default:return 32}default:return 32}}var Wg=!1,fa=null,da=null,ha=null,xu=new Map,ku=new Map,pa=[],vA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nw(i,s){switch(i){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":xu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(s.pointerId)}}function Nu(i,s,l,c,h,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},s!==null&&(s=Er(s),s!==null&&xw(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),i)}function _A(i,s,l,c,h){switch(s){case"focusin":return fa=Nu(fa,i,s,l,c,h),!0;case"dragenter":return da=Nu(da,i,s,l,c,h),!0;case"mouseover":return ha=Nu(ha,i,s,l,c,h),!0;case"pointerover":var g=h.pointerId;return xu.set(g,Nu(xu.get(g)||null,i,s,l,c,h)),!0;case"gotpointercapture":return g=h.pointerId,ku.set(g,Nu(ku.get(g)||null,i,s,l,c,h)),!0}return!1}function Pw(i){var s=ni(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,Uc(i.priority,function(){if(l.tag===13){var c=Vn();c=ji(c);var h=Eo(l,c);h!==null&&Un(h,l,c),qg(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function td(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Qg(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);si=c,l.target.dispatchEvent(c),si=null}else return s=Er(l),s!==null&&xw(s),i.blockedOn=l,!1;s.shift()}return!0}function Lw(i,s,l){td(i)&&l.delete(s)}function wA(){Wg=!1,fa!==null&&td(fa)&&(fa=null),da!==null&&td(da)&&(da=null),ha!==null&&td(ha)&&(ha=null),xu.forEach(Lw),ku.forEach(Lw)}function nd(i,s){i.blockedOn===s&&(i.blockedOn=null,Wg||(Wg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,wA)))}var rd=null;function Vw(i){rd!==i&&(rd=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){rd===i&&(rd=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],h=i[s+2];if(typeof c!="function"){if(Kg(c||l)===null)continue;break}var g=Er(l);g!==null&&(i.splice(s,3),s-=3,Kp(g,{pending:!0,data:h,method:l.method,action:c},c,h))}}))}function Pu(i){function s(P){return nd(P,i)}fa!==null&&nd(fa,i),da!==null&&nd(da,i),ha!==null&&nd(ha,i),xu.forEach(s),ku.forEach(s);for(var l=0;l<pa.length;l++){var c=pa[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<pa.length&&(l=pa[0],l.blockedOn===null);)Pw(l),l.blockedOn===null&&pa.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var h=l[c],g=l[c+1],E=h[xt]||null;if(typeof g=="function")E||Vw(l);else if(E){var S=null;if(g&&g.hasAttribute("formAction")){if(h=g,E=g[xt]||null)S=E.formAction;else if(Kg(h)!==null)continue}else S=E.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),Vw(l)}}}function Xg(i){this._internalRoot=i}id.prototype.render=Xg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var l=s.current,c=Vn();Ow(l,c,i,s,null,null)},id.prototype.unmount=Xg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ow(i.current,2,null,i,null,null),Hf(),s[zn]=null}};function id(i){this._internalRoot=i}id.prototype.unstable_scheduleHydration=function(i){if(i){var s=zi();i={blockedOn:null,target:i,priority:s};for(var l=0;l<pa.length&&s!==0&&s<pa[l].priority;l++);pa.splice(l,0,i),l===0&&Pw(i)}};var Uw=e.version;if(Uw!=="19.1.0")throw Error(n(527,Uw,"19.1.0"));Z.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=p(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var EA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{bt=ad.inject(EA),nt=ad}catch{}}return Vu.createRoot=function(i,s){if(!a(i))throw Error(n(299));var l=!1,c="",h=e0,g=t0,E=n0,S=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=Rw(i,1,!1,null,null,l,c,h,g,E,S,null),i[zn]=s.current,xg(i),new Xg(s)},Vu.hydrateRoot=function(i,s,l){if(!a(i))throw Error(n(299));var c=!1,h="",g=e0,E=t0,S=n0,P=null,q=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(P=l.unstable_transitionCallbacks),l.formState!==void 0&&(q=l.formState)),s=Rw(i,1,!0,s,l??null,c,h,g,E,S,P,q),s.context=Iw(null),l=s.current,c=Vn(),c=ji(c),h=$i(c),h.callback=null,Zi(l,h,c),l=c,s.current.lanes=l,ti(s,l),Pr(s),i[zn]=s.current,xg(i),new id(s)},Vu.version="19.1.0",Vu}var Kw;function kA(){if(Kw)return Jg.exports;Kw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jg.exports=xA(),Jg.exports}var NA=kA();const DT=W.createContext({dragDropManager:void 0});function tr(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var Ww=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Xw=function(){return Math.random().toString(36).substring(7).split("").join(".")},$w={INIT:"@@redux/INIT"+Xw(),REPLACE:"@@redux/REPLACE"+Xw()};function PA(r){if(typeof r!="object"||r===null)return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function CT(r,e,t){var n;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(tr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(tr(1));return t(CT)(r,e)}if(typeof r!="function")throw new Error(tr(2));var a=r,o=e,u=[],f=u,p=!1;function m(){f===u&&(f=u.slice())}function y(){if(p)throw new Error(tr(3));return o}function _(L){if(typeof L!="function")throw new Error(tr(4));if(p)throw new Error(tr(5));var x=!0;return m(),f.push(L),function(){if(x){if(p)throw new Error(tr(6));x=!1,m();var Y=f.indexOf(L);f.splice(Y,1),u=null}}}function b(L){if(!PA(L))throw new Error(tr(7));if(typeof L.type>"u")throw new Error(tr(8));if(p)throw new Error(tr(9));try{p=!0,o=a(o,L)}finally{p=!1}for(var x=u=f,F=0;F<x.length;F++){var Y=x[F];Y()}return L}function D(L){if(typeof L!="function")throw new Error(tr(10));a=L,b({type:$w.REPLACE})}function k(){var L,x=_;return L={subscribe:function(Y){if(typeof Y!="object"||Y===null)throw new Error(tr(11));function Q(){Y.next&&Y.next(y())}Q();var le=x(Q);return{unsubscribe:le}}},L[Ww]=function(){return this},L}return b({type:$w.INIT}),n={dispatch:b,subscribe:_,getState:y,replaceReducer:D},n[Ww]=k,n}function ke(r,e,...t){if(LA()&&e===void 0)throw new Error("invariant requires an error message argument");if(!r){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;n=new Error(e.replace(/%s/g,function(){return t[a++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function LA(){return typeof process<"u"&&!0}function VA(r,e,t){return e.split(".").reduce((n,a)=>n&&n[a]?n[a]:t||null,r)}function UA(r,e){return r.filter(t=>t!==e)}function AT(r){return typeof r=="object"}function HA(r,e){const t=new Map,n=o=>{t.set(o,t.has(o)?t.get(o)+1:1)};r.forEach(n),e.forEach(n);const a=[];return t.forEach((o,u)=>{o===1&&a.push(u)}),a}function BA(r,e){return r.filter(t=>e.indexOf(t)>-1)}const gy="dnd-core/INIT_COORDS",mh="dnd-core/BEGIN_DRAG",my="dnd-core/PUBLISH_DRAG_SOURCE",yh="dnd-core/HOVER",vh="dnd-core/DROP",_h="dnd-core/END_DRAG";function Zw(r,e){return{type:gy,payload:{sourceClientOffset:e||null,clientOffset:r||null}}}const FA={type:gy,payload:{clientOffset:null,sourceClientOffset:null}};function jA(r){return function(t=[],n={publishSource:!0}){const{publishSource:a=!0,clientOffset:o,getSourceClientOffset:u}=n,f=r.getMonitor(),p=r.getRegistry();r.dispatch(Zw(o)),zA(t,f,p);const m=GA(t,f);if(m==null){r.dispatch(FA);return}let y=null;if(o){if(!u)throw new Error("getSourceClientOffset must be defined");YA(u),y=u(m)}r.dispatch(Zw(o,y));const b=p.getSource(m).beginDrag(f,m);if(b==null)return;qA(b),p.pinSource(m);const D=p.getSourceType(m);return{type:mh,payload:{itemType:D,item:b,sourceId:m,clientOffset:o||null,sourceClientOffset:y||null,isSourcePublic:!!a}}}}function zA(r,e,t){ke(!e.isDragging(),"Cannot call beginDrag while dragging."),r.forEach(function(n){ke(t.getSource(n),"Expected sourceIds to be registered.")})}function YA(r){ke(typeof r=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function qA(r){ke(AT(r),"Item must be an object.")}function GA(r,e){let t=null;for(let n=r.length-1;n>=0;n--)if(e.canDragSource(r[n])){t=r[n];break}return t}function QA(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function KA(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){QA(r,a,t[a])})}return r}function WA(r){return function(t={}){const n=r.getMonitor(),a=r.getRegistry();XA(n),JA(n).forEach((u,f)=>{const p=$A(u,f,a,n),m={type:vh,payload:{dropResult:KA({},t,p)}};r.dispatch(m)})}}function XA(r){ke(r.isDragging(),"Cannot call drop while not dragging."),ke(!r.didDrop(),"Cannot call drop twice during one drag operation.")}function $A(r,e,t,n){const a=t.getTarget(r);let o=a?a.drop(n,r):void 0;return ZA(o),typeof o>"u"&&(o=e===0?{}:n.getDropResult()),o}function ZA(r){ke(typeof r>"u"||AT(r),"Drop result must either be an object or undefined.")}function JA(r){const e=r.getTargetIds().filter(r.canDropOnTarget,r);return e.reverse(),e}function eR(r){return function(){const t=r.getMonitor(),n=r.getRegistry();tR(t);const a=t.getSourceId();return a!=null&&(n.getSource(a,!0).endDrag(t,a),n.unpinSource()),{type:_h}}}function tR(r){ke(r.isDragging(),"Cannot call endDrag while not dragging.")}function Im(r,e){return e===null?r===null:Array.isArray(r)?r.some(t=>t===e):r===e}function nR(r){return function(t,{clientOffset:n}={}){rR(t);const a=t.slice(0),o=r.getMonitor(),u=r.getRegistry(),f=o.getItemType();return aR(a,u,f),iR(a,o,u),sR(a,o,u),{type:yh,payload:{targetIds:a,clientOffset:n||null}}}}function rR(r){ke(Array.isArray(r),"Expected targetIds to be an array.")}function iR(r,e,t){ke(e.isDragging(),"Cannot call hover while not dragging."),ke(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<r.length;n++){const a=r[n];ke(r.lastIndexOf(a)===n,"Expected targetIds to be unique in the passed array.");const o=t.getTarget(a);ke(o,"Expected targetIds to be registered.")}}function aR(r,e,t){for(let n=r.length-1;n>=0;n--){const a=r[n],o=e.getTargetType(a);Im(o,t)||r.splice(n,1)}}function sR(r,e,t){r.forEach(function(n){t.getTarget(n).hover(e,n)})}function oR(r){return function(){if(r.getMonitor().isDragging())return{type:my}}}function lR(r){return{beginDrag:jA(r),publishDragSource:oR(r),hover:nR(r),drop:WA(r),endDrag:eR(r)}}class uR{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;function n(o){return(...u)=>{const f=o.apply(e,u);typeof f<"u"&&t(f)}}const a=lR(this);return Object.keys(a).reduce((o,u)=>{const f=a[u];return o[u]=n(f),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function cR(r,e){return{x:r.x+e.x,y:r.y+e.y}}function RT(r,e){return{x:r.x-e.x,y:r.y-e.y}}function fR(r){const{clientOffset:e,initialClientOffset:t,initialSourceClientOffset:n}=r;return!e||!t||!n?null:RT(cR(e,n),t)}function dR(r){const{clientOffset:e,initialClientOffset:t}=r;return!e||!t?null:RT(e,t)}const $u=[],yy=[];$u.__IS_NONE__=!0;yy.__IS_ALL__=!0;function hR(r,e){return r===$u?!1:r===yy||typeof e>"u"?!0:BA(e,r).length>0}class pR{subscribeToStateChange(e,t={}){const{handlerIds:n}=t;ke(typeof e=="function","listener must be a function."),ke(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const o=()=>{const u=this.store.getState(),f=u.stateId;try{f===a||f===a+1&&!hR(u.dirtyHandlerIds,n)||e()}finally{a=f}};return this.store.subscribe(o)}subscribeToOffsetChange(e){ke(typeof e=="function","listener must be a function.");let t=this.store.getState().dragOffset;const n=()=>{const a=this.store.getState().dragOffset;a!==t&&(t=a,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return ke(t,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(ke(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),a=this.getItemType();return Im(n,a)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(ke(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),a=this.getItemType();return n!==a?!1:t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const a=this.registry.getTargetType(e),o=this.getItemType();if(o&&!Im(a,o))return!1;const u=this.getTargetIds();if(!u.length)return!1;const f=u.indexOf(e);return n?f===u.length-1:f>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return fR(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return dR(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const Jw=typeof global<"u"?global:self,IT=Jw.MutationObserver||Jw.WebKitMutationObserver;function OT(r){return function(){const t=setTimeout(a,0),n=setInterval(a,50);function a(){clearTimeout(t),clearInterval(n),r()}}}function gR(r){let e=1;const t=new IT(r),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const mR=typeof IT=="function"?gR:OT;class yR{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let n=0,a=e.length-this.index;n<a;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=mR(this.flush),this.requestErrorThrow=OT(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class vR{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class _R{create(e){const t=this.freeTasks,n=t.length?t.pop():new vR(this.onError,a=>t[t.length]=a);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const MT=new yR,wR=new _R(MT.registerPendingError);function ER(r){MT.enqueueTask(wR.create(r))}const vy="dnd-core/ADD_SOURCE",_y="dnd-core/ADD_TARGET",wy="dnd-core/REMOVE_SOURCE",wh="dnd-core/REMOVE_TARGET";function bR(r){return{type:vy,payload:{sourceId:r}}}function TR(r){return{type:_y,payload:{targetId:r}}}function SR(r){return{type:wy,payload:{sourceId:r}}}function DR(r){return{type:wh,payload:{targetId:r}}}function CR(r){ke(typeof r.canDrag=="function","Expected canDrag to be a function."),ke(typeof r.beginDrag=="function","Expected beginDrag to be a function."),ke(typeof r.endDrag=="function","Expected endDrag to be a function.")}function AR(r){ke(typeof r.canDrop=="function","Expected canDrop to be a function."),ke(typeof r.hover=="function","Expected hover to be a function."),ke(typeof r.drop=="function","Expected beginDrag to be a function.")}function Om(r,e){if(e&&Array.isArray(r)){r.forEach(t=>Om(t,!1));return}ke(typeof r=="string"||typeof r=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var ir;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(ir||(ir={}));let RR=0;function IR(){return RR++}function OR(r){const e=IR().toString();switch(r){case ir.SOURCE:return`S${e}`;case ir.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function eE(r){switch(r[0]){case"S":return ir.SOURCE;case"T":return ir.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function tE(r,e){const t=r.entries();let n=!1;do{const{done:a,value:[,o]}=t.next();if(o===e)return!0;n=!!a}while(!n);return!1}class MR{addSource(e,t){Om(e),CR(t);const n=this.addHandler(ir.SOURCE,e,t);return this.store.dispatch(bR(n)),n}addTarget(e,t){Om(e,!0),AR(t);const n=this.addHandler(ir.TARGET,e,t);return this.store.dispatch(TR(n)),n}containsHandler(e){return tE(this.dragSources,e)||tE(this.dropTargets,e)}getSource(e,t=!1){return ke(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return ke(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return ke(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return ke(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return eE(e)===ir.SOURCE}isTargetId(e){return eE(e)===ir.TARGET}removeSource(e){ke(this.getSource(e),"Expected an existing source."),this.store.dispatch(SR(e)),ER(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){ke(this.getTarget(e),"Expected an existing target."),this.store.dispatch(DR(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);ke(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){ke(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const a=OR(e);return this.types.set(a,t),e===ir.SOURCE?this.dragSources.set(a,n):e===ir.TARGET&&this.dropTargets.set(a,n),a}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const xR=(r,e)=>r===e;function kR(r,e){return!r&&!e?!0:!r||!e?!1:r.x===e.x&&r.y===e.y}function NR(r,e,t=xR){if(r.length!==e.length)return!1;for(let n=0;n<r.length;++n)if(!t(r[n],e[n]))return!1;return!0}function PR(r=$u,e){switch(e.type){case yh:break;case vy:case _y:case wh:case wy:return $u;case mh:case my:case _h:case vh:default:return yy}const{targetIds:t=[],prevTargetIds:n=[]}=e.payload,a=HA(t,n);if(!(a.length>0||!NR(t,n)))return $u;const u=n[n.length-1],f=t[t.length-1];return u!==f&&(u&&a.push(u),f&&a.push(f)),a}function LR(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function VR(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){LR(r,a,t[a])})}return r}const nE={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function UR(r=nE,e){const{payload:t}=e;switch(e.type){case gy:case mh:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case yh:return kR(r.clientOffset,t.clientOffset)?r:VR({},r,{clientOffset:t.clientOffset});case _h:case vh:return nE;default:return r}}function HR(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Go(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){HR(r,a,t[a])})}return r}const BR={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function FR(r=BR,e){const{payload:t}=e;switch(e.type){case mh:return Go({},r,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case my:return Go({},r,{isSourcePublic:!0});case yh:return Go({},r,{targetIds:t.targetIds});case wh:return r.targetIds.indexOf(t.targetId)===-1?r:Go({},r,{targetIds:UA(r.targetIds,t.targetId)});case vh:return Go({},r,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case _h:return Go({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}}function jR(r=0,e){switch(e.type){case vy:case _y:return r+1;case wy:case wh:return r-1;default:return r}}function zR(r=0){return r+1}function YR(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function qR(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){YR(r,a,t[a])})}return r}function GR(r={},e){return{dirtyHandlerIds:PR(r.dirtyHandlerIds,{type:e.type,payload:qR({},e.payload,{prevTargetIds:VA(r,"dragOperation.targetIds",[])})}),dragOffset:UR(r.dragOffset,e),refCount:jR(r.refCount,e),dragOperation:FR(r.dragOperation,e),stateId:zR(r.stateId)}}function QR(r,e=void 0,t={},n=!1){const a=KR(n),o=new pR(a,new MR(a)),u=new uR(a,o),f=r(u,e,t);return u.receiveBackend(f),u}function KR(r){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return CT(GR,r&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function WR(r,e){if(r==null)return{};var t=XR(r,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function XR(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,o;for(o=0;o<n.length;o++)a=n[o],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}let rE=0;const wd=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var $R=W.memo(function(e){var{children:t}=e,n=WR(e,["children"]);const[a,o]=ZR(n);return W.useEffect(()=>{if(o){const u=xT();return++rE,()=>{--rE===0&&(u[wd]=null)}}},[]),ae.jsx(DT.Provider,{value:a,children:t})});function ZR(r){if("manager"in r)return[{dragDropManager:r.manager},!1];const e=JR(r.backend,r.context,r.options,r.debugMode),t=!r.context;return[e,t]}function JR(r,e=xT(),t,n){const a=e;return a[wd]||(a[wd]={dragDropManager:QR(r,e,t,n)}),a[wd]}function xT(){return typeof global<"u"?global:window}var rm,iE;function eI(){return iE||(iE=1,rm=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,a,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(a=n;a--!==0;)if(!r(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[a]))return!1;for(a=n;a--!==0;){var u=o[a];if(!r(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}),rm}var tI=eI();const nI=hy(tI),Us=typeof window<"u"?W.useLayoutEffect:W.useEffect;function rI(r,e,t){const[n,a]=W.useState(()=>e(r)),o=W.useCallback(()=>{const u=e(r);nI(n,u)||(a(u),t&&t())},[n,r,t]);return Us(o),[n,o]}function iI(r,e,t){const[n,a]=rI(r,e,t);return Us(function(){const u=r.getHandlerId();if(u!=null)return r.subscribeToStateChange(a,{handlerIds:[u]})},[r,a]),n}function kT(r,e,t){return iI(e,r||(()=>({})),()=>t.reconnect())}function NT(r,e){const t=[];return typeof r!="function"&&t.push(r),W.useMemo(()=>typeof r=="function"?r():r,t)}function aI(r){return W.useMemo(()=>r.hooks.dragSource(),[r])}function sI(r){return W.useMemo(()=>r.hooks.dragPreview(),[r])}let im=!1,am=!1;class oI{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){ke(!im,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return im=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{im=!1}}isDragging(){if(!this.sourceId)return!1;ke(!am,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return am=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{am=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let sm=!1;class lI{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;ke(!sm,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return sm=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{sm=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function uI(r,e,t){const n=t.getRegistry(),a=n.addTarget(r,e);return[a,()=>n.removeTarget(a)]}function cI(r,e,t){const n=t.getRegistry(),a=n.addSource(r,e);return[a,()=>n.removeSource(a)]}function Mm(r,e,t,n){let a;if(a!==void 0)return!!a;if(r===e)return!0;if(typeof r!="object"||!r||typeof e!="object"||!e)return!1;const o=Object.keys(r),u=Object.keys(e);if(o.length!==u.length)return!1;const f=Object.prototype.hasOwnProperty.bind(e);for(let p=0;p<o.length;p++){const m=o[p];if(!f(m))return!1;const y=r[m],_=e[m];if(a=void 0,a===!1||a===void 0&&y!==_)return!1}return!0}function xm(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function fI(r){if(typeof r.type=="string")return;const e=r.type.displayName||r.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function dI(r){return(e=null,t=null)=>{if(!W.isValidElement(e)){const o=e;return r(o,t),o}const n=e;return fI(n),hI(n,t?o=>r(o,t):r)}}function PT(r){const e={};return Object.keys(r).forEach(t=>{const n=r[t];if(t.endsWith("Ref"))e[t]=r[t];else{const a=dI(n);e[t]=()=>a}}),e}function aE(r,e){typeof r=="function"?r(e):r.current=e}function hI(r,e){const t=r.ref;return ke(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?W.cloneElement(r,{ref:n=>{aE(t,n),aE(e,n)}}):W.cloneElement(r,{ref:e})}class pI{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Mm(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Mm(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=PT({dragSource:(t,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,xm(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,xm(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class gI{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Mm(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=PT({dropTarget:(t,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,xm(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function _l(){const{dragDropManager:r}=W.useContext(DT);return ke(r!=null,"Expected drag drop context"),r}function mI(r,e){const t=_l(),n=W.useMemo(()=>new pI(t.getBackend()),[t]);return Us(()=>(n.dragSourceOptions=r||null,n.reconnect(),()=>n.disconnectDragSource()),[n,r]),Us(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function yI(){const r=_l();return W.useMemo(()=>new oI(r),[r])}class vI{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(t):n={},n??null}canDrag(){const e=this.spec,t=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(t):!0}isDragging(e,t){const n=this.spec,a=this.monitor,{isDragging:o}=n;return o?o(a):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:a}=e;a&&a(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function _I(r,e,t){const n=W.useMemo(()=>new vI(r,e,t),[e,t]);return W.useEffect(()=>{n.spec=r},[r]),n}function wI(r){return W.useMemo(()=>{const e=r.type;return ke(e!=null,"spec.type must be defined"),e},[r])}function EI(r,e,t){const n=_l(),a=_I(r,e,t),o=wI(r);Us(function(){if(o!=null){const[f,p]=cI(o,a,n);return e.receiveHandlerId(f),t.receiveHandlerId(f),p}},[n,e,t,a,o])}function bI(r,e){const t=NT(r);ke(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=yI(),a=mI(t.options,t.previewOptions);return EI(t,n,a),[kT(t.collect,n,a),aI(a),sI(a)]}function TI(r){return W.useMemo(()=>r.hooks.dropTarget(),[r])}function SI(r){const e=_l(),t=W.useMemo(()=>new gI(e.getBackend()),[e]);return Us(()=>(t.dropTargetOptions=r||null,t.reconnect(),()=>t.disconnectDropTarget()),[r]),t}function DI(){const r=_l();return W.useMemo(()=>new lI(r),[r])}function CI(r){const{accept:e}=r;return W.useMemo(()=>(ke(r.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class AI{canDrop(){const e=this.spec,t=this.monitor;return e.canDrop?e.canDrop(t.getItem(),t):!0}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function RI(r,e){const t=W.useMemo(()=>new AI(r,e),[e]);return W.useEffect(()=>{t.spec=r},[r]),t}function II(r,e,t){const n=_l(),a=RI(r,e),o=CI(r);Us(function(){const[f,p]=uI(o,a,n);return e.receiveHandlerId(f),t.receiveHandlerId(f),p},[n,e,a,t,o.map(u=>u.toString()).join("|")])}function OI(r,e){const t=NT(r),n=DI(),a=SI(t.options);return II(t,n,a),[kT(t.collect,n,a),TI(a)]}function LT(r){let e=null;return()=>(e==null&&(e=r()),e)}function MI(r,e){return r.filter(t=>t!==e)}function xI(r,e){const t=new Set,n=o=>t.add(o);r.forEach(n),e.forEach(n);const a=[];return t.forEach(o=>a.push(o)),a}class kI{enter(e){const t=this.entered.length,n=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(e));return this.entered=xI(this.entered.filter(n),[e]),t===0&&this.entered.length>0}leave(e){const t=this.entered.length;return this.entered=MI(this.entered.filter(this.isNodeInDocument),e),t>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class NI{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach(n=>{const a=this.config.exposeProperties[n];a!=null&&(t[n]={value:a(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const VT="__NATIVE_FILE__",UT="__NATIVE_URL__",HT="__NATIVE_TEXT__",BT="__NATIVE_HTML__",sE=Object.freeze(Object.defineProperty({__proto__:null,FILE:VT,HTML:BT,TEXT:HT,URL:UT},Symbol.toStringTag,{value:"Module"}));function om(r,e,t){const n=e.reduce((a,o)=>a||r.getData(o),"");return n??t}const km={[VT]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[BT]:{exposeProperties:{html:(r,e)=>om(r,e,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[UT]:{exposeProperties:{urls:(r,e)=>om(r,e,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[HT]:{exposeProperties:{text:(r,e)=>om(r,e,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};function PI(r,e){const t=km[r];if(!t)throw new Error(`native type ${r} has no configuration`);const n=new NI(t);return n.loadDataTransfer(e),n}function lm(r){if(!r)return null;const e=Array.prototype.slice.call(r.types||[]);return Object.keys(km).filter(t=>{const n=km[t];return n!=null&&n.matchesTypes?n.matchesTypes.some(a=>e.indexOf(a)>-1):!1})[0]||null}const LI=LT(()=>/firefox/i.test(navigator.userAgent)),FT=LT(()=>!!window.safari);class oE{interpolate(e){const{xs:t,ys:n,c1s:a,c2s:o,c3s:u}=this;let f=t.length-1;if(e===t[f])return n[f];let p=0,m=u.length-1,y;for(;p<=m;){y=Math.floor(.5*(p+m));const D=t[y];if(D<e)p=y+1;else if(D>e)m=y-1;else return n[y]}f=Math.max(0,m);const _=e-t[f],b=_*_;return n[f]+a[f]*_+o[f]*b+u[f]*_*b}constructor(e,t){const{length:n}=e,a=[];for(let D=0;D<n;D++)a.push(D);a.sort((D,k)=>e[D]<e[k]?-1:1);const o=[],u=[];let f,p;for(let D=0;D<n-1;D++)f=e[D+1]-e[D],p=t[D+1]-t[D],o.push(f),u.push(p/f);const m=[u[0]];for(let D=0;D<o.length-1;D++){const k=u[D],L=u[D+1];if(k*L<=0)m.push(0);else{f=o[D];const x=o[D+1],F=f+x;m.push(3*F/((F+x)/k+(F+f)/L))}}m.push(u[u.length-1]);const y=[],_=[];let b;for(let D=0;D<m.length-1;D++){b=u[D];const k=m[D],L=1/o[D],x=k+m[D+1]-b-b;y.push((b-k-x)*L),_.push(x*L*L)}this.xs=e,this.ys=t,this.c1s=m,this.c2s=y,this.c3s=_}}const VI=1;function jT(r){const e=r.nodeType===VI?r:r.parentElement;if(!e)return null;const{top:t,left:n}=e.getBoundingClientRect();return{x:n,y:t}}function sd(r){return{x:r.clientX,y:r.clientY}}function UI(r){var e;return r.nodeName==="IMG"&&(LI()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(r)))}function HI(r,e,t,n){let a=r?e.width:t,o=r?e.height:n;return FT()&&r&&(o/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:o}}function BI(r,e,t,n,a){const o=UI(e),f=jT(o?r:e),p={x:t.x-f.x,y:t.y-f.y},{offsetWidth:m,offsetHeight:y}=r,{anchorX:_,anchorY:b}=n,{dragPreviewWidth:D,dragPreviewHeight:k}=HI(o,e,m,y),L=()=>{let $=new oE([0,.5,1],[p.y,p.y/y*k,p.y+k-y]).interpolate(b);return FT()&&o&&($+=(window.devicePixelRatio-1)*k),$},x=()=>new oE([0,.5,1],[p.x,p.x/m*D,p.x+D-m]).interpolate(_),{offsetX:F,offsetY:Y}=a,Q=F===0||F,le=Y===0||Y;return{x:Q?F:x(),y:le?Y:L()}}class FI{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function jI(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function lE(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){jI(r,a,t[a])})}return r}class zI{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;(t=this.window)===null||t===void 0||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const a=u=>this.handleDragStart(u,e),o=u=>this.handleSelectStart(u);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",a),t.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=u=>this.handleDragEnter(u,e),a=u=>this.handleDragOver(u,e),o=u=>this.handleDrop(u,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",a),t.addEventListener("drop",o),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",a),t.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return lE({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return lE({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(sE).some(t=>sE[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=PI(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const t=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},t)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const o=this.sourceNodes.get(a);return o&&jT(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const u=sd(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:u});const{dataTransfer:f}=a,p=lm(f);if(this.monitor.isDragging()){if(f&&typeof f.setDragImage=="function"){const y=this.monitor.getSourceId(),_=this.sourceNodes.get(y),b=this.sourcePreviewNodes.get(y)||_;if(b){const{anchorX:D,anchorY:k,offsetX:L,offsetY:x}=this.getCurrentSourcePreviewNodeOptions(),Q=BI(_,b,u,{anchorX:D,anchorY:k},{offsetX:L,offsetY:x});f.setDragImage(b,Q.x,Q.y)}}try{f==null||f.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:m}=this.getCurrentSourcePreviewNodeOptions();m?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(p)this.beginDragNativeItem(p);else{if(f&&!f.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:f}=a,p=lm(f);p&&this.beginDragNativeItem(p,f)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,o.length>0&&this.actions.hover(o,{clientOffset:sd(a)}),o.some(f=>this.monitor.canDropOnTarget(f))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=sd(a),this.scheduleHover(o),(o||[]).some(f=>this.monitor.canDropOnTarget(f))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;a.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(a.dataTransfer)}else lm(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:sd(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const o=a.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(a.preventDefault(),o.dragDrop()))},this.options=new FI(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new kI(this.isNodeInDocument)}}const YI=function(e,t,n){return new zI(e,t,n)};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),uE=r=>{const e=GI(r);return e.charAt(0).toUpperCase()+e.slice(1)},zT=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),QI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=W.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:u,...f},p)=>W.createElement("svg",{ref:p,...KI,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:zT("lucide",a),...!o&&!QI(f)&&{"aria-hidden":"true"},...f},[...u.map(([m,y])=>W.createElement(m,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=(r,e)=>{const t=W.forwardRef(({className:n,...a},o)=>W.createElement(WI,{ref:o,iconNode:e,className:zT(`lucide-${qI(uE(r))}`,`lucide-${r}`,n),...a}));return t.displayName=uE(r),t};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$I=Ws("calendar",XI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],JI=Ws("ellipsis",ZI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M8 2c3 0 5 2 8 2s4-1 4-1v11",key:"9rwyz9"}],["path",{d:"M4 22V4",key:"1plyxx"}],["path",{d:"M4 15s1-1 4-1 5 2 8 2",key:"1myooe"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],tO=Ws("flag-off",eO);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],rO=Ws("flag",nO);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],aO=Ws("plus",iO);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oO=Ws("square-check-big",sO);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],uO=Ws("square",lO);function YT(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=YT(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function ln(){for(var r,e,t=0,n="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=YT(r))&&(n&&(n+=" "),n+=e);return n}const qT=6048e5,cO=864e5,Eh=6e4,bh=36e5,fO=1e3,cE=Symbol.for("constructDateFrom");function st(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&cE in r?r[cE](e):r instanceof Date?new r.constructor(e):new Date(e)}function we(r,e){return st(e||r,r)}function mr(r,e,t){const n=we(r,t==null?void 0:t.in);return isNaN(e)?st((t==null?void 0:t.in)||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function vr(r,e,t){const n=we(r,t==null?void 0:t.in);if(isNaN(e))return st(r,NaN);if(!e)return n;const a=n.getDate(),o=st(r,n.getTime());o.setMonth(n.getMonth()+e+1,0);const u=o.getDate();return a>=u?o:(n.setFullYear(o.getFullYear(),o.getMonth(),a),n)}function GT(r,e,t){return st(r,+we(r)+e)}function dO(r,e,t){return GT(r,e*bh)}let hO={};function Xs(){return hO}function Ni(r,e){var f,p,m,y;const t=Xs(),n=(e==null?void 0:e.weekStartsOn)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((y=(m=t.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,a=we(r,e==null?void 0:e.in),o=a.getDay(),u=(o<n?7:0)+o-n;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function sl(r,e){return Ni(r,{...e,weekStartsOn:1})}function QT(r,e){const t=we(r,e==null?void 0:e.in),n=t.getFullYear(),a=st(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=sl(a),u=st(t,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);const f=sl(u);return t.getTime()>=o.getTime()?n+1:t.getTime()>=f.getTime()?n:n-1}function Vd(r){const e=we(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Hi(r,...e){const t=st.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Hs(r,e){const t=we(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function ol(r,e,t){const[n,a]=Hi(t==null?void 0:t.in,r,e),o=Hs(n),u=Hs(a),f=+o-Vd(o),p=+u-Vd(u);return Math.round((f-p)/cO)}function pO(r,e){const t=QT(r,e),n=st(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),sl(n)}function Nm(r,e,t){const n=we(r,t==null?void 0:t.in);return n.setTime(n.getTime()+e*Eh),n}function Ey(r,e,t){return vr(r,e*3,t)}function gO(r,e,t){return GT(r,e*1e3)}function Ud(r,e,t){return mr(r,e*7,t)}function Ri(r,e,t){return vr(r,e*12,t)}function fE(r,e){let t,n=e==null?void 0:e.in;return r.forEach(a=>{!n&&typeof a=="object"&&(n=st.bind(null,a));const o=we(a,n);(!t||t<o||isNaN(+o))&&(t=o)}),st(n,t||NaN)}function dE(r,e){let t,n=e==null?void 0:e.in;return r.forEach(a=>{!n&&typeof a=="object"&&(n=st.bind(null,a));const o=we(a,n);(!t||t>o||isNaN(+o))&&(t=o)}),st(n,t||NaN)}function mO(r,e,t){const[n,a]=Hi(t==null?void 0:t.in,r,e);return+Hs(n)==+Hs(a)}function Ii(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Hd(r){return!(!Ii(r)&&typeof r!="number"||isNaN(+we(r)))}function Bd(r,e,t){const[n,a]=Hi(t==null?void 0:t.in,r,e),o=n.getFullYear()-a.getFullYear(),u=n.getMonth()-a.getMonth();return o*12+u}function Ns(r,e){const t=we(r,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Fd(r,e,t){const[n,a]=Hi(t==null?void 0:t.in,r,e),o=n.getFullYear()-a.getFullYear(),u=Ns(n)-Ns(a);return o*4+u}function jd(r,e,t){const[n,a]=Hi(t==null?void 0:t.in,r,e);return n.getFullYear()-a.getFullYear()}function yO(r,e,t){const[n,a]=Hi(t==null?void 0:t.in,r,e),o=hE(n,a),u=Math.abs(ol(n,a));n.setDate(n.getDate()-o*u);const f=+(hE(n,a)===-o),p=o*(u-f);return p===0?0:p}function hE(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function KT(r,e){const t=we(r,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function WT(r,e){const t=we(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Pm(r,e){const t=we(r,e==null?void 0:e.in),n=t.getMonth(),a=n-n%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function XT(r,e){const t=we(r,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function $T(r,e){const t=we(r,e==null?void 0:e.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Th(r,e){const t=we(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function vO(r,e){var f,p;const t=Xs(),n=t.weekStartsOn??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,a=we(r,e==null?void 0:e.in),o=a.getDay(),u=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+u),a.setHours(23,59,59,999),a}const _O={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wO=(r,e,t)=>{let n;const a=_O[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function um(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const EO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},TO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SO={date:um({formats:EO,defaultWidth:"full"}),time:um({formats:bO,defaultWidth:"full"}),dateTime:um({formats:TO,defaultWidth:"full"})},DO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},CO=(r,e,t,n)=>DO[r];function Uu(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const u=r.defaultFormattingWidth||r.defaultWidth,f=t!=null&&t.width?String(t.width):u;a=r.formattingValues[f]||r.formattingValues[u]}else{const u=r.defaultWidth,f=t!=null&&t.width?String(t.width):r.defaultWidth;a=r.values[f]||r.values[u]}const o=r.argumentCallback?r.argumentCallback(e):e;return a[o]}}const AO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},RO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},IO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},OO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},MO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kO=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},NO={ordinalNumber:kO,era:Uu({values:AO,defaultWidth:"wide"}),quarter:Uu({values:RO,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Uu({values:IO,defaultWidth:"wide"}),day:Uu({values:OO,defaultWidth:"wide"}),dayPeriod:Uu({values:MO,defaultWidth:"wide",formattingValues:xO,defaultFormattingWidth:"wide"})};function Hu(r){return(e,t={})=>{const n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(a);if(!o)return null;const u=o[0],f=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(f)?LO(f,_=>_.test(u)):PO(f,_=>_.test(u));let m;m=r.valueCallback?r.valueCallback(p):p,m=t.valueCallback?t.valueCallback(m):m;const y=e.slice(u.length);return{value:m,rest:y}}}function PO(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function LO(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function VO(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const a=n[0],o=e.match(r.parsePattern);if(!o)return null;let u=r.valueCallback?r.valueCallback(o[0]):o[0];u=t.valueCallback?t.valueCallback(u):u;const f=e.slice(a.length);return{value:u,rest:f}}}const UO=/^(\d+)(th|st|nd|rd)?/i,HO=/\d+/i,BO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},FO={any:[/^b/i,/^(a|c)/i]},jO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zO={any:[/1/i,/2/i,/3/i,/4/i]},YO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},GO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},QO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},XO={ordinalNumber:VO({matchPattern:UO,parsePattern:HO,valueCallback:r=>parseInt(r,10)}),era:Hu({matchPatterns:BO,defaultMatchWidth:"wide",parsePatterns:FO,defaultParseWidth:"any"}),quarter:Hu({matchPatterns:jO,defaultMatchWidth:"wide",parsePatterns:zO,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Hu({matchPatterns:YO,defaultMatchWidth:"wide",parsePatterns:qO,defaultParseWidth:"any"}),day:Hu({matchPatterns:GO,defaultMatchWidth:"wide",parsePatterns:QO,defaultParseWidth:"any"}),dayPeriod:Hu({matchPatterns:KO,defaultMatchWidth:"any",parsePatterns:WO,defaultParseWidth:"any"})},ZT={code:"en-US",formatDistance:wO,formatLong:SO,formatRelative:CO,localize:NO,match:XO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $O(r,e){const t=we(r,e==null?void 0:e.in);return ol(t,Th(t))+1}function by(r,e){const t=we(r,e==null?void 0:e.in),n=+sl(t)-+pO(t);return Math.round(n/qT)+1}function Ty(r,e){var y,_,b,D;const t=we(r,e==null?void 0:e.in),n=t.getFullYear(),a=Xs(),o=(e==null?void 0:e.firstWeekContainsDate)??((_=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??a.firstWeekContainsDate??((D=(b=a.locale)==null?void 0:b.options)==null?void 0:D.firstWeekContainsDate)??1,u=st((e==null?void 0:e.in)||r,0);u.setFullYear(n+1,0,o),u.setHours(0,0,0,0);const f=Ni(u,e),p=st((e==null?void 0:e.in)||r,0);p.setFullYear(n,0,o),p.setHours(0,0,0,0);const m=Ni(p,e);return+t>=+f?n+1:+t>=+m?n:n-1}function ZO(r,e){var f,p,m,y;const t=Xs(),n=(e==null?void 0:e.firstWeekContainsDate)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((y=(m=t.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,a=Ty(r,e),o=st((e==null?void 0:e.in)||r,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),Ni(o,e)}function JT(r,e){const t=we(r,e==null?void 0:e.in),n=+Ni(t,e)-+ZO(t,e);return Math.round(n/qT)+1}function at(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const ma={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return at(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):at(t+1,2)},d(r,e){return at(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return at(r.getHours()%12||12,e.length)},H(r,e){return at(r.getHours(),e.length)},m(r,e){return at(r.getMinutes(),e.length)},s(r,e){return at(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return at(a,e.length)}},Qo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pE={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return ma.y(r,e)},Y:function(r,e,t,n){const a=Ty(r,n),o=a>0?a:1-a;if(e==="YY"){const u=o%100;return at(u,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):at(o,e.length)},R:function(r,e){const t=QT(r);return at(t,e.length)},u:function(r,e){const t=r.getFullYear();return at(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return at(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return at(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return ma.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return at(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const a=JT(r,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):at(a,e.length)},I:function(r,e,t){const n=by(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):at(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):ma.d(r,e)},D:function(r,e,t){const n=$O(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):at(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const a=r.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return at(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const a=r.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return at(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return at(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let a;switch(n===12?a=Qo.noon:n===0?a=Qo.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let a;switch(n>=17?a=Qo.evening:n>=12?a=Qo.afternoon:n>=4?a=Qo.morning:a=Qo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return ma.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):ma.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):ma.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):ma.s(r,e)},S:function(r,e){return ma.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return mE(n);case"XXXX":case"XX":return Rs(n);case"XXXXX":case"XXX":default:return Rs(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return mE(n);case"xxxx":case"xx":return Rs(n);case"xxxxx":case"xxx":default:return Rs(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+gE(n,":");case"OOOO":default:return"GMT"+Rs(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+gE(n,":");case"zzzz":default:return"GMT"+Rs(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return at(n,e.length)},T:function(r,e,t){return at(+r,e.length)}};function gE(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),o=n%60;return o===0?t+String(a):t+String(a)+e+at(o,2)}function mE(r,e){return r%60===0?(r>0?"-":"+")+at(Math.abs(r)/60,2):Rs(r,e)}function Rs(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=at(Math.trunc(n/60),2),o=at(n%60,2);return t+a+e+o}const yE=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},eS=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},JO=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return yE(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",yE(n,e)).replace("{{time}}",eS(a,e))},Lm={p:eS,P:JO},eM=/^D+$/,tM=/^Y+$/,nM=["D","DD","YY","YYYY"];function rM(r){return eM.test(r)}function iM(r){return tM.test(r)}function aM(r,e,t){const n=sM(r,e,t);if(console.warn(n),nM.includes(r))throw new RangeError(n)}function sM(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uM=/^'([^]*?)'?$/,cM=/''/g,fM=/[a-zA-Z]/;function vE(r,e,t){var y,_,b,D,k,L,x,F;const n=Xs(),a=(t==null?void 0:t.locale)??n.locale??ZT,o=(t==null?void 0:t.firstWeekContainsDate)??((_=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??n.firstWeekContainsDate??((D=(b=n.locale)==null?void 0:b.options)==null?void 0:D.firstWeekContainsDate)??1,u=(t==null?void 0:t.weekStartsOn)??((L=(k=t==null?void 0:t.locale)==null?void 0:k.options)==null?void 0:L.weekStartsOn)??n.weekStartsOn??((F=(x=n.locale)==null?void 0:x.options)==null?void 0:F.weekStartsOn)??0,f=we(r,t==null?void 0:t.in);if(!Hd(f))throw new RangeError("Invalid time value");let p=e.match(lM).map(Y=>{const Q=Y[0];if(Q==="p"||Q==="P"){const le=Lm[Q];return le(Y,a.formatLong)}return Y}).join("").match(oM).map(Y=>{if(Y==="''")return{isToken:!1,value:"'"};const Q=Y[0];if(Q==="'")return{isToken:!1,value:dM(Y)};if(pE[Q])return{isToken:!0,value:Y};if(Q.match(fM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return{isToken:!1,value:Y}});a.localize.preprocessor&&(p=a.localize.preprocessor(f,p));const m={firstWeekContainsDate:o,weekStartsOn:u,locale:a};return p.map(Y=>{if(!Y.isToken)return Y.value;const Q=Y.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&iM(Q)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&rM(Q))&&aM(Q,e,String(r));const le=pE[Q[0]];return le(f,Q,a.localize,m)}).join("")}function dM(r){const e=r.match(uM);return e?e[1].replace(cM,"'"):r}function _E(r,e){return we(r,e==null?void 0:e.in).getDate()}function hM(r,e){return we(r,e==null?void 0:e.in).getDay()}function pM(r,e){const t=we(r,e==null?void 0:e.in),n=t.getFullYear(),a=t.getMonth(),o=st(t,0);return o.setFullYear(n,a+1,0),o.setHours(0,0,0,0),o.getDate()}function gM(){return Object.assign({},Xs())}function Oi(r,e){return we(r,e==null?void 0:e.in).getHours()}function mM(r,e){const t=we(r,e==null?void 0:e.in).getDay();return t===0?7:t}function Mi(r,e){return we(r,e==null?void 0:e.in).getMinutes()}function yn(r,e){return we(r,e==null?void 0:e.in).getMonth()}function Ta(r){return we(r).getSeconds()}function Vm(r){return+we(r)}function Le(r,e){return we(r,e==null?void 0:e.in).getFullYear()}function Ma(r,e){return+we(r)>+we(e)}function Bs(r,e){return+we(r)<+we(e)}function yM(r,e){return+we(r)==+we(e)}function vM(r,e){const t=_M(e)?new e(0):st(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function _M(r){var e;return typeof r=="function"&&((e=r.prototype)==null?void 0:e.constructor)===r}const wM=10;class tS{constructor(){ye(this,"subPriority",0)}validate(e,t){return!0}}class EM extends tS{constructor(e,t,n,a,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=a,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class bM extends tS{constructor(t,n){super();ye(this,"priority",wM);ye(this,"subPriority",-1);this.context=t||(a=>st(n,a))}set(t,n){return n.timestampIsSet?t:st(t,vM(t,this.context))}}class Ze{run(e,t,n,a){const o=this.parse(e,t,n,a);return o?{setter:new EM(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class TM extends Ze{constructor(){super(...arguments);ye(this,"priority",140);ye(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,n,a){return n.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}const Ot={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Hr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Mt(r,e){return r&&{value:e(r.value),rest:r.rest}}function wt(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Br(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,u=t[5]?parseInt(t[5],10):0;return{value:n*(a*bh+o*Eh+u*fO),rest:e.slice(t[0].length)}}function nS(r){return wt(Ot.anyDigitsSigned,r)}function Dt(r,e){switch(r){case 1:return wt(Ot.singleDigit,e);case 2:return wt(Ot.twoDigits,e);case 3:return wt(Ot.threeDigits,e);case 4:return wt(Ot.fourDigits,e);default:return wt(new RegExp("^\\d{1,"+r+"}"),e)}}function zd(r,e){switch(r){case 1:return wt(Ot.singleDigitSigned,e);case 2:return wt(Ot.twoDigitsSigned,e);case 3:return wt(Ot.threeDigitsSigned,e);case 4:return wt(Ot.fourDigitsSigned,e);default:return wt(new RegExp("^-?\\d{1,"+r+"}"),e)}}function Sy(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function rS(r,e){const t=e>0,n=t?e:1-e;let a;if(n<=50)a=r||100;else{const o=n+50,u=Math.trunc(o/100)*100,f=r>=o%100;a=r+u-(f?100:0)}return t?a:1-a}function iS(r){return r%400===0||r%4===0&&r%100!==0}class SM extends Ze{constructor(){super(...arguments);ye(this,"priority",130);ye(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,a){const o=u=>({year:u,isTwoDigitYear:n==="yy"});switch(n){case"y":return Mt(Dt(4,t),o);case"yo":return Mt(a.ordinalNumber(t,{unit:"year"}),o);default:return Mt(Dt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a){const o=t.getFullYear();if(a.isTwoDigitYear){const f=rS(a.year,o);return t.setFullYear(f,0,1),t.setHours(0,0,0,0),t}const u=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}}class DM extends Ze{constructor(){super(...arguments);ye(this,"priority",130);ye(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,a){const o=u=>({year:u,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Mt(Dt(4,t),o);case"Yo":return Mt(a.ordinalNumber(t,{unit:"year"}),o);default:return Mt(Dt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a,o){const u=Ty(t,o);if(a.isTwoDigitYear){const p=rS(a.year,u);return t.setFullYear(p,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Ni(t,o)}const f=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(f,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Ni(t,o)}}class CM extends Ze{constructor(){super(...arguments);ye(this,"priority",130);ye(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return zd(n==="R"?4:n.length,t)}set(t,n,a){const o=st(t,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),sl(o)}}class AM extends Ze{constructor(){super(...arguments);ye(this,"priority",130);ye(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return zd(n==="u"?4:n.length,t)}set(t,n,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class RM extends Ze{constructor(){super(...arguments);ye(this,"priority",120);ye(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"Q":case"QQ":return Dt(n.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class IM extends Ze{constructor(){super(...arguments);ye(this,"priority",120);ye(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"q":case"qq":return Dt(n.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class OM extends Ze{constructor(){super(...arguments);ye(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ye(this,"priority",110)}parse(t,n,a){const o=u=>u-1;switch(n){case"M":return Mt(wt(Ot.month,t),o);case"MM":return Mt(Dt(2,t),o);case"Mo":return Mt(a.ordinalNumber(t,{unit:"month"}),o);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class MM extends Ze{constructor(){super(...arguments);ye(this,"priority",110);ye(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,a){const o=u=>u-1;switch(n){case"L":return Mt(wt(Ot.month,t),o);case"LL":return Mt(Dt(2,t),o);case"Lo":return Mt(a.ordinalNumber(t,{unit:"month"}),o);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}function xM(r,e,t){const n=we(r,t==null?void 0:t.in),a=JT(n,t)-e;return n.setDate(n.getDate()-a*7),we(n,t==null?void 0:t.in)}class kM extends Ze{constructor(){super(...arguments);ye(this,"priority",100);ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,a){switch(n){case"w":return wt(Ot.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return Dt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a,o){return Ni(xM(t,a,o),o)}}function NM(r,e,t){const n=we(r,t==null?void 0:t.in),a=by(n,t)-e;return n.setDate(n.getDate()-a*7),n}class PM extends Ze{constructor(){super(...arguments);ye(this,"priority",100);ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,a){switch(n){case"I":return wt(Ot.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return Dt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a){return sl(NM(t,a))}}const LM=[31,28,31,30,31,30,31,31,30,31,30,31],VM=[31,29,31,30,31,30,31,31,30,31,30,31];class UM extends Ze{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"subPriority",1);ye(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"d":return wt(Ot.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return Dt(n.length,t)}}validate(t,n){const a=t.getFullYear(),o=iS(a),u=t.getMonth();return o?n>=1&&n<=VM[u]:n>=1&&n<=LM[u]}set(t,n,a){return t.setDate(a),t.setHours(0,0,0,0),t}}class HM extends Ze{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"subpriority",1);ye(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,a){switch(n){case"D":case"DD":return wt(Ot.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return Dt(n.length,t)}}validate(t,n){const a=t.getFullYear();return iS(a)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}}function Dy(r,e,t){var _,b,D,k;const n=Xs(),a=(t==null?void 0:t.weekStartsOn)??((b=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:b.weekStartsOn)??n.weekStartsOn??((k=(D=n.locale)==null?void 0:D.options)==null?void 0:k.weekStartsOn)??0,o=we(r,t==null?void 0:t.in),u=o.getDay(),p=(e%7+7)%7,m=7-a,y=e<0||e>6?e-(u+m)%7:(p+m)%7-(u+m)%7;return mr(o,y,t)}class BM extends Ze{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,o){return t=Dy(t,a,o),t.setHours(0,0,0,0),t}}class FM extends Ze{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,a,o){const u=f=>{const p=Math.floor((f-1)/7)*7;return(f+o.weekStartsOn+6)%7+p};switch(n){case"e":case"ee":return Mt(Dt(n.length,t),u);case"eo":return Mt(a.ordinalNumber(t,{unit:"day"}),u);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,o){return t=Dy(t,a,o),t.setHours(0,0,0,0),t}}class jM extends Ze{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,a,o){const u=f=>{const p=Math.floor((f-1)/7)*7;return(f+o.weekStartsOn+6)%7+p};switch(n){case"c":case"cc":return Mt(Dt(n.length,t),u);case"co":return Mt(a.ordinalNumber(t,{unit:"day"}),u);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,o){return t=Dy(t,a,o),t.setHours(0,0,0,0),t}}function zM(r,e,t){const n=we(r,t==null?void 0:t.in),a=mM(n,t),o=e-a;return mr(n,o,t)}class YM extends Ze{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,a){const o=u=>u===0?7:u;switch(n){case"i":case"ii":return Dt(n.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return Mt(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return Mt(a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Mt(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Mt(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,a){return t=zM(t,a),t.setHours(0,0,0,0),t}}class qM extends Ze{constructor(){super(...arguments);ye(this,"priority",80);ye(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(Sy(a),0,0,0),t}}class GM extends Ze{constructor(){super(...arguments);ye(this,"priority",80);ye(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(Sy(a),0,0,0),t}}class QM extends Ze{constructor(){super(...arguments);ye(this,"priority",80);ye(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(Sy(a),0,0,0),t}}class KM extends Ze{constructor(){super(...arguments);ye(this,"priority",70);ye(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,a){switch(n){case"h":return wt(Ot.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return Dt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,a){const o=t.getHours()>=12;return o&&a<12?t.setHours(a+12,0,0,0):!o&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}}class WM extends Ze{constructor(){super(...arguments);ye(this,"priority",70);ye(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,a){switch(n){case"H":return wt(Ot.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return Dt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,a){return t.setHours(a,0,0,0),t}}class XM extends Ze{constructor(){super(...arguments);ye(this,"priority",70);ye(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,a){switch(n){case"K":return wt(Ot.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return Dt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}}class $M extends Ze{constructor(){super(...arguments);ye(this,"priority",70);ye(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,a){switch(n){case"k":return wt(Ot.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return Dt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,a){const o=a<=24?a%24:a;return t.setHours(o,0,0,0),t}}class ZM extends Ze{constructor(){super(...arguments);ye(this,"priority",60);ye(this,"incompatibleTokens",["t","T"])}parse(t,n,a){switch(n){case"m":return wt(Ot.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return Dt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setMinutes(a,0,0),t}}class JM extends Ze{constructor(){super(...arguments);ye(this,"priority",50);ye(this,"incompatibleTokens",["t","T"])}parse(t,n,a){switch(n){case"s":return wt(Ot.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return Dt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setSeconds(a,0),t}}class ex extends Ze{constructor(){super(...arguments);ye(this,"priority",30);ye(this,"incompatibleTokens",["t","T"])}parse(t,n){const a=o=>Math.trunc(o*Math.pow(10,-n.length+3));return Mt(Dt(n.length,t),a)}set(t,n,a){return t.setMilliseconds(a),t}}class tx extends Ze{constructor(){super(...arguments);ye(this,"priority",10);ye(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return Br(Hr.basicOptionalMinutes,t);case"XX":return Br(Hr.basic,t);case"XXXX":return Br(Hr.basicOptionalSeconds,t);case"XXXXX":return Br(Hr.extendedOptionalSeconds,t);case"XXX":default:return Br(Hr.extended,t)}}set(t,n,a){return n.timestampIsSet?t:st(t,t.getTime()-Vd(t)-a)}}class nx extends Ze{constructor(){super(...arguments);ye(this,"priority",10);ye(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return Br(Hr.basicOptionalMinutes,t);case"xx":return Br(Hr.basic,t);case"xxxx":return Br(Hr.basicOptionalSeconds,t);case"xxxxx":return Br(Hr.extendedOptionalSeconds,t);case"xxx":default:return Br(Hr.extended,t)}}set(t,n,a){return n.timestampIsSet?t:st(t,t.getTime()-Vd(t)-a)}}class rx extends Ze{constructor(){super(...arguments);ye(this,"priority",40);ye(this,"incompatibleTokens","*")}parse(t){return nS(t)}set(t,n,a){return[st(t,a*1e3),{timestampIsSet:!0}]}}class ix extends Ze{constructor(){super(...arguments);ye(this,"priority",20);ye(this,"incompatibleTokens","*")}parse(t){return nS(t)}set(t,n,a){return[st(t,a),{timestampIsSet:!0}]}}const ax={G:new TM,y:new SM,Y:new DM,R:new CM,u:new AM,Q:new RM,q:new IM,M:new OM,L:new MM,w:new kM,I:new PM,d:new UM,D:new HM,E:new BM,e:new FM,c:new jM,i:new YM,a:new qM,b:new GM,B:new QM,h:new KM,H:new WM,K:new XM,k:new $M,m:new ZM,s:new JM,S:new ex,X:new tx,x:new nx,t:new rx,T:new ix},sx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ox=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lx=/^'([^]*?)'?$/,ux=/''/g,cx=/\S/,fx=/[a-zA-Z]/;function dx(r,e,t,n){var x,F,Y,Q,le,oe,$,R;const a=()=>st((n==null?void 0:n.in)||t,NaN),o=gM(),u=(n==null?void 0:n.locale)??o.locale??ZT,f=(n==null?void 0:n.firstWeekContainsDate)??((F=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:F.firstWeekContainsDate)??o.firstWeekContainsDate??((Q=(Y=o.locale)==null?void 0:Y.options)==null?void 0:Q.firstWeekContainsDate)??1,p=(n==null?void 0:n.weekStartsOn)??((oe=(le=n==null?void 0:n.locale)==null?void 0:le.options)==null?void 0:oe.weekStartsOn)??o.weekStartsOn??((R=($=o.locale)==null?void 0:$.options)==null?void 0:R.weekStartsOn)??0;if(!e)return r?a():we(t,n==null?void 0:n.in);const m={firstWeekContainsDate:f,weekStartsOn:p,locale:u},y=[new bM(n==null?void 0:n.in,t)],_=e.match(ox).map(T=>{const C=T[0];if(C in Lm){const O=Lm[C];return O(T,u.formatLong)}return T}).join("").match(sx),b=[];for(let T of _){const C=T[0],O=ax[C];if(O){const{incompatibleTokens:M}=O;if(Array.isArray(M)){const I=b.find(he=>M.includes(he.token)||he.token===C);if(I)throw new RangeError(`The format string mustn't contain \`${I.fullToken}\` and \`${T}\` at the same time`)}else if(O.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);b.push({token:C,fullToken:T});const N=O.run(r,T,u.match,m);if(!N)return a();y.push(N.setter),r=N.rest}else{if(C.match(fx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(T==="''"?T="'":C==="'"&&(T=hx(T)),r.indexOf(T)===0)r=r.slice(T.length);else return a()}}if(r.length>0&&cx.test(r))return a();const D=y.map(T=>T.priority).sort((T,C)=>C-T).filter((T,C,O)=>O.indexOf(T)===C).map(T=>y.filter(C=>C.priority===T).sort((C,O)=>O.subPriority-C.subPriority)).map(T=>T[0]);let k=we(t,n==null?void 0:n.in);if(isNaN(+k))return a();const L={};for(const T of D){if(!T.validate(k,m))return a();const C=T.set(k,L,m);Array.isArray(C)?(k=C[0],Object.assign(L,C[1])):k=C}return k}function hx(r){return r.match(lx)[1].replace(ux,"'")}function px(r,e,t){const[n,a]=Hi(t==null?void 0:t.in,r,e);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function gx(r,e,t){const[n,a]=Hi(t==null?void 0:t.in,r,e);return+Pm(n)==+Pm(a)}function mx(r,e,t){const[n,a]=Hi(t==null?void 0:t.in,r,e);return n.getFullYear()===a.getFullYear()}function ac(r,e,t){const n=+we(r,t==null?void 0:t.in),[a,o]=[+we(e.start,t==null?void 0:t.in),+we(e.end,t==null?void 0:t.in)].sort((u,f)=>u-f);return n>=a&&n<=o}function yx(r,e,t){return mr(r,-1,t)}function vx(r,e){const t=()=>st(e==null?void 0:e.in,NaN),a=bx(r);let o;if(a.date){const m=Tx(a.date,2);o=Sx(m.restDateString,m.year)}if(!o||isNaN(+o))return t();const u=+o;let f=0,p;if(a.time&&(f=Dx(a.time),isNaN(f)))return t();if(a.timezone){if(p=Cx(a.timezone),isNaN(p))return t()}else{const m=new Date(u+f),y=we(0,e==null?void 0:e.in);return y.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),y.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),y}return we(u+f+p,e==null?void 0:e.in)}const od={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_x=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,wx=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function bx(r){const e={},t=r.split(od.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],od.timeZoneDelimiter.test(e.date)&&(e.date=r.split(od.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const a=od.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function Tx(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?a:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function Sx(r,e){if(e===null)return new Date(NaN);const t=r.match(_x);if(!t)return new Date(NaN);const n=!!t[4],a=Bu(t[1]),o=Bu(t[2])-1,u=Bu(t[3]),f=Bu(t[4]),p=Bu(t[5])-1;if(n)return Mx(e,f,p)?Ax(e,f,p):new Date(NaN);{const m=new Date(0);return!Ix(e,o,u)||!Ox(e,a)?new Date(NaN):(m.setUTCFullYear(e,o,Math.max(a,u)),m)}}function Bu(r){return r?parseInt(r):1}function Dx(r){const e=r.match(wx);if(!e)return NaN;const t=cm(e[1]),n=cm(e[2]),a=cm(e[3]);return xx(t,n,a)?t*bh+n*Eh+a*1e3:NaN}function cm(r){return r&&parseFloat(r.replace(",","."))||0}function Cx(r){if(r==="Z")return 0;const e=r.match(Ex);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return kx(n,a)?t*(n*bh+a*Eh):NaN}function Ax(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const a=n.getUTCDay()||7,o=(e-1)*7+t+1-a;return n.setUTCDate(n.getUTCDate()+o),n}const Rx=[31,null,31,30,31,30,31,31,30,31,30,31];function aS(r){return r%400===0||r%4===0&&r%100!==0}function Ix(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(Rx[e]||(aS(r)?29:28))}function Ox(r,e){return e>=1&&e<=(aS(r)?366:365)}function Mx(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function xx(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function kx(r,e){return e>=0&&e<=59}function rr(r,e,t){const n=we(r,t==null?void 0:t.in),a=n.getFullYear(),o=n.getDate(),u=st(r,0);u.setFullYear(a,e,15),u.setHours(0,0,0,0);const f=pM(u);return n.setMonth(e,Math.min(o,f)),n}function Ed(r,e,t){const n=we(r,t==null?void 0:t.in);return n.setHours(e),n}function bd(r,e,t){const n=we(r,t==null?void 0:t.in);return n.setMinutes(e),n}function Wo(r,e,t){const n=we(r,t==null?void 0:t.in),a=Math.trunc(n.getMonth()/3)+1,o=e-a;return rr(n,n.getMonth()+o*3)}function Td(r,e,t){const n=we(r,t==null?void 0:t.in);return n.setSeconds(e),n}function Lr(r,e,t){const n=we(r,t==null?void 0:t.in);return isNaN(+n)?st(r,NaN):(n.setFullYear(e),n)}function Ps(r,e,t){return vr(r,-e,t)}function sS(r,e,t){return Ey(r,-1,t)}function wE(r,e,t){return Ud(r,-1,t)}function ll(r,e,t){return Ri(r,-e,t)}function Sh(){return typeof window<"u"}function wl(r){return oS(r)?(r.nodeName||"").toLowerCase():"#document"}function Fn(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Zr(r){var e;return(e=(oS(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function oS(r){return Sh()?r instanceof Node||r instanceof Fn(r).Node:!1}function Sn(r){return Sh()?r instanceof Element||r instanceof Fn(r).Element:!1}function Wr(r){return Sh()?r instanceof HTMLElement||r instanceof Fn(r).HTMLElement:!1}function EE(r){return!Sh()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Fn(r).ShadowRoot}const Nx=new Set(["inline","contents"]);function mc(r){const{overflow:e,overflowX:t,overflowY:n,display:a}=or(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!Nx.has(a)}const Px=new Set(["table","td","th"]);function Lx(r){return Px.has(wl(r))}const Vx=[":popover-open",":modal"];function Dh(r){return Vx.some(e=>{try{return r.matches(e)}catch{return!1}})}const Ux=["transform","translate","scale","rotate","perspective"],Hx=["transform","translate","scale","rotate","perspective","filter"],Bx=["paint","layout","strict","content"];function Cy(r){const e=Ay(),t=Sn(r)?or(r):r;return Ux.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||Hx.some(n=>(t.willChange||"").includes(n))||Bx.some(n=>(t.contain||"").includes(n))}function Fx(r){let e=xa(r);for(;Wr(e)&&!ul(e);){if(Cy(e))return e;if(Dh(e))return null;e=xa(e)}return null}function Ay(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jx=new Set(["html","body","#document"]);function ul(r){return jx.has(wl(r))}function or(r){return Fn(r).getComputedStyle(r)}function Ch(r){return Sn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function xa(r){if(wl(r)==="html")return r;const e=r.assignedSlot||r.parentNode||EE(r)&&r.host||Zr(r);return EE(e)?e.host:e}function lS(r){const e=xa(r);return ul(e)?r.ownerDocument?r.ownerDocument.body:r.body:Wr(e)&&mc(e)?e:lS(e)}function sc(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=lS(r),o=a===((n=r.ownerDocument)==null?void 0:n.body),u=Fn(a);if(o){const f=Um(u);return e.concat(u,u.visualViewport||[],mc(a)?a:[],f&&t?sc(f):[])}return e.concat(a,sc(a,[],t))}function Um(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const cl=Math.min,Ls=Math.max,Yd=Math.round,ld=Math.floor,jr=r=>({x:r,y:r}),zx={left:"right",right:"left",bottom:"top",top:"bottom"},Yx={start:"end",end:"start"};function qx(r,e,t){return Ls(r,cl(e,t))}function Ah(r,e){return typeof r=="function"?r(e):r}function fl(r){return r.split("-")[0]}function yc(r){return r.split("-")[1]}function Gx(r){return r==="x"?"y":"x"}function Ry(r){return r==="y"?"height":"width"}const Qx=new Set(["top","bottom"]);function Os(r){return Qx.has(fl(r))?"y":"x"}function Iy(r){return Gx(Os(r))}function Kx(r,e,t){t===void 0&&(t=!1);const n=yc(r),a=Iy(r),o=Ry(a);let u=a==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(u=qd(u)),[u,qd(u)]}function Wx(r){const e=qd(r);return[Hm(r),e,Hm(e)]}function Hm(r){return r.replace(/start|end/g,e=>Yx[e])}const bE=["left","right"],TE=["right","left"],Xx=["top","bottom"],$x=["bottom","top"];function Zx(r,e,t){switch(r){case"top":case"bottom":return t?e?TE:bE:e?bE:TE;case"left":case"right":return e?Xx:$x;default:return[]}}function Jx(r,e,t,n){const a=yc(r);let o=Zx(fl(r),t==="start",n);return a&&(o=o.map(u=>u+"-"+a),e&&(o=o.concat(o.map(Hm)))),o}function qd(r){return r.replace(/left|right|bottom|top/g,e=>zx[e])}function ek(r){return{top:0,right:0,bottom:0,left:0,...r}}function uS(r){return typeof r!="number"?ek(r):{top:r,right:r,bottom:r,left:r}}function Gd(r){const{x:e,y:t,width:n,height:a}=r;return{width:n,height:a,top:t,left:e,right:e+n,bottom:t+a,x:e,y:t}}var tk=typeof document<"u",nk=function(){},Qd=tk?W.useLayoutEffect:nk;const rk={...TT},ik=rk.useInsertionEffect,ak=ik||(r=>r());function sk(r){const e=W.useRef(()=>{});return ak(()=>{e.current=r}),W.useCallback(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.current==null?void 0:e.current(...n)},[])}var cS=ST();const ok=hy(cS);function SE(r,e,t){let{reference:n,floating:a}=r;const o=Os(e),u=Iy(e),f=Ry(u),p=fl(e),m=o==="y",y=n.x+n.width/2-a.width/2,_=n.y+n.height/2-a.height/2,b=n[f]/2-a[f]/2;let D;switch(p){case"top":D={x:y,y:n.y-a.height};break;case"bottom":D={x:y,y:n.y+n.height};break;case"right":D={x:n.x+n.width,y:_};break;case"left":D={x:n.x-a.width,y:_};break;default:D={x:n.x,y:n.y}}switch(yc(e)){case"start":D[u]-=b*(t&&m?-1:1);break;case"end":D[u]+=b*(t&&m?-1:1);break}return D}const lk=async(r,e,t)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:u}=t,f=o.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:r,floating:e,strategy:a}),{x:y,y:_}=SE(m,n,p),b=n,D={},k=0;for(let L=0;L<f.length;L++){const{name:x,fn:F}=f[L],{x:Y,y:Q,data:le,reset:oe}=await F({x:y,y:_,initialPlacement:n,placement:b,strategy:a,middlewareData:D,rects:m,platform:u,elements:{reference:r,floating:e}});y=Y??y,_=Q??_,D={...D,[x]:{...D[x],...le}},oe&&k<=50&&(k++,typeof oe=="object"&&(oe.placement&&(b=oe.placement),oe.rects&&(m=oe.rects===!0?await u.getElementRects({reference:r,floating:e,strategy:a}):oe.rects),{x:y,y:_}=SE(m,b,p)),L=-1)}return{x:y,y:_,placement:b,strategy:a,middlewareData:D}};async function uk(r,e){var t;e===void 0&&(e={});const{x:n,y:a,platform:o,rects:u,elements:f,strategy:p}=r,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:_="floating",altBoundary:b=!1,padding:D=0}=Ah(e,r),k=uS(D),x=f[b?_==="floating"?"reference":"floating":_],F=Gd(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(x)))==null||t?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(f.floating)),boundary:m,rootBoundary:y,strategy:p})),Y=_==="floating"?{x:n,y:a,width:u.floating.width,height:u.floating.height}:u.reference,Q=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f.floating)),le=await(o.isElement==null?void 0:o.isElement(Q))?await(o.getScale==null?void 0:o.getScale(Q))||{x:1,y:1}:{x:1,y:1},oe=Gd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:Y,offsetParent:Q,strategy:p}):Y);return{top:(F.top-oe.top+k.top)/le.y,bottom:(oe.bottom-F.bottom+k.bottom)/le.y,left:(F.left-oe.left+k.left)/le.x,right:(oe.right-F.right+k.right)/le.x}}const ck=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:a,rects:o,platform:u,elements:f,middlewareData:p}=e,{element:m,padding:y=0}=Ah(r,e)||{};if(m==null)return{};const _=uS(y),b={x:t,y:n},D=Iy(a),k=Ry(D),L=await u.getDimensions(m),x=D==="y",F=x?"top":"left",Y=x?"bottom":"right",Q=x?"clientHeight":"clientWidth",le=o.reference[k]+o.reference[D]-b[D]-o.floating[k],oe=b[D]-o.reference[D],$=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let R=$?$[Q]:0;(!R||!await(u.isElement==null?void 0:u.isElement($)))&&(R=f.floating[Q]||o.floating[k]);const T=le/2-oe/2,C=R/2-L[k]/2-1,O=cl(_[F],C),M=cl(_[Y],C),N=O,I=R-L[k]-M,he=R/2-L[k]/2+T,de=qx(N,he,I),H=!p.arrow&&yc(a)!=null&&he!==de&&o.reference[k]/2-(he<N?O:M)-L[k]/2<0,Z=H?he<N?he-N:he-I:0;return{[D]:b[D]+Z,data:{[D]:de,centerOffset:he-de-Z,...H&&{alignmentOffset:Z}},reset:H}}}),fk=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:a,middlewareData:o,rects:u,initialPlacement:f,platform:p,elements:m}=e,{mainAxis:y=!0,crossAxis:_=!0,fallbackPlacements:b,fallbackStrategy:D="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:L=!0,...x}=Ah(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const F=fl(a),Y=Os(f),Q=fl(f)===f,le=await(p.isRTL==null?void 0:p.isRTL(m.floating)),oe=b||(Q||!L?[qd(f)]:Wx(f)),$=k!=="none";!b&&$&&oe.push(...Jx(f,L,k,le));const R=[f,...oe],T=await uk(e,x),C=[];let O=((n=o.flip)==null?void 0:n.overflows)||[];if(y&&C.push(T[F]),_){const he=Kx(a,u,le);C.push(T[he[0]],T[he[1]])}if(O=[...O,{placement:a,overflows:C}],!C.every(he=>he<=0)){var M,N;const he=(((M=o.flip)==null?void 0:M.index)||0)+1,de=R[he];if(de&&(!(_==="alignment"?Y!==Os(de):!1)||O.every(ue=>ue.overflows[0]>0&&Os(ue.placement)===Y)))return{data:{index:he,overflows:O},reset:{placement:de}};let H=(N=O.filter(Z=>Z.overflows[0]<=0).sort((Z,ue)=>Z.overflows[1]-ue.overflows[1])[0])==null?void 0:N.placement;if(!H)switch(D){case"bestFit":{var I;const Z=(I=O.filter(ue=>{if($){const Se=Os(ue.placement);return Se===Y||Se==="y"}return!0}).map(ue=>[ue.placement,ue.overflows.filter(Se=>Se>0).reduce((Se,V)=>Se+V,0)]).sort((ue,Se)=>ue[1]-Se[1])[0])==null?void 0:I[0];Z&&(H=Z);break}case"initialPlacement":H=f;break}if(a!==H)return{reset:{placement:H}}}return{}}}},dk=new Set(["left","top"]);async function hk(r,e){const{placement:t,platform:n,elements:a}=r,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),u=fl(t),f=yc(t),p=Os(t)==="y",m=dk.has(u)?-1:1,y=o&&p?-1:1,_=Ah(e,r);let{mainAxis:b,crossAxis:D,alignmentAxis:k}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return f&&typeof k=="number"&&(D=f==="end"?k*-1:k),p?{x:D*y,y:b*m}:{x:b*m,y:D*y}}const pk=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:a,y:o,placement:u,middlewareData:f}=e,p=await hk(e,r);return u===((t=f.offset)==null?void 0:t.placement)&&(n=f.arrow)!=null&&n.alignmentOffset?{}:{x:a+p.x,y:o+p.y,data:{...p,placement:u}}}}};function fS(r){const e=or(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Wr(r),o=a?r.offsetWidth:t,u=a?r.offsetHeight:n,f=Yd(t)!==o||Yd(n)!==u;return f&&(t=o,n=u),{width:t,height:n,$:f}}function Oy(r){return Sn(r)?r:r.contextElement}function el(r){const e=Oy(r);if(!Wr(e))return jr(1);const t=e.getBoundingClientRect(),{width:n,height:a,$:o}=fS(e);let u=(o?Yd(t.width):t.width)/n,f=(o?Yd(t.height):t.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const gk=jr(0);function dS(r){const e=Fn(r);return!Ay()||!e.visualViewport?gk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mk(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Fn(r)?!1:e}function Fs(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=r.getBoundingClientRect(),o=Oy(r);let u=jr(1);e&&(n?Sn(n)&&(u=el(n)):u=el(r));const f=mk(o,t,n)?dS(o):jr(0);let p=(a.left+f.x)/u.x,m=(a.top+f.y)/u.y,y=a.width/u.x,_=a.height/u.y;if(o){const b=Fn(o),D=n&&Sn(n)?Fn(n):n;let k=b,L=Um(k);for(;L&&n&&D!==k;){const x=el(L),F=L.getBoundingClientRect(),Y=or(L),Q=F.left+(L.clientLeft+parseFloat(Y.paddingLeft))*x.x,le=F.top+(L.clientTop+parseFloat(Y.paddingTop))*x.y;p*=x.x,m*=x.y,y*=x.x,_*=x.y,p+=Q,m+=le,k=Fn(L),L=Um(k)}}return Gd({width:y,height:_,x:p,y:m})}function My(r,e){const t=Ch(r).scrollLeft;return e?e.left+t:Fs(Zr(r)).left+t}function hS(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),a=n.left+e.scrollLeft-(t?0:My(r,n)),o=n.top+e.scrollTop;return{x:a,y:o}}function yk(r){let{elements:e,rect:t,offsetParent:n,strategy:a}=r;const o=a==="fixed",u=Zr(n),f=e?Dh(e.floating):!1;if(n===u||f&&o)return t;let p={scrollLeft:0,scrollTop:0},m=jr(1);const y=jr(0),_=Wr(n);if((_||!_&&!o)&&((wl(n)!=="body"||mc(u))&&(p=Ch(n)),Wr(n))){const D=Fs(n);m=el(n),y.x=D.x+n.clientLeft,y.y=D.y+n.clientTop}const b=u&&!_&&!o?hS(u,p,!0):jr(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-p.scrollLeft*m.x+y.x+b.x,y:t.y*m.y-p.scrollTop*m.y+y.y+b.y}}function vk(r){return Array.from(r.getClientRects())}function _k(r){const e=Zr(r),t=Ch(r),n=r.ownerDocument.body,a=Ls(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Ls(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let u=-t.scrollLeft+My(r);const f=-t.scrollTop;return or(n).direction==="rtl"&&(u+=Ls(e.clientWidth,n.clientWidth)-a),{width:a,height:o,x:u,y:f}}function wk(r,e){const t=Fn(r),n=Zr(r),a=t.visualViewport;let o=n.clientWidth,u=n.clientHeight,f=0,p=0;if(a){o=a.width,u=a.height;const m=Ay();(!m||m&&e==="fixed")&&(f=a.offsetLeft,p=a.offsetTop)}return{width:o,height:u,x:f,y:p}}const Ek=new Set(["absolute","fixed"]);function bk(r,e){const t=Fs(r,!0,e==="fixed"),n=t.top+r.clientTop,a=t.left+r.clientLeft,o=Wr(r)?el(r):jr(1),u=r.clientWidth*o.x,f=r.clientHeight*o.y,p=a*o.x,m=n*o.y;return{width:u,height:f,x:p,y:m}}function DE(r,e,t){let n;if(e==="viewport")n=wk(r,t);else if(e==="document")n=_k(Zr(r));else if(Sn(e))n=bk(e,t);else{const a=dS(r);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Gd(n)}function pS(r,e){const t=xa(r);return t===e||!Sn(t)||ul(t)?!1:or(t).position==="fixed"||pS(t,e)}function Tk(r,e){const t=e.get(r);if(t)return t;let n=sc(r,[],!1).filter(f=>Sn(f)&&wl(f)!=="body"),a=null;const o=or(r).position==="fixed";let u=o?xa(r):r;for(;Sn(u)&&!ul(u);){const f=or(u),p=Cy(u);!p&&f.position==="fixed"&&(a=null),(o?!p&&!a:!p&&f.position==="static"&&!!a&&Ek.has(a.position)||mc(u)&&!p&&pS(r,u))?n=n.filter(y=>y!==u):a=f,u=xa(u)}return e.set(r,n),n}function Sk(r){let{element:e,boundary:t,rootBoundary:n,strategy:a}=r;const u=[...t==="clippingAncestors"?Dh(e)?[]:Tk(e,this._c):[].concat(t),n],f=u[0],p=u.reduce((m,y)=>{const _=DE(e,y,a);return m.top=Ls(_.top,m.top),m.right=cl(_.right,m.right),m.bottom=cl(_.bottom,m.bottom),m.left=Ls(_.left,m.left),m},DE(e,f,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function Dk(r){const{width:e,height:t}=fS(r);return{width:e,height:t}}function Ck(r,e,t){const n=Wr(e),a=Zr(e),o=t==="fixed",u=Fs(r,!0,o,e);let f={scrollLeft:0,scrollTop:0};const p=jr(0);function m(){p.x=My(a)}if(n||!n&&!o)if((wl(e)!=="body"||mc(a))&&(f=Ch(e)),n){const D=Fs(e,!0,o,e);p.x=D.x+e.clientLeft,p.y=D.y+e.clientTop}else a&&m();o&&!n&&a&&m();const y=a&&!n&&!o?hS(a,f):jr(0),_=u.left+f.scrollLeft-p.x-y.x,b=u.top+f.scrollTop-p.y-y.y;return{x:_,y:b,width:u.width,height:u.height}}function fm(r){return or(r).position==="static"}function CE(r,e){if(!Wr(r)||or(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Zr(r)===t&&(t=t.ownerDocument.body),t}function gS(r,e){const t=Fn(r);if(Dh(r))return t;if(!Wr(r)){let a=xa(r);for(;a&&!ul(a);){if(Sn(a)&&!fm(a))return a;a=xa(a)}return t}let n=CE(r,e);for(;n&&Lx(n)&&fm(n);)n=CE(n,e);return n&&ul(n)&&fm(n)&&!Cy(n)?t:n||Fx(r)||t}const Ak=async function(r){const e=this.getOffsetParent||gS,t=this.getDimensions,n=await t(r.floating);return{reference:Ck(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Rk(r){return or(r).direction==="rtl"}const Ik={convertOffsetParentRelativeRectToViewportRelativeRect:yk,getDocumentElement:Zr,getClippingRect:Sk,getOffsetParent:gS,getElementRects:Ak,getClientRects:vk,getDimensions:Dk,getScale:el,isElement:Sn,isRTL:Rk};function mS(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function Ok(r,e){let t=null,n;const a=Zr(r);function o(){var f;clearTimeout(n),(f=t)==null||f.disconnect(),t=null}function u(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),o();const m=r.getBoundingClientRect(),{left:y,top:_,width:b,height:D}=m;if(f||e(),!b||!D)return;const k=ld(_),L=ld(a.clientWidth-(y+b)),x=ld(a.clientHeight-(_+D)),F=ld(y),Q={rootMargin:-k+"px "+-L+"px "+-x+"px "+-F+"px",threshold:Ls(0,cl(1,p))||1};let le=!0;function oe($){const R=$[0].intersectionRatio;if(R!==p){if(!le)return u();R?u(!1,R):n=setTimeout(()=>{u(!1,1e-7)},1e3)}R===1&&!mS(m,r.getBoundingClientRect())&&u(),le=!1}try{t=new IntersectionObserver(oe,{...Q,root:a.ownerDocument})}catch{t=new IntersectionObserver(oe,Q)}t.observe(r)}return u(!0),o}function Mk(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,m=Oy(r),y=a||o?[...m?sc(m):[],...sc(e)]:[];y.forEach(F=>{a&&F.addEventListener("scroll",t,{passive:!0}),o&&F.addEventListener("resize",t)});const _=m&&f?Ok(m,t):null;let b=-1,D=null;u&&(D=new ResizeObserver(F=>{let[Y]=F;Y&&Y.target===m&&D&&(D.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var Q;(Q=D)==null||Q.observe(e)})),t()}),m&&!p&&D.observe(m),D.observe(e));let k,L=p?Fs(r):null;p&&x();function x(){const F=Fs(r);L&&!mS(L,F)&&t(),L=F,k=requestAnimationFrame(x)}return t(),()=>{var F;y.forEach(Y=>{a&&Y.removeEventListener("scroll",t),o&&Y.removeEventListener("resize",t)}),_==null||_(),(F=D)==null||F.disconnect(),D=null,p&&cancelAnimationFrame(k)}}const xk=pk,kk=fk,AE=ck,Nk=(r,e,t)=>{const n=new Map,a={platform:Ik,...t},o={...a.platform,_c:n};return lk(r,e,{...a,platform:o})};var Pk=typeof document<"u",Lk=function(){},Sd=Pk?W.useLayoutEffect:Lk;function Kd(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,a;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Kd(r[n],e[n]))return!1;return!0}if(a=Object.keys(r),t=a.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=t;n--!==0;){const o=a[n];if(!(o==="_owner"&&r.$$typeof)&&!Kd(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function yS(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function RE(r,e){const t=yS(r);return Math.round(e*t)/t}function dm(r){const e=W.useRef(r);return Sd(()=>{e.current=r}),e}function Vk(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:u}={},transform:f=!0,whileElementsMounted:p,open:m}=r,[y,_]=W.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,D]=W.useState(n);Kd(b,n)||D(n);const[k,L]=W.useState(null),[x,F]=W.useState(null),Y=W.useCallback(ue=>{ue!==$.current&&($.current=ue,L(ue))},[]),Q=W.useCallback(ue=>{ue!==R.current&&(R.current=ue,F(ue))},[]),le=o||k,oe=u||x,$=W.useRef(null),R=W.useRef(null),T=W.useRef(y),C=p!=null,O=dm(p),M=dm(a),N=dm(m),I=W.useCallback(()=>{if(!$.current||!R.current)return;const ue={placement:e,strategy:t,middleware:b};M.current&&(ue.platform=M.current),Nk($.current,R.current,ue).then(Se=>{const V={...Se,isPositioned:N.current!==!1};he.current&&!Kd(T.current,V)&&(T.current=V,cS.flushSync(()=>{_(V)}))})},[b,e,t,M,N]);Sd(()=>{m===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,_(ue=>({...ue,isPositioned:!1})))},[m]);const he=W.useRef(!1);Sd(()=>(he.current=!0,()=>{he.current=!1}),[]),Sd(()=>{if(le&&($.current=le),oe&&(R.current=oe),le&&oe){if(O.current)return O.current(le,oe,I);I()}},[le,oe,I,O,C]);const de=W.useMemo(()=>({reference:$,floating:R,setReference:Y,setFloating:Q}),[Y,Q]),H=W.useMemo(()=>({reference:le,floating:oe}),[le,oe]),Z=W.useMemo(()=>{const ue={position:t,left:0,top:0};if(!H.floating)return ue;const Se=RE(H.floating,y.x),V=RE(H.floating,y.y);return f?{...ue,transform:"translate("+Se+"px, "+V+"px)",...yS(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Se,top:V}},[t,f,H.floating,y.x,y.y]);return W.useMemo(()=>({...y,update:I,refs:de,elements:H,floatingStyles:Z}),[y,I,de,H,Z])}const Uk=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:a}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?AE({element:n.current,padding:a}).fn(t):{}:n?AE({element:n,padding:a}).fn(t):{}}}},Hk=(r,e)=>({...xk(r),options:[r,e]}),Bk=(r,e)=>({...kk(r),options:[r,e]}),Fk=(r,e)=>({...Uk(r),options:[r,e]}),jk={...TT};let IE=!1,zk=0;const OE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+zk++;function Yk(){const[r,e]=W.useState(()=>IE?OE():void 0);return Qd(()=>{r==null&&e(OE())},[]),W.useEffect(()=>{IE=!0},[]),r}const qk=jk.useId,vS=qk||Yk,Gk=W.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:o,shift:u}},width:f=14,height:p=7,tipRadius:m=0,strokeWidth:y=0,staticOffset:_,stroke:b,d:D,style:{transform:k,...L}={},...x}=e,F=vS(),[Y,Q]=W.useState(!1);if(Qd(()=>{if(!a)return;or(a).direction==="rtl"&&Q(!0)},[a]),!a)return null;const[le,oe]=n.split("-"),$=le==="top"||le==="bottom";let R=_;($&&u!=null&&u.x||!$&&u!=null&&u.y)&&(R=null);const T=y*2,C=T/2,O=f/2*(m/-8+1),M=p/2*m/4,N=!!D,I=R&&oe==="end"?"bottom":"top";let he=R&&oe==="end"?"right":"left";R&&Y&&(he=oe==="end"?"left":"right");const de=(o==null?void 0:o.x)!=null?R||o.x:"",H=(o==null?void 0:o.y)!=null?R||o.y:"",Z=D||"M0,0"+(" H"+f)+(" L"+(f-O)+","+(p-M))+(" Q"+f/2+","+p+" "+O+","+(p-M))+" Z",ue={top:N?"rotate(180deg)":"",left:N?"rotate(90deg)":"rotate(-90deg)",bottom:N?"":"rotate(180deg)",right:N?"rotate(-90deg)":"rotate(90deg)"}[le];return ae.jsxs("svg",{...x,"aria-hidden":!0,ref:t,width:N?f:f+T,height:f,viewBox:"0 0 "+f+" "+(p>f?p:f),style:{position:"absolute",pointerEvents:"none",[he]:de,[I]:H,[le]:$||N?"100%":"calc(100% - "+T/2+"px)",transform:[ue,k].filter(Se=>!!Se).join(" "),...L},children:[T>0&&ae.jsx("path",{clipPath:"url(#"+F+")",fill:"none",stroke:b,strokeWidth:T+(D?0:1),d:Z}),ae.jsx("path",{stroke:T&&!D?x.fill:"none",d:Z}),ae.jsx("clipPath",{id:F,children:ae.jsx("rect",{x:-C,y:C*(N?-1:1),width:f+T,height:f})})]})});function Qk(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(a=>a(t))},on(e,t){r.has(e)||r.set(e,new Set),r.get(e).add(t)},off(e,t){var n;(n=r.get(e))==null||n.delete(t)}}}const Kk=W.createContext(null),Wk=W.createContext(null),Xk=()=>{var r;return((r=W.useContext(Kk))==null?void 0:r.id)||null},$k=()=>W.useContext(Wk);function Zk(r){const{open:e=!1,onOpenChange:t,elements:n}=r,a=vS(),o=W.useRef({}),[u]=W.useState(()=>Qk()),f=Xk()!=null,[p,m]=W.useState(n.reference),y=sk((D,k,L)=>{o.current.openEvent=D?k:void 0,u.emit("openchange",{open:D,event:k,reason:L,nested:f}),t==null||t(D,k,L)}),_=W.useMemo(()=>({setPositionReference:m}),[]),b=W.useMemo(()=>({reference:p||n.reference||null,floating:n.floating||null,domReference:n.reference}),[p,n.reference,n.floating]);return W.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:b,events:u,floatingId:a,refs:_}),[e,y,b,u,a,_])}function Jk(r){r===void 0&&(r={});const{nodeId:e}=r,t=Zk({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,a=n.elements,[o,u]=W.useState(null),[f,p]=W.useState(null),y=(a==null?void 0:a.domReference)||o,_=W.useRef(null),b=$k();Qd(()=>{y&&(_.current=y)},[y]);const D=Vk({...r,elements:{...a,...f&&{reference:f}}}),k=W.useCallback(Q=>{const le=Sn(Q)?{getBoundingClientRect:()=>Q.getBoundingClientRect(),getClientRects:()=>Q.getClientRects(),contextElement:Q}:Q;p(le),D.refs.setReference(le)},[D.refs]),L=W.useCallback(Q=>{(Sn(Q)||Q===null)&&(_.current=Q,u(Q)),(Sn(D.refs.reference.current)||D.refs.reference.current===null||Q!==null&&!Sn(Q))&&D.refs.setReference(Q)},[D.refs]),x=W.useMemo(()=>({...D.refs,setReference:L,setPositionReference:k,domReference:_}),[D.refs,L,k]),F=W.useMemo(()=>({...D.elements,domReference:y}),[D.elements,y]),Y=W.useMemo(()=>({...D,...n,refs:x,elements:F,nodeId:e}),[D,x,F,e,n]);return Qd(()=>{n.dataRef.current.floatingContext=Y;const Q=b==null?void 0:b.nodesRef.current.find(le=>le.id===e);Q&&(Q.context=Y)}),W.useMemo(()=>({...D,context:Y,refs:x,elements:F}),[D,x,F,Y])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Bm=function(e,t){return Bm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},Bm(e,t)};function Jt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Bm(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var We=function(){return We=Object.assign||function(t){for(var n,a=1,o=arguments.length;a<o;a++){n=arguments[a];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},We.apply(this,arguments)};function Fr(r,e,t){if(t||arguments.length===2)for(var n=0,a=e.length,o;n<a;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var eN=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,a=n===void 0?!1:n,o=r.className,u=r.children,f=t?"Choose Time":"Choose Date".concat(a?" and Time":"");return ee.createElement("div",{className:o,role:"dialog","aria-label":f,"aria-modal":"true"},u)},tN=function(r,e){var t=W.useRef(null),n=W.useRef(r);n.current=r;var a=W.useCallback(function(o){var u,f=o.composed&&o.composedPath&&o.composedPath().find(function(p){return p instanceof Node})||o.target;t.current&&!t.current.contains(f)&&(e&&f instanceof HTMLElement&&f.classList.contains(e)||(u=n.current)===null||u===void 0||u.call(n,o))},[e]);return W.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),t},Rh=function(r){var e=r.children,t=r.onClickOutside,n=r.className,a=r.containerRef,o=r.style,u=r.ignoreClass,f=tN(t,u);return ee.createElement("div",{className:n,style:o,ref:function(p){f.current=p,a&&(a.current=p)}},e)},ge;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(ge||(ge={}));function _S(){var r=typeof window<"u"?window:globalThis;return r}var vc=12;function et(r){if(r==null)return new Date;var e=typeof r=="string"?vx(r):we(r);return Ih(e)?e:new Date}function hm(r,e,t,n,a){a===void 0&&(a=et());for(var o=dl(t)||dl(xy()),u=Array.isArray(e)?e:[e],f=0,p=u;f<p.length;f++){var m=p[f],y=dx(r,m,a,{locale:o});if(Ih(y)&&(!n||r===vt(y,m,t)))return y}return null}function Ih(r,e){return Hd(r)&&!Bs(r,new Date("1/1/1800"))}function vt(r,e,t){if(t==="en")return vE(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?dl(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||dl(xy()),vE(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function nr(r,e){var t=e.dateFormat,n=e.locale,a=Array.isArray(t)&&t.length>0?t[0]:t;return r&&vt(r,a,n)||""}var wS=" - ";function nN(r,e,t){if(!r)return"";var n=nr(r,t),a=e?nr(e,t):"";return"".concat(n).concat(wS).concat(a)}function rN(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?nr(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=nr(r[1],e);return"".concat(t,", ").concat(n)}var a=r.length-1;return"".concat(t," (+").concat(a,")")}function pm(r,e){var t=e.hour,n=t===void 0?0:t,a=e.minute,o=a===void 0?0:a,u=e.second,f=u===void 0?0:u;return Ed(bd(Td(r,f),o),n)}function iN(r){return by(r)}function aN(r,e){return vt(r,"ddd",e)}function Dd(r){return Hs(r)}function Sa(r,e,t){var n=dl(e||xy());return Ni(r,{locale:n,weekStartsOn:t})}function xi(r){return XT(r)}function zu(r){return Th(r)}function ME(r){return Pm(r)}function xE(){return Hs(et())}function kE(r){return KT(r)}function sN(r){return vO(r)}function oN(r){return WT(r)}function Ur(r,e){return r&&e?mx(r,e):!r&&!e}function Tn(r,e){return r&&e?px(r,e):!r&&!e}function Wd(r,e){return r&&e?gx(r,e):!r&&!e}function Ke(r,e){return r&&e?mO(r,e):!r&&!e}function Ms(r,e){return r&&e?yM(r,e):!r&&!e}function Yu(r,e,t){var n,a=Hs(e),o=KT(t);try{n=ac(r,{start:a,end:o})}catch{n=!1}return n}function xy(){var r=_S();return r.__localeId__}function dl(r){if(typeof r=="string"){var e=_S();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function lN(r,e,t){return e(vt(r,"EEEE",t))}function uN(r,e){return vt(r,"EEEEEE",e)}function cN(r,e){return vt(r,"EEE",e)}function ky(r,e){return vt(rr(et(),r),"LLLL",e)}function ES(r,e){return vt(rr(et(),r),"LLL",e)}function fN(r,e){return vt(Wo(et(),r),"QQQ",e)}function ar(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,u=t.excludeDateIntervals,f=t.includeDates,p=t.includeDateIntervals,m=t.filterDate;return _c(r,{minDate:n,maxDate:a})||o&&o.some(function(y){return y instanceof Date?Ke(r,y):Ke(r,y.date)})||u&&u.some(function(y){var _=y.start,b=y.end;return ac(r,{start:_,end:b})})||f&&!f.some(function(y){return Ke(r,y)})||p&&!p.some(function(y){var _=y.start,b=y.end;return ac(r,{start:_,end:b})})||m&&!m(et(r))||!1}function Ny(r,e){var t=e===void 0?{}:e,n=t.excludeDates,a=t.excludeDateIntervals;return a&&a.length>0?a.some(function(o){var u=o.start,f=o.end;return ac(r,{start:u,end:f})}):n&&n.some(function(o){var u;return o instanceof Date?Ke(r,o):Ke(r,(u=o.date)!==null&&u!==void 0?u:new Date)})||!1}function bS(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,u=t.includeDates,f=t.filterDate;return _c(r,{minDate:n?XT(n):void 0,maxDate:a?WT(a):void 0})||(o==null?void 0:o.some(function(p){return Tn(r,p instanceof Date?p:p.date)}))||u&&!u.some(function(p){return Tn(r,p)})||f&&!f(et(r))||!1}function ud(r,e,t,n){var a=Le(r),o=yn(r),u=Le(e),f=yn(e),p=Le(n);return a===u&&a===p?o<=t&&t<=f:a<u?p===a&&o<=t||p===u&&f>=t||p<u&&p>a:!1}function dN(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,u=t.includeDates;return _c(r,{minDate:n,maxDate:a})||o&&o.some(function(f){return Tn(f instanceof Date?f:f.date,r)})||u&&!u.some(function(f){return Tn(f,r)})||!1}function cd(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,u=t.includeDates,f=t.filterDate;return _c(r,{minDate:n,maxDate:a})||(o==null?void 0:o.some(function(p){return Wd(r,p instanceof Date?p:p.date)}))||u&&!u.some(function(p){return Wd(r,p)})||f&&!f(et(r))||!1}function fd(r,e,t){if(!e||!t||!Hd(e)||!Hd(t))return!1;var n=Le(e),a=Le(t);return n<=r&&a>=r}function Cd(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,u=t.includeDates,f=t.filterDate,p=new Date(r,0,1);return _c(p,{minDate:n?Th(n):void 0,maxDate:a?$T(a):void 0})||(o==null?void 0:o.some(function(m){return Ur(p,m instanceof Date?m:m.date)}))||u&&!u.some(function(m){return Ur(p,m)})||f&&!f(et(p))||!1}function dd(r,e,t,n){var a=Le(r),o=Ns(r),u=Le(e),f=Ns(e),p=Le(n);return a===u&&a===p?o<=t&&t<=f:a<u?p===a&&o<=t||p===u&&f>=t||p<u&&p>a:!1}function _c(r,e){var t,n=e===void 0?{}:e,a=n.minDate,o=n.maxDate;return(t=a&&ol(r,a)<0||o&&ol(r,o)>0)!==null&&t!==void 0?t:!1}function NE(r,e){return e.some(function(t){return Oi(t)===Oi(r)&&Mi(t)===Mi(r)&&Ta(t)===Ta(r)})}function PE(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,a=t.includeTimes,o=t.filterTime;return n&&NE(r,n)||a&&!NE(r,a)||o&&!o(r)||!1}function LE(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var a=et();a=Ed(a,Oi(r)),a=bd(a,Mi(r)),a=Td(a,Ta(r));var o=et();o=Ed(o,Oi(t)),o=bd(o,Mi(t)),o=Td(o,Ta(t));var u=et();u=Ed(u,Oi(n)),u=bd(u,Mi(n)),u=Td(u,Ta(n));var f;try{f=!ac(a,{start:o,end:u})}catch{f=!1}return f}function VE(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.includeDates,o=Ps(r,1);return n&&Bd(n,o)>0||a&&a.every(function(u){return Bd(u,o)>0})||!1}function UE(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.includeDates,o=vr(r,1);return n&&Bd(o,n)>0||a&&a.every(function(u){return Bd(o,u)>0})||!1}function hN(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.includeDates,o=Th(r),u=sS(o);return n&&Fd(n,u)>0||a&&a.every(function(f){return Fd(f,u)>0})||!1}function pN(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.includeDates,o=$T(r),u=Ey(o,1);return n&&Fd(u,n)>0||a&&a.every(function(f){return Fd(u,f)>0})||!1}function HE(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.includeDates,o=ll(r,1);return n&&jd(n,o)>0||a&&a.every(function(u){return jd(u,o)>0})||!1}function gN(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.yearItemNumber,o=a===void 0?vc:a,u=zu(ll(r,o)),f=Ea(u,o).endPeriod,p=n&&Le(n);return p&&p>f||!1}function BE(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.includeDates,o=Ri(r,1);return n&&jd(o,n)>0||a&&a.every(function(u){return jd(o,u)>0})||!1}function mN(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.yearItemNumber,o=a===void 0?vc:a,u=Ri(r,o),f=Ea(u,o).startPeriod,p=n&&Le(n);return p&&p<f||!1}function TS(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(a){return ol(a,e)>=0});return dE(n)}else return t?dE(t):e}function SS(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(a){return ol(a,e)<=0});return fE(n)}else return t?fE(t):e}function FE(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,a=0,o=r.length;a<o;a++){var u=r[a];if(Ii(u)){var f=vt(u,"MM.dd.yyyy"),p=n.get(f)||[];p.includes(e)||(p.push(e),n.set(f,p))}else if(typeof u=="object"){var m=Object.keys(u),y=(t=m[0])!==null&&t!==void 0?t:"",_=u[y];if(typeof y=="string"&&Array.isArray(_))for(var b=0,D=_.length;b<D;b++){var k=_[b];if(k){var f=vt(k,"MM.dd.yyyy"),p=n.get(f)||[];p.includes(y)||(p.push(y),n.set(f,p))}}}}return n}function yN(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function vN(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var a=n.date,o=n.holidayName;if(Ii(a)){var u=vt(a,"MM.dd.yyyy"),f=t.get(u)||{className:"",holidayNames:[]};if(!("className"in f&&f.className===e&&yN(f.holidayNames,[o]))){f.className=e;var p=f.holidayNames;f.holidayNames=p?Fr(Fr([],p,!0),[o],!1):[o],t.set(u,f)}}}),t}function _N(r,e,t,n,a){for(var o=a.length,u=[],f=0;f<o;f++){var p=r,m=a[f];m&&(p=dO(p,Oi(m)),p=Nm(p,Mi(m)),p=gO(p,Ta(m)));var y=Nm(r,(t+1)*n);Ma(p,e)&&Bs(p,y)&&m!=null&&u.push(m)}return u}function jE(r){return r<10?"0".concat(r):"".concat(r)}function Ea(r,e){e===void 0&&(e=vc);var t=Math.ceil(Le(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function wN(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function zE(r){var e=r.getSeconds(),t=r.getMilliseconds();return we(r.getTime()-e*1e3-t)}function EN(r,e){return zE(r).getTime()===zE(e).getTime()}function YE(r){if(!Ii(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function qE(r,e){if(!Ii(r)||!Ii(e))throw new Error("Invalid date received");var t=YE(r),n=YE(e);return Bs(t,n)}function DS(r){return r.key===ge.Space}var bN=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=ee.createRef(),n.onTimeChange=function(a){var o,u;n.setState({time:a});var f=n.props.date,p=f instanceof Date&&!isNaN(+f),m=p?f:new Date;if(a!=null&&a.includes(":")){var y=a.split(":"),_=y[0],b=y[1];m.setHours(Number(_)),m.setMinutes(Number(b))}(u=(o=n.props).onChange)===null||u===void 0||u.call(o,m)},n.renderTimeInput=function(){var a=n.state.time,o=n.props,u=o.date,f=o.timeString,p=o.customTimeInput;return p?W.cloneElement(p,{date:u,value:a,onChange:n.onTimeChange}):ee.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var m;(m=n.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:a,onChange:function(m){n.onTimeChange(m.target.value||f)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return ee.createElement("div",{className:"react-datepicker__input-time-container"},ee.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ee.createElement("div",{className:"react-datepicker-time__input-container"},ee.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(W.Component),TN=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=W.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var a,o,u=n.key;u===ge.Space&&(n.preventDefault(),n.key=ge.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,n)},t.isSameDay=function(n){return Ke(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(u){return t.isSameDayOrWeek(u)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!a&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),ar(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return Ny(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Ke(t.props.day,Sa(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Ke(n,Sa(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,a=n.day,o=n.highlightDates;if(!o)return!1;var u=vt(a,"MM.dd.yyyy");return o.get(u)},t.getHolidaysClass=function(){var n,a=t.props,o=a.day,u=a.holidays;if(!u)return[void 0];var f=vt(o,"MM.dd.yyyy");return u.has(f)?[(n=u.get(f))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,a=n.day,o=n.startDate,u=n.endDate;return!o||!u?!1:Yu(a,o,u)},t.isInSelectingRange=function(){var n,a=t.props,o=a.day,u=a.selectsStart,f=a.selectsEnd,p=a.selectsRange,m=a.selectsDisabledDaysInRange,y=a.startDate,_=a.endDate,b=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(u||f||p)||!b||!m&&t.isDisabled()?!1:u&&_&&(Bs(b,_)||Ms(b,_))?Yu(o,b,_):f&&y&&(Ma(b,y)||Ms(b,y))||p&&y&&!_&&(Ma(b,y)||Ms(b,y))?Yu(o,y,b):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,u=a.startDate,f=a.selectsStart,p=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return f?Ke(o,p):Ke(o,u)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,u=a.endDate,f=a.selectsEnd,p=a.selectsRange,m=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return f||p?Ke(o,m):Ke(o,u)},t.isRangeStart=function(){var n=t.props,a=n.day,o=n.startDate,u=n.endDate;return!o||!u?!1:Ke(o,a)},t.isRangeEnd=function(){var n=t.props,a=n.day,o=n.startDate,u=n.endDate;return!o||!u?!1:Ke(u,a)},t.isWeekend=function(){var n=hM(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===yn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(yn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(et())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var a=t.props.dayClassName?t.props.dayClassName(n):void 0;return ln("react-datepicker__day",a,"react-datepicker__day--"+aN(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,a=n.day,o=n.ariaLabelPrefixWhenEnabled,u=o===void 0?"Choose":o,f=n.ariaLabelPrefixWhenDisabled,p=f===void 0?"Not available":f,m=t.isDisabled()||t.isExcluded()?p:u;return"".concat(m," ").concat(vt(a,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,a=n.day,o=n.holidays,u=o===void 0?new Map:o,f=n.excludeDates,p=vt(a,"MM.dd.yyyy"),m=[];return u.has(p)&&m.push.apply(m,u.get(p).holidayNames),t.isExcluded()&&m.push(f==null?void 0:f.filter(function(y){return y instanceof Date?Ke(y,a):Ke(y==null?void 0:y.date,a)}).map(function(y){if(!(y instanceof Date))return y==null?void 0:y.message})),m.join(", ")},t.getTabIndex=function(){var n=t.props.selected,a=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Ke(a,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(_E(t.props.day),t.props.day):_E(t.props.day)},t.render=function(){return ee.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ee.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,a;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(W.Component),SN=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=W.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var a,o,u=n.key;u===ge.Space&&(n.preventDefault(),n.key=ge.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ke(t.props.date,t.props.selected)&&Ke(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Ke(t.props.date,t.props.selected)&&Ke(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var a=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Ke(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,a=t.isWeekDisabled,o=t.ariaLabelPrefix,u=o===void 0?e.defaultProps.ariaLabelPrefix:o,f=t.onClick,p={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!f&&!a,"react-datepicker__week-number--selected":!!f&&Ke(this.props.date,this.props.selected)};return ee.createElement("div",{ref:this.weekNumberEl,className:ln(p),"aria-label":"".concat(u," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(W.Component),DN=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return ar(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,a){t.props.onDayClick&&t.props.onDayClick(n,a)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,a,o){for(var u,f,p,m=new Date(n),y=0;y<7;y++){var _=new Date(n);_.setDate(_.getDate()+y);var b=!t.isDisabled(_);if(b){m=_;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(m,a,o),t.props.showWeekPicker&&t.handleDayClick(m,o),((u=t.props.shouldCloseOnSelect)!==null&&u!==void 0?u:e.defaultProps.shouldCloseOnSelect)&&((p=(f=t.props).setOpen)===null||p===void 0||p.call(f,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):iN(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),a=mr(n,6),o=new Date(n);o<=a;){if(!t.isDisabled(o))return!1;o=mr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),a=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var u=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;a.push(ee.createElement(SN,We({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:u})))}return a.concat([0,1,2,3,4,5,6].map(function(f){var p=mr(n,f);return ee.createElement(TN,We({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,onClick:t.handleDayClick.bind(t,p),onMouseEnter:t.handleDayMouseEnter.bind(t,p)}))}))},t.startOfWeek=function(){return Sa(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ke(t.startOfWeek(),t.props.selected)&&Ke(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Ke(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ee.createElement("div",{className:ln(t)},this.renderDays())},e}(W.Component),Fu,CN=6,tl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},gm=(Fu={},Fu[tl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Fu[tl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Fu[tl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Fu),hd=1;function GE(r,e){return r?tl.FOUR_COLUMNS:e?tl.TWO_COLUMNS:tl.THREE_COLUMNS}var AN=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=Fr([],Array(12),!0).map(function(){return W.createRef()}),t.QUARTER_REFS=Fr([],Array(4),!0).map(function(){return W.createRef()}),t.isDisabled=function(n){return ar(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return Ny(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,a){var o,u;(u=(o=t.props).onDayClick)===null||u===void 0||u.call(o,n,a,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var a,o;(o=(a=t.props).onDayMouseEnter)===null||o===void 0||o.call(a,n)},t.handleMouseLeave=function(){var n,a;(a=(n=t.props).onMouseLeave)===null||a===void 0||a.call(n)},t.isRangeStartMonth=function(n){var a=t.props,o=a.day,u=a.startDate,f=a.endDate;return!u||!f?!1:Tn(rr(o,n),u)},t.isRangeStartQuarter=function(n){var a=t.props,o=a.day,u=a.startDate,f=a.endDate;return!u||!f?!1:Wd(Wo(o,n),u)},t.isRangeEndMonth=function(n){var a=t.props,o=a.day,u=a.startDate,f=a.endDate;return!u||!f?!1:Tn(rr(o,n),f)},t.isRangeEndQuarter=function(n){var a=t.props,o=a.day,u=a.startDate,f=a.endDate;return!u||!f?!1:Wd(Wo(o,n),f)},t.isInSelectingRangeMonth=function(n){var a,o=t.props,u=o.day,f=o.selectsStart,p=o.selectsEnd,m=o.selectsRange,y=o.startDate,_=o.endDate,b=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(f||p||m)||!b?!1:f&&_?ud(b,_,n,u):p&&y||m&&y&&!_?ud(y,b,n,u):!1},t.isSelectingMonthRangeStart=function(n){var a;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,u=o.day,f=o.startDate,p=o.selectsStart,m=rr(u,n),y=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return p?Tn(m,y):Tn(m,f)},t.isSelectingMonthRangeEnd=function(n){var a;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,u=o.day,f=o.endDate,p=o.selectsEnd,m=o.selectsRange,y=rr(u,n),_=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return p||m?Tn(y,_):Tn(y,f)},t.isInSelectingRangeQuarter=function(n){var a,o=t.props,u=o.day,f=o.selectsStart,p=o.selectsEnd,m=o.selectsRange,y=o.startDate,_=o.endDate,b=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(f||p||m)||!b?!1:f&&_?dd(b,_,n,u):p&&y||m&&y&&!_?dd(y,b,n,u):!1},t.isWeekInMonth=function(n){var a=t.props.day,o=mr(n,6);return Tn(n,a)||Tn(o,a)},t.isCurrentMonth=function(n,a){return Le(n)===Le(et())&&a===yn(et())},t.isCurrentQuarter=function(n,a){return Le(n)===Le(et())&&a===Ns(et())},t.isSelectedMonth=function(n,a,o){return yn(o)===a&&Le(n)===Le(o)},t.isSelectMonthInList=function(n,a,o){return o.some(function(u){return t.isSelectedMonth(n,a,u)})},t.isSelectedQuarter=function(n,a,o){return Ns(n)===a&&Le(n)===Le(o)},t.isMonthSelected=function(){var n=t.props,a=n.day,o=n.selected,u=n.selectedDates,f=n.selectsMultiple,p=yn(a);return f?u==null?void 0:u.some(function(m){return t.isSelectedMonth(a,p,m)}):!!o&&t.isSelectedMonth(a,p,o)},t.renderWeeks=function(){for(var n=[],a=t.props.fixedHeight,o=0,u=!1,f=Sa(xi(t.props.day),t.props.locale,t.props.calendarStartDay),p=function(k){return t.props.showWeekPicker?Sa(k,t.props.locale,t.props.calendarStartDay):t.props.preSelection},m=function(k){return t.props.showWeekPicker?Sa(k,t.props.locale,t.props.calendarStartDay):t.props.selected},y=t.props.selected?m(t.props.selected):void 0,_=t.props.preSelection?p(t.props.preSelection):void 0;n.push(ee.createElement(DN,We({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:f,month:yn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:y,preSelection:_,showWeekNumber:t.props.showWeekNumbers}))),!u;){o++,f=Ud(f,1);var b=a&&o>=CN,D=!a&&!t.isWeekInMonth(f);if(b||D)if(t.props.peekNextMonth)u=!0;else break}return n},t.onMonthClick=function(n,a){var o=t.isMonthDisabledForLabelDate(a),u=o.isDisabled,f=o.labelDate;u||t.handleDayClick(xi(f),n)},t.onMonthMouseEnter=function(n){var a=t.isMonthDisabledForLabelDate(n),o=a.isDisabled,u=a.labelDate;o||t.handleDayMouseEnter(xi(u))},t.handleMonthNavigation=function(n,a){var o,u,f,p;(u=(o=t.props).setPreSelection)===null||u===void 0||u.call(o,a),(p=(f=t.MONTH_REFS[n])===null||f===void 0?void 0:f.current)===null||p===void 0||p.focus()},t.handleKeyboardNavigation=function(n,a,o){var u,f=t.props,p=f.selected,m=f.preSelection,y=f.setPreSelection,_=f.minDate,b=f.maxDate,D=f.showFourColumnMonthYearPicker,k=f.showTwoColumnMonthYearPicker;if(m){var L=GE(D,k),x=t.getVerticalOffset(L),F=(u=gm[L])===null||u===void 0?void 0:u.grid,Y=function(R,T,C){var O,M,N=T,I=C;switch(R){case ge.ArrowRight:N=vr(T,hd),I=C===11?0:C+hd;break;case ge.ArrowLeft:N=Ps(T,hd),I=C===0?11:C-hd;break;case ge.ArrowUp:N=Ps(T,x),I=!((O=F==null?void 0:F[0])===null||O===void 0)&&O.includes(C)?C+12-x:C-x;break;case ge.ArrowDown:N=vr(T,x),I=!((M=F==null?void 0:F[F.length-1])===null||M===void 0)&&M.includes(C)?C-12+x:C+x;break}return{newCalculatedDate:N,newCalculatedMonth:I}},Q=function(R,T,C){for(var O=40,M=R,N=!1,I=0,he=Y(M,T,C),de=he.newCalculatedDate,H=he.newCalculatedMonth;!N;){if(I>=O){de=T,H=C;break}if(_&&de<_){M=ge.ArrowRight;var Z=Y(M,de,H);de=Z.newCalculatedDate,H=Z.newCalculatedMonth}if(b&&de>b){M=ge.ArrowLeft;var Z=Y(M,de,H);de=Z.newCalculatedDate,H=Z.newCalculatedMonth}if(dN(de,t.props)){var Z=Y(M,de,H);de=Z.newCalculatedDate,H=Z.newCalculatedMonth}else N=!0;I++}return{newCalculatedDate:de,newCalculatedMonth:H}};if(a===ge.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),y==null||y(p));return}var le=Q(a,m,o),oe=le.newCalculatedDate,$=le.newCalculatedMonth;switch(a){case ge.ArrowRight:case ge.ArrowLeft:case ge.ArrowUp:case ge.ArrowDown:t.handleMonthNavigation($,oe);break}}},t.getVerticalOffset=function(n){var a,o;return(o=(a=gm[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,a){var o=t.props,u=o.disabledKeyboardNavigation,f=o.handleOnMonthKeyDown,p=n.key;p!==ge.Tab&&n.preventDefault(),u||t.handleKeyboardNavigation(n,p,a),f&&f(n)},t.onQuarterClick=function(n,a){var o=Wo(t.props.day,a);cd(o,t.props)||t.handleDayClick(ME(o),n)},t.onQuarterMouseEnter=function(n){var a=Wo(t.props.day,n);cd(a,t.props)||t.handleDayMouseEnter(ME(a))},t.handleQuarterNavigation=function(n,a){var o,u,f,p;t.isDisabled(a)||t.isExcluded(a)||((u=(o=t.props).setPreSelection)===null||u===void 0||u.call(o,a),(p=(f=t.QUARTER_REFS[n-1])===null||f===void 0?void 0:f.current)===null||p===void 0||p.focus())},t.onQuarterKeyDown=function(n,a){var o,u,f=n.key;if(!t.props.disabledKeyboardNavigation)switch(f){case ge.Enter:t.onQuarterClick(n,a),(u=(o=t.props).setPreSelection)===null||u===void 0||u.call(o,t.props.selected);break;case ge.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===4?1:a+1,Ey(t.props.preSelection,1));break;case ge.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===1?4:a-1,sS(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var a,o=t.props,u=o.day,f=o.minDate,p=o.maxDate,m=o.excludeDates,y=o.includeDates,_=rr(u,n);return{isDisabled:(a=(f||p||m||y)&&bS(_,t.props))!==null&&a!==void 0?a:!1,labelDate:_}},t.isMonthDisabled=function(n){var a=t.isMonthDisabledForLabelDate(n).isDisabled;return a},t.getMonthClassNames=function(n){var a=t.props,o=a.day,u=a.startDate,f=a.endDate,p=a.preSelection,m=a.monthClassName,y=m?m(rr(o,n)):void 0,_=t.getSelection();return ln("react-datepicker__month-text","react-datepicker__month-".concat(n),y,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":_?t.isSelectMonthInList(o,n,_):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&p&&t.isSelectedMonth(o,n,p)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":u&&f?ud(u,f,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var a=yn(t.props.preSelection),o=t.isMonthDisabledForLabelDate(a).isDisabled,u=n===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return u},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var a=Ns(t.props.preSelection),o=cd(t.props.day,t.props),u=n===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return u},t.getAriaLabel=function(n){var a=t.props,o=a.chooseDayAriaLabelPrefix,u=o===void 0?"Choose":o,f=a.disabledDayAriaLabelPrefix,p=f===void 0?"Not available":f,m=a.day,y=a.locale,_=rr(m,n),b=t.isDisabled(_)||t.isExcluded(_)?p:u;return"".concat(b," ").concat(vt(_,"MMMM yyyy",y))},t.getQuarterClassNames=function(n){var a=t.props,o=a.day,u=a.startDate,f=a.endDate,p=a.selected,m=a.minDate,y=a.maxDate,_=a.excludeDates,b=a.includeDates,D=a.filterDate,k=a.preSelection,L=a.disabledKeyboardNavigation,x=(m||y||_||b||D)&&cd(Wo(o,n),t.props);return ln("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":x,"react-datepicker__quarter-text--selected":p?t.isSelectedQuarter(o,n,p):void 0,"react-datepicker__quarter-text--keyboard-selected":!L&&k&&t.isSelectedQuarter(o,n,k)&&!x,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":u&&f?dd(u,f,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,n)})},t.getMonthContent=function(n){var a=t.props,o=a.showFullMonthYearPicker,u=a.renderMonthContent,f=a.locale,p=a.day,m=ES(n,f),y=ky(n,f);return u?u(n,m,y,p):o?y:m},t.getQuarterContent=function(n){var a,o=t.props,u=o.renderQuarterContent,f=o.locale,p=fN(n,f);return(a=u==null?void 0:u(n,p))!==null&&a!==void 0?a:p},t.renderMonths=function(){var n,a=t.props,o=a.showTwoColumnMonthYearPicker,u=a.showFourColumnMonthYearPicker,f=a.day,p=a.selected,m=(n=gm[GE(u,o)])===null||n===void 0?void 0:n.grid;return m==null?void 0:m.map(function(y,_){return ee.createElement("div",{className:"react-datepicker__month-wrapper",key:_},y.map(function(b,D){return ee.createElement("div",{ref:t.MONTH_REFS[b],key:D,onClick:function(k){t.onMonthClick(k,b)},onKeyDown:function(k){DS(k)&&(k.preventDefault(),k.key=ge.Enter),t.onMonthKeyDown(k,b)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(b)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(b)}:void 0,tabIndex:Number(t.getTabIndex(b)),className:t.getMonthClassNames(b),"aria-disabled":t.isMonthDisabled(b),role:"option","aria-label":t.getAriaLabel(b),"aria-current":t.isCurrentMonth(f,b)?"date":void 0,"aria-selected":p?t.isSelectedMonth(f,b,p):void 0},t.getMonthContent(b))}))})},t.renderQuarters=function(){var n=t.props,a=n.day,o=n.selected,u=[1,2,3,4];return ee.createElement("div",{className:"react-datepicker__quarter-wrapper"},u.map(function(f,p){return ee.createElement("div",{key:p,ref:t.QUARTER_REFS[p],role:"option",onClick:function(m){t.onQuarterClick(m,f)},onKeyDown:function(m){t.onQuarterKeyDown(m,f)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(f)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(f)}:void 0,className:t.getQuarterClassNames(f),"aria-selected":o?t.isSelectedQuarter(a,f,o):void 0,tabIndex:Number(t.getQuarterTabIndex(f)),"aria-current":t.isCurrentQuarter(a,f)?"date":void 0},t.getQuarterContent(f))}))},t.getClassNames=function(){var n=t.props,a=n.selectingDate,o=n.selectsStart,u=n.selectsEnd,f=n.showMonthYearPicker,p=n.showQuarterYearPicker,m=n.showWeekPicker;return ln("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(o||u)},{"react-datepicker__monthPicker":f},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":m})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,a=t.selectedDates,o=t.selectsMultiple;if(o)return a;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,a=t.showQuarterYearPicker,o=t.day,u=t.ariaLabelPrefix,f=u===void 0?"Month ":u,p=f?f.trim()+" ":"";return ee.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(p).concat(vt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},e}(W.Component),RN=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,a){return ee.createElement("div",{className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?ee.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ee.createElement(Rh,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(W.Component),IN=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(a,o){return ee.createElement("option",{key:a,value:o},a)})},t.renderSelectMode=function(n){return ee.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(a){return t.onChange(parseInt(a.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,a){return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ee.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))},t.renderDropdown=function(n){return ee.createElement(RN,We({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var a=t.state.dropdownVisible,o=[t.renderReadView(!a,n)];return a&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return ES(o,t.props.locale)}:function(o){return ky(o,t.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return ee.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e}(W.Component);function ON(r,e){for(var t=[],n=xi(r),a=xi(e);!Ma(n,a);)t.push(et(n)),n=vr(n,1);return t}var MN=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var o=Vm(a),u=Ur(n.props.date,a)&&Tn(n.props.date,a);return ee.createElement("div",{className:u?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":u?"true":void 0},u?ee.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",vt(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:ON(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=ln({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ee.createElement(Rh,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(W.Component),xN=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=xi(t.props.minDate),a=xi(t.props.maxDate),o=[];!Ma(n,a);){var u=Vm(n);o.push(ee.createElement("option",{key:u,value:u},vt(n,t.props.dateFormat,t.props.locale))),n=vr(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ee.createElement("select",{value:Vm(xi(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var a=vt(t.props.date,t.props.dateFormat,t.props.locale);return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ee.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},t.renderDropdown=function(){return ee.createElement(MN,We({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,a=[t.renderReadView(!n)];return n&&a.unshift(t.renderDropdown()),a},t.onChange=function(n){t.toggleDropdown();var a=et(n);Ur(t.props.date,a)&&Tn(t.props.date,a)||t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ee.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(W.Component),kN=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((a=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var a,o;(t.props.minTime||t.props.maxTime)&&LE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&PE(n,t.props)||(o=(a=t.props).onChange)===null||o===void 0||o.call(a,n)},t.isSelectedTime=function(n){return t.props.selected&&EN(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&LE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&PE(n,t.props)},t.liClasses=function(n){var a,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Oi(n)*3600+Mi(n)*60+Ta(n))%(((a=t.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,a){var o,u;n.key===ge.Space&&(n.preventDefault(),n.key=ge.Enter),(n.key===ge.ArrowUp||n.key===ge.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===ge.ArrowDown||n.key===ge.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===ge.Enter&&t.handleClick(a),(u=(o=t.props).handleOnKeyDown)===null||u===void 0||u.call(o,n)},t.renderTimes=function(){for(var n,a=[],o=typeof t.props.format=="string"?t.props.format:"p",u=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,f=t.props.selected||t.props.openToDate||et(),p=Dd(f),m=t.props.injectTimes&&t.props.injectTimes.sort(function(x,F){return x.getTime()-F.getTime()}),y=60*wN(f),_=y/u,b=0;b<_;b++){var D=Nm(p,b*u);if(a.push(D),m){var k=_N(p,D,b,u,m);a=a.concat(k)}}var L=a.reduce(function(x,F){return F.getTime()<=f.getTime()?F:x},a[0]);return a.map(function(x){return ee.createElement("li",{key:x.valueOf(),onClick:t.handleClick.bind(t,x),className:t.liClasses(x),ref:function(F){x===L&&(t.centerLi=F)},onKeyDown:function(F){t.handleOnKeyDown(F,x)},tabIndex:x===L?0:-1,role:"option","aria-selected":t.isSelectedTime(x)?"true":void 0,"aria-disabled":t.isDisabledTime(x)?"true":void 0},vt(x,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ee.createElement(ee.Fragment,null):ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},ee.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,a=this.state.height;return ee.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ee.createElement("div",{className:"react-datepicker__time"},ee.createElement("div",{className:"react-datepicker__time-box"},ee.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(W.Component),QE=3,NN=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=Fr([],Array(n.props.yearItemNumber),!0).map(function(){return W.createRef()}),n.isDisabled=function(a){return ar(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return Ny(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var o=function(){var u,f;(f=(u=n.YEAR_REFS[a])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(a,o){n.props.onDayClick&&n.props.onDayClick(a,o)},n.handleYearNavigation=function(a,o){var u,f,p,m,y=n.props,_=y.date,b=y.yearItemNumber;if(!(_===void 0||b===void 0)){var D=Ea(_,b).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((f=(u=n.props).setPreSelection)===null||f===void 0||f.call(u,o),a-D<0?n.updateFocusOnPaginate(b-(D-a)):a-D>=b?n.updateFocusOnPaginate(Math.abs(b-(a-D))):(m=(p=n.YEAR_REFS[a-D])===null||p===void 0?void 0:p.current)===null||m===void 0||m.focus())}},n.isSameDay=function(a,o){return Ke(a,o)},n.isCurrentYear=function(a){return a===Le(et())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&Ur(Lr(et(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&Ur(Lr(et(),a),n.props.endDate)},n.isInRange=function(a){return fd(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var o=n.props,u=o.selectsStart,f=o.selectsEnd,p=o.selectsRange,m=o.startDate,y=o.endDate;return!(u||f||p)||!n.selectingDate()?!1:u&&y?fd(a,n.selectingDate(),y):f&&m||p&&m&&!y?fd(a,m,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var o;if(!n.isInSelectingRange(a))return!1;var u=n.props,f=u.startDate,p=u.selectsStart,m=Lr(et(),a);return p?Ur(m,(o=n.selectingDate())!==null&&o!==void 0?o:null):Ur(m,f??null)},n.isSelectingRangeEnd=function(a){var o;if(!n.isInSelectingRange(a))return!1;var u=n.props,f=u.endDate,p=u.selectsEnd,m=u.selectsRange,y=Lr(et(),a);return p||m?Ur(y,(o=n.selectingDate())!==null&&o!==void 0?o:null):Ur(y,f??null)},n.isKeyboardSelected=function(a){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,u=o.minDate,f=o.maxDate,p=o.excludeDates,m=o.includeDates,y=o.filterDate,_=zu(Lr(n.props.date,a)),b=(u||f||p||m||y)&&Cd(a,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Ke(_,zu(n.props.selected))&&Ke(_,zu(n.props.preSelection))&&!b}},n.isSelectedYear=function(a){var o=n.props,u=o.selectsMultiple,f=o.selected,p=o.selectedDates;return u?p==null?void 0:p.some(function(m){return a===Le(m)}):!!f&&a===Le(f)},n.onYearClick=function(a,o){var u=n.props.date;u!==void 0&&n.handleYearClick(zu(Lr(u,o)),a)},n.onYearKeyDown=function(a,o){var u,f,p=a.key,m=n.props,y=m.date,_=m.yearItemNumber,b=m.handleOnKeyDown;if(p!==ge.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(p){case ge.Enter:if(n.props.selected==null)break;n.onYearClick(a,o),(f=(u=n.props).setPreSelection)===null||f===void 0||f.call(u,n.props.selected);break;case ge.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,Ri(n.props.preSelection,1));break;case ge.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,ll(n.props.preSelection,1));break;case ge.ArrowUp:{if(y===void 0||_===void 0||n.props.preSelection==null)break;var D=Ea(y,_).startPeriod,k=QE,L=o-k;if(L<D){var x=_%k;o>=D&&o<D+x?k=x:k+=x,L=o-k}n.handleYearNavigation(L,ll(n.props.preSelection,k));break}case ge.ArrowDown:{if(y===void 0||_===void 0||n.props.preSelection==null)break;var F=Ea(y,_).endPeriod,k=QE,L=o+k;if(L>F){var x=_%k;o<=F&&o>F-x?k=x:k+=x,L=o+k}n.handleYearNavigation(L,Ri(n.props.preSelection,k));break}}b&&b(a)},n.getYearClassNames=function(a){var o=n.props,u=o.date,f=o.minDate,p=o.maxDate,m=o.excludeDates,y=o.includeDates,_=o.filterDate,b=o.yearClassName;return ln("react-datepicker__year-text","react-datepicker__year-".concat(a),u?b==null?void 0:b(Lr(u,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(f||p||m||y||_)&&Cd(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=Le(n.props.preSelection),u=Cd(a,n.props);return a===o&&!u?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return e.prototype.render=function(){var t=this,n=[],a=this.props,o=a.date,u=a.yearItemNumber,f=a.onYearMouseEnter,p=a.onYearMouseLeave;if(o===void 0)return null;for(var m=Ea(o,u),y=m.startPeriod,_=m.endPeriod,b=function(L){n.push(ee.createElement("div",{ref:D.YEAR_REFS[L-y],onClick:function(x){t.onYearClick(x,L)},onKeyDown:function(x){DS(x)&&(x.preventDefault(),x.key=ge.Enter),t.onYearKeyDown(x,L)},tabIndex:Number(D.getYearTabIndex(L)),className:D.getYearClassNames(L),onMouseEnter:D.props.usePointerEvent?void 0:function(x){return f(x,L)},onPointerEnter:D.props.usePointerEvent?function(x){return f(x,L)}:void 0,onMouseLeave:D.props.usePointerEvent?void 0:function(x){return p(x,L)},onPointerLeave:D.props.usePointerEvent?function(x){return p(x,L)}:void 0,key:L,"aria-current":D.isCurrentYear(L)?"date":void 0},D.getYearContent(L)))},D=this,k=y;k<=_;k++)b(k);return ee.createElement("div",{className:"react-datepicker__year"},ee.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(W.Component);function PN(r,e,t,n){for(var a=[],o=0;o<2*e+1;o++){var u=r+e-o,f=!0;t&&(f=Le(t)<=u),n&&f&&(f=Le(n)>=u),f&&a.push(u)}return a}var LN=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var f=n.props.year,p=n.state.yearsList.map(function(_){return ee.createElement("div",{className:f===_?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:_,onClick:n.onChange.bind(n,_),"aria-selected":f===_?"true":void 0},f===_?ee.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",_)}),m=n.props.minDate?Le(n.props.minDate):null,y=n.props.maxDate?Le(n.props.maxDate):null;return(!y||!n.state.yearsList.find(function(_){return _===y}))&&p.unshift(ee.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!n.state.yearsList.find(function(_){return _===m}))&&p.push(ee.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),p},n.onChange=function(f){n.props.onChange(f)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(f){var p=n.state.yearsList.map(function(m){return m+f});n.setState({yearsList:p})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,u=a||(o?10:5);return n.state={yearsList:PN(n.props.year,u,n.props.minDate,n.props.maxDate)},n.dropdownRef=W.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,a=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=ln({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ee.createElement(Rh,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(W.Component),VN=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Le(t.props.minDate):1900,a=t.props.maxDate?Le(t.props.maxDate):2100,o=[],u=n;u<=a;u++)o.push(ee.createElement("option",{key:u,value:u},u));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ee.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return t.toggleDropdown(a)}},ee.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ee.createElement(LN,We({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,a=[t.renderReadView(!n)];return n&&a.unshift(t.renderDropdown()),a},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,a){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,a),t.setOpen()},t.onSelect=function(n,a){var o,u;(u=(o=t.props).onSelect)===null||u===void 0||u.call(o,n,a)},t.setOpen=function(){var n,a;(a=(n=t.props).setOpen)===null||a===void 0||a.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ee.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(W.Component),UN=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],HN=function(r){var e=(r.className||"").split(/\s+/);return UN.some(function(t){return e.indexOf(t)>=0})},BN=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var o,u;HN(a.target)&&((u=(o=n.props).onDropdownFocus)===null||u===void 0||u.call(o,a))},n.getDateInView=function(){var a=n.props,o=a.preSelection,u=a.selected,f=a.openToDate,p=TS(n.props),m=SS(n.props),y=et(),_=f||u||o;return _||(p&&Bs(y,p)?p:m&&Ma(y,m)?m:y)},n.increaseMonth=function(){n.setState(function(a){var o=a.date;return{date:vr(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var o=a.date;return{date:Ps(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,o,u){n.props.onSelect(a,o,u),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,o){n.setState({selectingDate:Lr(et(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,o)},n.handleYearMouseLeave=function(a,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,o)},n.handleYearChange=function(a){var o,u,f,p;(u=(o=n.props).onYearChange)===null||u===void 0||u.call(o,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(p=(f=n.props).setOpen)===null||p===void 0||p.call(f,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!ar(a,n.props))return a;for(var o=xi(a),u=oN(a),f=yO(u,o),p=null,m=0;m<=f;m++){var y=mr(o,m);if(!ar(y,n.props)){p=y;break}}return p},n.handleMonthChange=function(a){var o,u,f,p=(o=n.getEnabledPreSelectionDateForMonth(a))!==null&&o!==void 0?o:a;n.handleCustomMonthChange(p),n.props.adjustDateOnChange&&(n.props.onSelect(p),(f=(u=n.props).setOpen)===null||f===void 0||f.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(p)},n.handleCustomMonthChange=function(a){var o,u;(u=(o=n.props).onMonthChange)===null||u===void 0||u.call(o,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(o){var u=o.date;return{date:Lr(u,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(o){var u=o.date;return{date:rr(u,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(o){var u=o.date;return{date:Lr(rr(u,yn(a)),Le(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var o=Sa(a,n.props.locale,n.props.calendarStartDay),u=[];return n.props.showWeekNumbers&&u.push(ee.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),u.concat([0,1,2,3,4,5,6].map(function(f){var p=mr(o,f),m=n.formatWeekday(p,n.props.locale),y=n.props.weekDayClassName?n.props.weekDayClassName(p):void 0;return ee.createElement("div",{key:f,"aria-label":vt(p,"EEEE",n.props.locale),className:ln("react-datepicker__day-name",y)},m)}))},n.formatWeekday=function(a,o){return n.props.formatWeekDay?lN(a,n.props.formatWeekDay,o):n.props.useWeekdaysShort?cN(a,o):uN(a,o)},n.decreaseYear=function(){n.setState(function(a){var o,u=a.date;return{date:ll(u,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,o,u;if(!n.props.renderCustomHeader){var f=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?f-1:0,m=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,y=Ps(n.state.date,m),_;switch(!0){case n.props.showMonthYearPicker:_=HE(n.state.date,n.props);break;case n.props.showYearPicker:_=gN(n.state.date,n.props);break;case n.props.showQuarterYearPicker:_=hN(n.state.date,n.props);break;default:_=VE(y,n.props);break}if(!(!((u=n.props.forceShowMonthNavigation)!==null&&u!==void 0?u:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&_||n.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],D=["react-datepicker__navigation","react-datepicker__navigation--previous"],k=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(k=n.decreaseYear),_&&n.props.showDisabledMonthNavigation&&(D.push("react-datepicker__navigation--previous--disabled"),k=void 0);var L=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,x=n.props,F=x.previousMonthButtonLabel,Y=F===void 0?e.defaultProps.previousMonthButtonLabel:F,Q=x.previousYearButtonLabel,le=Q===void 0?e.defaultProps.previousYearButtonLabel:Q,oe=n.props,$=oe.previousMonthAriaLabel,R=$===void 0?typeof Y=="string"?Y:"Previous Month":$,T=oe.previousYearAriaLabel,C=T===void 0?typeof le=="string"?le:"Previous Year":T;return ee.createElement("button",{type:"button",className:D.join(" "),onClick:k,onKeyDown:n.props.handleOnKeyDown,"aria-label":L?C:R},ee.createElement("span",{className:b.join(" ")},L?le:Y))}}},n.increaseYear=function(){n.setState(function(a){var o,u=a.date;return{date:Ri(u,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=BE(n.state.date,n.props);break;case n.props.showYearPicker:o=mN(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=pN(n.state.date,n.props);break;default:o=UE(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var u=["react-datepicker__navigation","react-datepicker__navigation--next"],f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&u.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&u.push("react-datepicker__navigation--next--with-today-button");var p=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(p=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(u.push("react-datepicker__navigation--next--disabled"),p=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,y=n.props,_=y.nextMonthButtonLabel,b=_===void 0?e.defaultProps.nextMonthButtonLabel:_,D=y.nextYearButtonLabel,k=D===void 0?e.defaultProps.nextYearButtonLabel:D,L=n.props,x=L.nextMonthAriaLabel,F=x===void 0?typeof b=="string"?b:"Next Month":x,Y=L.nextYearAriaLabel,Q=Y===void 0?typeof k=="string"?k:"Next Year":Y;return ee.createElement("button",{type:"button",className:u.join(" "),onClick:p,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?Q:F},ee.createElement("span",{className:f.join(" ")},m?k:b))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),ee.createElement("h2",{className:o.join(" ")},vt(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return ee.createElement(VN,We({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Le(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return ee.createElement(IN,We({},e.defaultProps,n.props,{month:yn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return ee.createElement(xN,We({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(xE(),a),n.props.setPreSelection&&n.props.setPreSelection(xE())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ee.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(a){var o=a.monthDate,u=a.i;return ee.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),ee.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(u!==0),n.renderMonthYearDropdown(u!==0),n.renderYearDropdown(u!==0)),ee.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(a){var o,u,f=a.monthDate,p=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var m=VE(n.state.date,n.props),y=UE(n.state.date,n.props),_=HE(n.state.date,n.props),b=BE(n.state.date,n.props),D=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(u=(o=n.props).renderCustomHeader)===null||u===void 0?void 0:u.call(o,We(We({},n.state),{customHeaderCount:p,monthDate:f,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:m,nextMonthButtonDisabled:y,prevYearButtonDisabled:_,nextYearButtonDisabled:b})),D&&ee.createElement("div",{className:"react-datepicker__day-names"},n.header(f)))},n.renderYearHeader=function(a){var o=a.monthDate,u=n.props,f=u.showYearPicker,p=u.yearItemNumber,m=p===void 0?e.defaultProps.yearItemNumber:p,y=Ea(o,m),_=y.startPeriod,b=y.endPeriod;return ee.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},f?"".concat(_," - ").concat(b):Le(o))},n.renderHeader=function(a){var o=a.monthDate,u=a.i,f=u===void 0?0:u,p={monthDate:o,i:f};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(p);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(p);default:return n.renderDefaultHeader(p)}},n.renderMonths=function(){var a,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var u=[],f=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?f-1:0,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ri(n.state.date,p):Ps(n.state.date,p),y=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,_=0;_<f;++_){var b=_-y+p,D=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ri(m,b):vr(m,b),k="month-".concat(_),L=_<f-1,x=_>0;u.push(ee.createElement("div",{key:k,ref:function(F){n.monthContainer=F??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:D,i:_}),ee.createElement(AN,We({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:D,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:_,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:L,monthShowsDuplicateDaysStart:x}))))}return u}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ee.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ee.createElement(NN,We({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ee.createElement(kN,We({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,o=a&&Ih(a)&&!!n.props.selected,u=o?"".concat(jE(a.getHours()),":").concat(jE(a.getMinutes())):"";if(n.props.showTimeInput)return ee.createElement(bN,We({},e.defaultProps,n.props,{date:a,timeString:u,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,o=Ea(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),u=o.startPeriod,f=o.endPeriod,p;return n.props.showYearPicker?p="".concat(u," - ").concat(f):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?p=Le(n.state.date):p="".concat(ky(yn(n.state.date),n.props.locale)," ").concat(Le(n.state.date)),ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&p)},n.renderChildren=function(){if(n.props.children)return ee.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=W.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:vc}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Ke(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var a=!Tn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Ke(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||eN;return ee.createElement(Rh,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ee.createElement("div",{style:{display:"contents"},ref:this.containerRef},ee.createElement(t,{className:ln("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(W.Component),FN=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,a=r.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return ee.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:a});if(ee.isValidElement(e)){var u=e;return ee.cloneElement(u,{className:"".concat(u.props.className||""," ").concat(o," ").concat(n),onClick:function(f){typeof u.props.onClick=="function"&&u.props.onClick(f),typeof a=="function"&&a(f)}})}return ee.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},ee.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},CS=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return ok.createPortal(this.props.children,this.el)},e}(W.Component),jN="[tabindex], a, button, input, select, textarea",zN=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},AS=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(jN),1,-1).filter(zN)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=W.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ee.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ee.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ee.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(W.Component);function YN(r){var e=function(t){var n,a=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=W.useRef(null),u=Jk(We({open:!a,whileElementsMounted:Mk,placement:t.popperPlacement,middleware:Fr([Bk({padding:15}),Hk(10),Fk({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),f=We(We({},t),{hidePopper:a,popperProps:We(We({},u),{arrowRef:o})});return ee.createElement(r,We({},f))};return e}var qN=function(r){Jt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,a=t.wrapperClassName,o=t.hidePopper,u=o===void 0?e.defaultProps.hidePopper:o,f=t.popperComponent,p=t.targetComponent,m=t.enableTabLoop,y=t.popperOnKeyDown,_=t.portalId,b=t.portalHost,D=t.popperProps,k=t.showArrow,L=void 0;if(!u){var x=ln("react-datepicker-popper",n);L=ee.createElement(AS,{enableTabLoop:m},ee.createElement("div",{ref:D.refs.setFloating,style:D.floatingStyles,className:x,"data-placement":D.placement,onKeyDown:y},f,k&&ee.createElement(Gk,{ref:D.arrowRef,context:D.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(L=W.createElement(this.props.popperContainer,{},L)),_&&!u&&(L=ee.createElement(CS,{portalId:_,portalHost:b},L));var F=ln("react-datepicker-wrapper",a);return ee.createElement(ee.Fragment,null,ee.createElement("div",{ref:D.refs.setReference,className:F},p),L)},e}(W.Component),GN=YN(qN),KE="react-datepicker-ignore-onclickoutside";function QN(r,e){return r&&e?yn(r)!==yn(e)||Le(r)!==Le(e):r!==e}var mm="Date input not valid.",KN=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:et()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(o,u){var f=new Date(u.date);return Ih(f)?Fr(Fr([],o,!0),[We(We({},u),{date:f})],!1):o},[])},n.calcInitialState=function(){var a,o=n.getPreSelection(),u=TS(n.props),f=SS(n.props),p=u&&Bs(o,Dd(u))?u:f&&Ma(o,kE(f))?f:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:p,highlightDates:FE(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(We(We({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(We(We({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,o;(o=(a=n.input)===null||a===void 0?void 0:a.focus)===null||o===void 0||o.call(a,{preventScroll:!0})},n.setBlur=function(){var a,o;(o=(a=n.input)===null||a===void 0?void 0:a.blur)===null||o===void 0||o.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,o){o===void 0&&(o=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:ym},function(){a||n.setState(function(u){return{focused:o?u.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Ii(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var o,u,f=n.state.wasHidden,p=f?n.state.open:!0;f&&n.resetHiddenStatus(),n.state.preventFocus||((u=(o=n.props).onFocus)===null||u===void 0||u.call(o,a),p&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(a){var o,u;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((u=(o=n.props).onBlur)===null||u===void 0||u.call(o,a)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var o,u;n.props.inline||n.setOpen(!1),(u=(o=n.props).onClickOutside)===null||u===void 0||u.call(o,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,o,u,f,p,m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];var _=m[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,m),!_||typeof _.isDefaultPrevented!="function"||_.isDefaultPrevented()))){n.setState({inputValue:(_==null?void 0:_.target)instanceof HTMLInputElement?_.target.value:null,lastPreSelectChange:WN});var b=n.props,D=b.selectsRange,k=b.startDate,L=b.endDate,x=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,F=(o=n.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,Y=(_==null?void 0:_.target)instanceof HTMLInputElement?_.target.value:"";if(D){var Q=Y.split(x.includes("-")?wS:"-",2).map(function(M){return M.trim()}),le=Q[0],oe=Q[1],$=hm(le??"",x,n.props.locale,F),R=hm(oe??"",x,n.props.locale,F),T=(k==null?void 0:k.getTime())!==($==null?void 0:$.getTime()),C=(L==null?void 0:L.getTime())!==(R==null?void 0:R.getTime());if(!T&&!C||$&&ar($,n.props)||R&&ar(R,n.props))return;(f=(u=n.props).onChange)===null||f===void 0||f.call(u,[$,R],_)}else{var O=hm(Y,x,n.props.locale,F,(p=n.props.selected)!==null&&p!==void 0?p:void 0);(O||!Y)&&n.setSelected(O,_,!0)}}},n.handleSelect=function(a,o,u){if(!n.props.readOnly){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(a,o,!1,u),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(a);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var f=n.props,p=f.startDate,m=f.endDate;p&&!m&&(n.props.swapRange||!qE(a,p))&&n.setOpen(!1)}}},n.setSelected=function(a,o,u,f){var p,m,y=a;if(n.props.showYearPicker){if(y!==null&&Cd(Le(y),n.props))return}else if(n.props.showMonthYearPicker){if(y!==null&&bS(y,n.props))return}else if(y!==null&&ar(y,n.props))return;var _=n.props,b=_.onChange,D=_.selectsRange,k=_.startDate,L=_.endDate,x=_.selectsMultiple,F=_.selectedDates,Y=_.minTime,Q=_.swapRange;if(!Ms(n.props.selected,y)||n.props.allowSameDay||D||x)if(y!==null&&(n.props.selected&&(!u||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(y=pm(y,{hour:Oi(n.props.selected),minute:Mi(n.props.selected),second:Ta(n.props.selected)})),!u&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&Y&&(y=pm(y,{hour:Y.getHours(),minute:Y.getMinutes(),second:Y.getSeconds()})),n.props.inline||n.setState({preSelection:y}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:f})),D){var le=!k&&!L,oe=k&&!L,$=k&&L;le?b==null||b([y,null],o):oe&&(y===null?b==null||b([null,null],o):qE(y,k)?Q?b==null||b([y,k],o):b==null||b([y,null],o):b==null||b([k,y],o)),$&&(b==null||b([y,null],o))}else if(x){if(y!==null)if(!(F!=null&&F.length))b==null||b([y],o);else{var R=F.some(function(C){return Ke(C,y)});if(R){var T=F.filter(function(C){return!Ke(C,y)});b==null||b(T,o)}else b==null||b(Fr(Fr([],F,!0),[y],!1),o)}}else b==null||b(y,o);u||((m=(p=n.props).onSelect)===null||m===void 0||m.call(p,y,o),n.setState({inputValue:null}))},n.setPreSelection=function(a){if(!n.props.readOnly){var o=Ii(n.props.minDate),u=Ii(n.props.maxDate),f=!0;if(a){var p=Dd(a);if(o&&u)f=Yu(a,n.props.minDate,n.props.maxDate);else if(o){var m=Dd(n.props.minDate);f=Ma(a,m)||Ms(p,m)}else if(u){var y=kE(n.props.maxDate);f=Bs(a,y)||Ms(p,y)}}f&&n.setState({preSelection:a})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var o,u;if(!(n.props.selectsRange||n.props.selectsMultiple)){var f=n.props.selected?n.props.selected:n.getPreSelection(),p=n.props.selected?a:pm(f,{hour:Oi(a),minute:Mi(a)});n.setState({preSelection:p}),(u=(o=n.props).onChange)===null||u===void 0||u.call(o,p),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(a=n.props).onInputClick)===null||o===void 0||o.call(a)},n.onInputKeyDown=function(a){var o,u,f,p,m,y;(u=(o=n.props).onKeyDown)===null||u===void 0||u.call(o,a);var _=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(_===ge.ArrowDown||_===ge.ArrowUp||_===ge.Enter)&&((f=n.onInputClick)===null||f===void 0||f.call(n));return}if(n.state.open){if(_===ge.ArrowDown||_===ge.ArrowUp){a.preventDefault();var b=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',D=((p=n.calendar)===null||p===void 0?void 0:p.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(b);D instanceof HTMLElement&&D.focus({preventScroll:!0});return}var k=et(n.state.preSelection);_===ge.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===ym?(n.handleSelect(k,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(k)):n.setOpen(!1)):_===ge.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):_===ge.Tab&&n.setOpen(!1),n.inputOk()||(y=(m=n.props).onInputError)===null||y===void 0||y.call(m,{code:1,msg:mm})}},n.onPortalKeyDown=function(a){var o=a.key;o===ge.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var o,u,f,p,m,y,_=n.props,b=_.minDate,D=_.maxDate,k=_.disabledKeyboardNavigation,L=_.showWeekPicker,x=_.shouldCloseOnSelect,F=_.locale,Y=_.calendarStartDay,Q=_.adjustDateOnChange,le=_.inline;if((u=(o=n.props).onKeyDown)===null||u===void 0||u.call(o,a),!k){var oe=a.key,$=a.shiftKey,R=et(n.state.preSelection),T=function(de,H){var Z=H;switch(de){case ge.ArrowRight:Z=L?Ud(H,1):mr(H,1);break;case ge.ArrowLeft:Z=L?wE(H):yx(H);break;case ge.ArrowUp:Z=wE(H);break;case ge.ArrowDown:Z=Ud(H,1);break;case ge.PageUp:Z=$?ll(H,1):Ps(H,1);break;case ge.PageDown:Z=$?Ri(H,1):vr(H,1);break;case ge.Home:Z=Sa(H,F,Y);break;case ge.End:Z=sN(H);break}return Z},C=function(de,H){for(var Z=40,ue=de,Se=!1,V=0,ne=T(de,H);!Se;){if(V>=Z){ne=H;break}b&&ne<b&&(ue=ge.ArrowRight,ne=ar(b,n.props)?T(ue,ne):b),D&&ne>D&&(ue=ge.ArrowLeft,ne=ar(D,n.props)?T(ue,ne):D),ar(ne,n.props)?((ue===ge.PageUp||ue===ge.Home)&&(ue=ge.ArrowRight),(ue===ge.PageDown||ue===ge.End)&&(ue=ge.ArrowLeft),ne=T(ue,ne)):Se=!0,V++}return ne};if(oe===ge.Enter){a.preventDefault(),n.handleSelect(R,a),!x&&n.setPreSelection(R);return}else if(oe===ge.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(p=(f=n.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:mm});return}var O=null;switch(oe){case ge.ArrowLeft:case ge.ArrowRight:case ge.ArrowUp:case ge.ArrowDown:case ge.PageUp:case ge.PageDown:case ge.Home:case ge.End:O=C(oe,R);break}if(!O){(y=(m=n.props).onInputError)===null||y===void 0||y.call(m,{code:1,msg:mm});return}if(a.preventDefault(),n.setState({lastPreSelectChange:ym}),Q&&n.setSelected(O),n.setPreSelection(O),le){var M=yn(R),N=yn(O),I=Le(R),he=Le(O);M!==N||I!==he?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var o=a.key;o===ge.Escape&&(a.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var o=n.props,u=o.selectsRange,f=o.onChange;u?f==null||f([null,null],a):f==null||f(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,o;return!n.props.inline&&!n.isCalendarOpen()?null:ee.createElement(BN,We({showMonthYearDropdown:void 0,ref:function(u){n.calendar=u}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:vN(n.modifyHolidays()),outsideClickIgnoreClass:KE,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a=n.props,o=a.dateFormat,u=o===void 0?e.defaultProps.dateFormat:o,f=a.locale,p=n.props.showTimeInput||n.props.showTimeSelect,m=p?"PPPPp":"PPPP",y;return n.props.selectsRange?y="Selected start date: ".concat(nr(n.props.startDate,{dateFormat:m,locale:f}),". ").concat(n.props.endDate?"End date: "+nr(n.props.endDate,{dateFormat:m,locale:f}):""):n.props.showTimeSelectOnly?y="Selected time: ".concat(nr(n.props.selected,{dateFormat:u,locale:f})):n.props.showYearPicker?y="Selected year: ".concat(nr(n.props.selected,{dateFormat:"yyyy",locale:f})):n.props.showMonthYearPicker?y="Selected month: ".concat(nr(n.props.selected,{dateFormat:"MMMM yyyy",locale:f})):n.props.showQuarterYearPicker?y="Selected quarter: ".concat(nr(n.props.selected,{dateFormat:"yyyy, QQQ",locale:f})):y="Selected date: ".concat(nr(n.props.selected,{dateFormat:m,locale:f})),ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},y)},n.renderDateInput=function(){var a,o,u,f=ln(n.props.className,(a={},a[KE]=n.state.open,a)),p=n.props.customInput||ee.createElement("input",{type:"text"}),m=n.props.customInputRef||"ref",y=n.props,_=y.dateFormat,b=_===void 0?e.defaultProps.dateFormat:_,D=y.locale,k=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?nN(n.props.startDate,n.props.endDate,{dateFormat:b,locale:D}):n.props.selectsMultiple?rN((u=n.props.selectedDates)!==null&&u!==void 0?u:[],{dateFormat:b,locale:D}):nr(n.props.selected,{dateFormat:b,locale:D});return W.cloneElement(p,(o={},o[m]=function(L){n.input=L},o.value=k,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=ln(p.props.className,f),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var a=n.props,o=a.isClearable,u=a.disabled,f=a.selected,p=a.startDate,m=a.endDate,y=a.clearButtonTitle,_=a.clearButtonClassName,b=_===void 0?"":_,D=a.ariaLabelClose,k=D===void 0?"Close":D,L=a.selectedDates,x=a.readOnly;return o&&!x&&(f!=null||p!=null||m!=null||L!=null&&L.length)?ee.createElement("button",{type:"button",className:ln("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":u}),disabled:u,"aria-label":k,onClick:n.onClearClick,title:y,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:vc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var a,o,u,f;t.inline&&QN(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:FE(this.props.highlightDates)}),!n.focused&&!Ms(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(a=this.props).onCalendarOpen)===null||o===void 0||o.call(a)),n.open===!0&&this.state.open===!1&&((f=(u=this.props).onCalendarClose)===null||f===void 0||f.call(u)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,a=t.icon,o=t.calendarIconClassname,u=t.calendarIconClassName,f=t.toggleCalendarOnIconClick,p=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ee.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ee.createElement(FN,We({icon:a,className:ln(u,!u&&o,p&&"react-datepicker-ignore-onclickoutside")},f?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?ee.createElement(AS,{enableTabLoop:this.props.enableTabLoop},ee.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=ee.createElement(CS,We({portalId:this.props.portalId},this.props),n)),ee.createElement("div",null,this.renderInputContainer(),n)}return ee.createElement(GN,We({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(W.Component),WN="input",ym="navigate";const RS={CARD:"card"},XN=({tags:r,availableTags:e,updateCardTags:t,addNewTag:n})=>{const[a,o]=W.useState(!1),[u,f]=W.useState(""),[p,m]=W.useState(e),y=W.useRef(null);W.useEffect(()=>{m(e)},[e]),W.useEffect(()=>{function x(F){y.current&&!y.current.contains(F.target)&&o(!1)}return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[y]);const _=()=>{o(!0)},b=x=>{const F=r.some(Y=>Y.name===x.name)?r.filter(Y=>Y.name!==x.name):[...r,x];t(F)},D=x=>{f(x.target.value),m(e.filter(F=>F.name.toLowerCase().includes(x.target.value.toLowerCase())))},k=x=>{if(x.preventDefault(),u.trim()&&!e.find(F=>F.name.toLowerCase()===u.trim().toLowerCase())){const F={name:u.trim(),color:L()};n(F),t([...r,F])}f("")},L=()=>{const x=["bg-red-100 text-red-600","bg-blue-100 text-blue-600","bg-green-100 text-green-600","bg-purple-100 text-purple-600","bg-yellow-100 text-yellow-700","bg-orange-100 text-orange-600","bg-pink-100 text-pink-600","bg-teal-100 text-teal-600","bg-indigo-100 text-indigo-600"],F=e.map(Q=>Q.color),Y=x.filter(Q=>!F.includes(Q));return Y.length>0?Y[0]:x[Math.floor(Math.random()*x.length)]};return ae.jsxs("div",{className:"relative",ref:y,children:[ae.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.map((x,F)=>ae.jsx("span",{onClick:_,className:`px-2 py-1 rounded text-xs font-medium cursor-pointer ${x.color}`,children:x.name},F)),ae.jsx("button",{onClick:_,className:"text-xs text-gray-500 hover:text-gray-700",children:"+ Add"})]}),a&&ae.jsxs("div",{className:"absolute z-10 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200",children:[ae.jsx("form",{onSubmit:k,className:"p-2",children:ae.jsx("input",{type:"text",value:u,onChange:D,placeholder:"Add or find a tag...",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})}),ae.jsx("ul",{className:"py-1",children:p.map((x,F)=>ae.jsxs("li",{onClick:()=>b(x),className:"px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer flex items-center justify-between",children:[ae.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${x.color}`,children:x.name}),r.some(Y=>Y.name===x.name)&&ae.jsx("span",{className:"text-blue-500",children:"✓"})]},F))})]})]})},$N=({card:r,columnId:e,rowIndex:t,updateCardTitle:n,updateCardTags:a,availableTags:o,addNewTag:u,toggleCardPriority:f,toggleCardCompleted:p,updateCardDate:m})=>{const[y,_]=W.useState(!1),[b,D]=W.useState(r.date?k(r.date):null);function k(M){if(!M)return null;const N=Date.parse(M);if(!isNaN(N))return new Date(N);const I=M.split(" ");if(I.length===2){const he=I[0],de=parseInt(I[1],10),H=new Date().getFullYear();return new Date(`${he} ${de}, ${H}`)}return null}const[L,x]=W.useState(!1),[F,Y]=W.useState(r.title),Q=W.useRef(null),[{isDragging:le},oe]=bI(()=>({type:RS.CARD,item:{...r,sourceColumnId:e,sourceRowIndex:t},collect:M=>({isDragging:!!M.isDragging()}),canDrag:!L}));W.useEffect(()=>{L&&(Q.current.focus(),Q.current.select())},[L]);const $=()=>{x(!0)},R=M=>{Y(M.target.value)},T=()=>{F.trim()?n(r.id,e,t,F):Y(r.title),x(!1)},C=()=>{Y(r.title),x(!1)},O=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),T()),M.key==="Escape"&&C()};return ae.jsxs("div",{ref:oe,className:`bg-white rounded-lg border border-gray-200 p-3 mb-3 cursor-move hover:shadow-md transition-shadow ${le?"opacity-50":"opacity-100"}`,children:[ae.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.completed?ae.jsx(oO,{className:"w-4 h-4 mr-1 text-green-500 cursor-pointer",onClick:()=>p(r.id,e,t)}):ae.jsx(uO,{className:"w-4 h-4 mr-1 text-gray-400 cursor-pointer",onClick:()=>p(r.id,e,t)}),ae.jsx("div",{className:"flex items-center text-xs text-gray-500",children:r.priority?ae.jsx(rO,{className:"w-3 h-3 mr-1 text-red-500 fill-current cursor-pointer",onClick:()=>f(r.id,e,t)}):ae.jsx(tO,{className:"w-3 h-3 mr-1 text-gray-400 cursor-pointer",onClick:()=>f(r.id,e,t)})}),ae.jsxs("div",{className:"flex items-center text-xs text-gray-500 ml-auto",children:[ae.jsx($I,{className:"w-3 h-3 mr-1 cursor-pointer",onClick:()=>_(!0)}),ae.jsx("span",{className:"cursor-pointer",onClick:()=>_(!0),children:r.date}),y&&ae.jsxs("div",{style:{position:"fixed",zIndex:100,top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"1rem",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:[ae.jsx(KN,{selected:b,onChange:M=>{D(M),m(r.id,e,t,M?M.toLocaleDateString("en-US",{month:"short",day:"numeric"}):""),_(!1)},inline:!0,isClearable:!0,placeholderText:"Select date"}),ae.jsxs("div",{className:"flex justify-end mt-2 gap-2",children:[ae.jsx("button",{className:"px-2 py-1 text-xs font-medium text-red-500 bg-gray-100 rounded hover:bg-gray-200",onClick:()=>{D(null),m(r.id,e,t,""),_(!1)},children:"Clear"}),ae.jsx("button",{className:"px-2 py-1 text-xs font-medium text-gray-500 bg-gray-100 rounded hover:bg-gray-200",onClick:()=>_(!1),children:"Close"})]})]})]})]}),L?ae.jsxs(ae.Fragment,{children:[ae.jsx("textarea",{ref:Q,value:F,onChange:R,onKeyDown:O,className:"w-full text-sm text-gray-800 mb-2 p-1 border border-gray-300 rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500 resize-none"}),ae.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3",children:[ae.jsx("button",{onClick:T,className:"px-3 py-1 text-xs font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save"}),ae.jsx("button",{onClick:C,className:"px-3 py-1 text-xs font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"})]})]}):ae.jsx("p",{onClick:$,className:"text-sm text-gray-800 mb-3 leading-relaxed cursor-pointer",children:r.title}),ae.jsx("div",{className:"flex items-center justify-between",children:ae.jsx(XN,{tags:r.tags,availableTags:o,updateCardTags:M=>a(r.id,e,t,M),addNewTag:u})})]})},ZN=({children:r,columnId:e,rowIndex:t,moveCard:n})=>{const[{isOver:a},o]=OI(()=>({accept:RS.CARD,drop:u=>n(u,e,t),collect:u=>({isOver:!!u.isOver()})}));return ae.jsx("div",{ref:o,className:`min-h-20 rounded-lg p-2 transition-colors ${a?"bg-blue-50 border-2 border-blue-200 border-dashed":"bg-gray-50"}`,children:r})},JN=({title:r,updateColumnTitle:e,addLane:t,deleteLane:n})=>{const[a,o]=W.useState(!1),[u,f]=W.useState(r),[p,m]=W.useState(!1),y=W.useRef(null),_=W.useRef(null);W.useEffect(()=>{a&&(y.current.focus(),y.current.select())},[a]),W.useEffect(()=>{function F(Y){_.current&&!_.current.contains(Y.target)&&m(!1)}return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[_]);const b=()=>{o(!0)},D=F=>{f(F.target.value)},k=()=>{u.trim()&&e(u),o(!1)},L=F=>{F.key==="Enter"&&k(),F.key==="Escape"&&(f(r),o(!1))},x=()=>{m(!p)};return ae.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a?ae.jsx("input",{ref:y,type:"text",value:u,onChange:D,onBlur:k,onKeyDown:L,className:"font-semibold text-gray-800 border-b-2 border-blue-500 focus:outline-none"}):ae.jsx("h2",{onClick:b,className:"font-semibold text-gray-800 cursor-pointer",children:r}),ae.jsxs("div",{className:"relative",ref:_,children:[ae.jsx(JI,{className:"w-5 h-5 text-gray-500 cursor-pointer hover:text-gray-700",onClick:x}),p&&ae.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-10",children:ae.jsxs("ul",{className:"py-1",children:[ae.jsx("li",{onClick:()=>{t(),m(!1)},className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",children:"Add Lane"}),ae.jsx("li",{onClick:()=>{n(),m(!1)},className:"px-4 py-2 text-sm text-red-600 hover:bg-gray-100 cursor-pointer",children:"Delete Lane"})]})})]})]})},eP=()=>{};var WE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},tP=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const a=r[t++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const o=r[t++];e[n++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=r[t++],u=r[t++],f=r[t++],p=((a&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[n++]=String.fromCharCode(55296+(p>>10)),e[n++]=String.fromCharCode(56320+(p&1023))}else{const o=r[t++],u=r[t++];e[n++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},OS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<r.length;a+=3){const o=r[a],u=a+1<r.length,f=u?r[a+1]:0,p=a+2<r.length,m=p?r[a+2]:0,y=o>>2,_=(o&3)<<4|f>>4;let b=(f&15)<<2|m>>6,D=m&63;p||(D=64,u||(b=64)),n.push(t[y],t[_],t[b],t[D])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(IS(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):tP(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<r.length;){const o=t[r.charAt(a++)],f=a<r.length?t[r.charAt(a)]:0;++a;const m=a<r.length?t[r.charAt(a)]:64;++a;const _=a<r.length?t[r.charAt(a)]:64;if(++a,o==null||f==null||m==null||_==null)throw new nP;const b=o<<2|f>>4;if(n.push(b),m!==64){const D=f<<4&240|m>>2;if(n.push(D),_!==64){const k=m<<6&192|_;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class nP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rP=function(r){const e=IS(r);return OS.encodeByteArray(e,!0)},Xd=function(r){return rP(r).replace(/\./g,"")},MS=function(r){try{return OS.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=()=>iP().__FIREBASE_DEFAULTS__,sP=()=>{if(typeof process>"u"||typeof WE>"u")return;const r=WE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},oP=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&MS(r[1]);return e&&JSON.parse(e)},Oh=()=>{try{return eP()||aP()||sP()||oP()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},xS=r=>{var e,t;return(t=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},lP=r=>{const e=xS(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},kS=()=>{var r;return(r=Oh())===null||r===void 0?void 0:r.config},NS=r=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",a=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Xd(JSON.stringify(t)),Xd(JSON.stringify(u)),""].join(".")}const Zu={};function fP(){const r={prod:[],emulator:[]};for(const e of Object.keys(Zu))Zu[e]?r.emulator.push(e):r.prod.push(e);return r}function dP(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let XE=!1;function LS(r,e){if(typeof window>"u"||typeof document>"u"||!El(window.location.host)||Zu[r]===e||Zu[r]||XE)return;Zu[r]=e;function t(b){return`__firebase__banner__${b}`}const n="__firebase__banner",o=fP().prod.length>0;function u(){const b=document.getElementById(n);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{XE=!0,u()},b}function y(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=dP(n),D=t("text"),k=document.getElementById(D)||document.createElement("span"),L=t("learnmore"),x=document.getElementById(L)||document.createElement("a"),F=t("preprendIcon"),Y=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Q=b.element;f(Q),y(x,L);const le=m();p(Y,F),Q.append(Y,k,x,le),document.body.appendChild(Q)}o?(k.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function pP(){var r;const e=(r=Oh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mP(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function yP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vP(){const r=vn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function _P(){return!pP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wP(){try{return typeof indexedDB=="object"}catch{return!1}}function EP(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="FirebaseError";class Bi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=bP,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?TP(o,n):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Bi(a,f,n)}}function TP(r,e){return r.replace(SP,(t,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const SP=/\{\$([^}]+)}/g;function DP(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function js(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const a of t){if(!n.includes(a))return!1;const o=r[a],u=e[a];if($E(o)&&$E(u)){if(!js(o,u))return!1}else if(o!==u)return!1}for(const a of n)if(!t.includes(a))return!1;return!0}function $E(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function qu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,o]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Gu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function CP(r,e){const t=new AP(r,e);return t.subscribe.bind(t)}class AP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let a;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");RP(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:n},a.next===void 0&&(a.next=vm),a.error===void 0&&(a.error=vm),a.complete===void 0&&(a.complete=vm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RP(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(r){return r&&r._delegate?r._delegate:r}class zs{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new uP;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MP(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});n.resolve(o)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);n===f&&u.resolve(a)}return a}onInit(e,t){var n;const a=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:OP(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OP(r){return r===Is?void 0:r}function MP(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const kP={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},NP=je.INFO,PP={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},LP=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),a=PP[e];if(a)console[a](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Py{constructor(e){this.name=e,this._logLevel=NP,this._logHandler=LP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const VP=(r,e)=>e.some(t=>r instanceof t);let ZE,JE;function UP(){return ZE||(ZE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HP(){return JE||(JE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VS=new WeakMap,Fm=new WeakMap,US=new WeakMap,_m=new WeakMap,Ly=new WeakMap;function BP(r){const e=new Promise((t,n)=>{const a=()=>{r.removeEventListener("success",o),r.removeEventListener("error",u)},o=()=>{t(Da(r.result)),a()},u=()=>{n(r.error),a()};r.addEventListener("success",o),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&VS.set(t,r)}).catch(()=>{}),Ly.set(e,r),e}function FP(r){if(Fm.has(r))return;const e=new Promise((t,n)=>{const a=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",u),r.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",o),r.addEventListener("error",u),r.addEventListener("abort",u)});Fm.set(r,e)}let jm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Fm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||US.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Da(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function jP(r){jm=r(jm)}function zP(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(wm(this),e,...t);return US.set(n,e.sort?e.sort():[e]),Da(n)}:HP().includes(r)?function(...e){return r.apply(wm(this),e),Da(VS.get(this))}:function(...e){return Da(r.apply(wm(this),e))}}function YP(r){return typeof r=="function"?zP(r):(r instanceof IDBTransaction&&FP(r),VP(r,UP())?new Proxy(r,jm):r)}function Da(r){if(r instanceof IDBRequest)return BP(r);if(_m.has(r))return _m.get(r);const e=YP(r);return e!==r&&(_m.set(r,e),Ly.set(e,r)),e}const wm=r=>Ly.get(r);function qP(r,e,{blocked:t,upgrade:n,blocking:a,terminated:o}={}){const u=indexedDB.open(r,e),f=Da(u);return n&&u.addEventListener("upgradeneeded",p=>{n(Da(u.result),p.oldVersion,p.newVersion,Da(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{o&&p.addEventListener("close",()=>o()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const GP=["get","getKey","getAll","getAllKeys","count"],QP=["put","add","delete","clear"],Em=new Map;function eb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,a=QP.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(a||GP.includes(t)))return;const o=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let m=p.store;return n&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),a&&p.done]))[0]};return Em.set(e,o),o}jP(r=>({...r,get:(e,t,n)=>eb(e,t)||r.get(e,t,n),has:(e,t)=>!!eb(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WP(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function WP(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zm="@firebase/app",tb="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Py("@firebase/app"),XP="@firebase/app-compat",$P="@firebase/analytics-compat",ZP="@firebase/analytics",JP="@firebase/app-check-compat",e2="@firebase/app-check",t2="@firebase/auth",n2="@firebase/auth-compat",r2="@firebase/database",i2="@firebase/data-connect",a2="@firebase/database-compat",s2="@firebase/functions",o2="@firebase/functions-compat",l2="@firebase/installations",u2="@firebase/installations-compat",c2="@firebase/messaging",f2="@firebase/messaging-compat",d2="@firebase/performance",h2="@firebase/performance-compat",p2="@firebase/remote-config",g2="@firebase/remote-config-compat",m2="@firebase/storage",y2="@firebase/storage-compat",v2="@firebase/firestore",_2="@firebase/ai",w2="@firebase/firestore-compat",E2="firebase",b2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",T2={[zm]:"fire-core",[XP]:"fire-core-compat",[ZP]:"fire-analytics",[$P]:"fire-analytics-compat",[e2]:"fire-app-check",[JP]:"fire-app-check-compat",[t2]:"fire-auth",[n2]:"fire-auth-compat",[r2]:"fire-rtdb",[i2]:"fire-data-connect",[a2]:"fire-rtdb-compat",[s2]:"fire-fn",[o2]:"fire-fn-compat",[l2]:"fire-iid",[u2]:"fire-iid-compat",[c2]:"fire-fcm",[f2]:"fire-fcm-compat",[d2]:"fire-perf",[h2]:"fire-perf-compat",[p2]:"fire-rc",[g2]:"fire-rc-compat",[m2]:"fire-gcs",[y2]:"fire-gcs-compat",[v2]:"fire-fst",[w2]:"fire-fst-compat",[_2]:"fire-vertex","fire-js":"fire-js",[E2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=new Map,S2=new Map,qm=new Map;function nb(r,e){try{r.container.addComponent(e)}catch(t){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function hl(r){const e=r.name;if(qm.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,r);for(const t of $d.values())nb(t,r);for(const t of S2.values())nb(t,r);return!0}function Vy(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Hn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new wc("app","Firebase",D2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=b2;function HS(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Ym,automaticDataCollectionEnabled:!0},e),a=n.name;if(typeof a!="string"||!a)throw Ca.create("bad-app-name",{appName:String(a)});if(t||(t=kS()),!t)throw Ca.create("no-options");const o=$d.get(a);if(o){if(js(t,o.options)&&js(n,o.config))return o;throw Ca.create("duplicate-app",{appName:a})}const u=new xP(a);for(const p of qm.values())u.addComponent(p);const f=new C2(t,n,u);return $d.set(a,f),f}function BS(r=Ym){const e=$d.get(r);if(!e&&r===Ym&&kS())return HS();if(!e)throw Ca.create("no-app",{appName:r});return e}function Aa(r,e,t){var n;let a=(n=T2[r])!==null&&n!==void 0?n:r;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(f.join(" "));return}hl(new zs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="firebase-heartbeat-database",R2=1,oc="firebase-heartbeat-store";let bm=null;function FS(){return bm||(bm=qP(A2,R2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(oc)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ca.create("idb-open",{originalErrorMessage:r.message})})),bm}async function I2(r){try{const t=(await FS()).transaction(oc),n=await t.objectStore(oc).get(jS(r));return await t.done,n}catch(e){if(e instanceof Bi)Pi.warn(e.message);else{const t=Ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(t.message)}}}async function rb(r,e){try{const n=(await FS()).transaction(oc,"readwrite");await n.objectStore(oc).put(e,jS(r)),await n.done}catch(t){if(t instanceof Bi)Pi.warn(t.message);else{const n=Ca.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Pi.warn(n.message)}}}function jS(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=1024,M2=30;class x2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new N2(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ib();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>M2){const u=P2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Pi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ib(),{heartbeatsToSend:n,unsentEntries:a}=k2(this._heartbeatsCache.heartbeats),o=Xd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Pi.warn(t),""}}}function ib(){return new Date().toISOString().substring(0,10)}function k2(r,e=O2){const t=[];let n=r.slice();for(const a of r){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),ab(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),ab(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class N2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wP()?EP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await I2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return rb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return rb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function ab(r){return Xd(JSON.stringify({version:2,heartbeats:r})).length}function P2(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(r){hl(new zs("platform-logger",e=>new KP(e),"PRIVATE")),hl(new zs("heartbeat",e=>new x2(e),"PRIVATE")),Aa(zm,tb,r),Aa(zm,tb,"esm2017"),Aa("fire-js","")}L2("");var V2="firebase",U2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Aa(V2,U2,"app");var sb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ra,zS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,T){function C(){}C.prototype=T.prototype,R.D=T.prototype,R.prototype=new C,R.prototype.constructor=R,R.C=function(O,M,N){for(var I=Array(arguments.length-2),he=2;he<arguments.length;he++)I[he-2]=arguments[he];return T.prototype[M].apply(O,I)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,T,C){C||(C=0);var O=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)O[M]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(M=0;16>M;++M)O[M]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=R.g[0],C=R.g[1],M=R.g[2];var N=R.g[3],I=T+(N^C&(M^N))+O[0]+3614090360&4294967295;T=C+(I<<7&4294967295|I>>>25),I=N+(M^T&(C^M))+O[1]+3905402710&4294967295,N=T+(I<<12&4294967295|I>>>20),I=M+(C^N&(T^C))+O[2]+606105819&4294967295,M=N+(I<<17&4294967295|I>>>15),I=C+(T^M&(N^T))+O[3]+3250441966&4294967295,C=M+(I<<22&4294967295|I>>>10),I=T+(N^C&(M^N))+O[4]+4118548399&4294967295,T=C+(I<<7&4294967295|I>>>25),I=N+(M^T&(C^M))+O[5]+1200080426&4294967295,N=T+(I<<12&4294967295|I>>>20),I=M+(C^N&(T^C))+O[6]+2821735955&4294967295,M=N+(I<<17&4294967295|I>>>15),I=C+(T^M&(N^T))+O[7]+4249261313&4294967295,C=M+(I<<22&4294967295|I>>>10),I=T+(N^C&(M^N))+O[8]+1770035416&4294967295,T=C+(I<<7&4294967295|I>>>25),I=N+(M^T&(C^M))+O[9]+2336552879&4294967295,N=T+(I<<12&4294967295|I>>>20),I=M+(C^N&(T^C))+O[10]+4294925233&4294967295,M=N+(I<<17&4294967295|I>>>15),I=C+(T^M&(N^T))+O[11]+2304563134&4294967295,C=M+(I<<22&4294967295|I>>>10),I=T+(N^C&(M^N))+O[12]+1804603682&4294967295,T=C+(I<<7&4294967295|I>>>25),I=N+(M^T&(C^M))+O[13]+4254626195&4294967295,N=T+(I<<12&4294967295|I>>>20),I=M+(C^N&(T^C))+O[14]+2792965006&4294967295,M=N+(I<<17&4294967295|I>>>15),I=C+(T^M&(N^T))+O[15]+1236535329&4294967295,C=M+(I<<22&4294967295|I>>>10),I=T+(M^N&(C^M))+O[1]+4129170786&4294967295,T=C+(I<<5&4294967295|I>>>27),I=N+(C^M&(T^C))+O[6]+3225465664&4294967295,N=T+(I<<9&4294967295|I>>>23),I=M+(T^C&(N^T))+O[11]+643717713&4294967295,M=N+(I<<14&4294967295|I>>>18),I=C+(N^T&(M^N))+O[0]+3921069994&4294967295,C=M+(I<<20&4294967295|I>>>12),I=T+(M^N&(C^M))+O[5]+3593408605&4294967295,T=C+(I<<5&4294967295|I>>>27),I=N+(C^M&(T^C))+O[10]+38016083&4294967295,N=T+(I<<9&4294967295|I>>>23),I=M+(T^C&(N^T))+O[15]+3634488961&4294967295,M=N+(I<<14&4294967295|I>>>18),I=C+(N^T&(M^N))+O[4]+3889429448&4294967295,C=M+(I<<20&4294967295|I>>>12),I=T+(M^N&(C^M))+O[9]+568446438&4294967295,T=C+(I<<5&4294967295|I>>>27),I=N+(C^M&(T^C))+O[14]+3275163606&4294967295,N=T+(I<<9&4294967295|I>>>23),I=M+(T^C&(N^T))+O[3]+4107603335&4294967295,M=N+(I<<14&4294967295|I>>>18),I=C+(N^T&(M^N))+O[8]+1163531501&4294967295,C=M+(I<<20&4294967295|I>>>12),I=T+(M^N&(C^M))+O[13]+2850285829&4294967295,T=C+(I<<5&4294967295|I>>>27),I=N+(C^M&(T^C))+O[2]+4243563512&4294967295,N=T+(I<<9&4294967295|I>>>23),I=M+(T^C&(N^T))+O[7]+1735328473&4294967295,M=N+(I<<14&4294967295|I>>>18),I=C+(N^T&(M^N))+O[12]+2368359562&4294967295,C=M+(I<<20&4294967295|I>>>12),I=T+(C^M^N)+O[5]+4294588738&4294967295,T=C+(I<<4&4294967295|I>>>28),I=N+(T^C^M)+O[8]+2272392833&4294967295,N=T+(I<<11&4294967295|I>>>21),I=M+(N^T^C)+O[11]+1839030562&4294967295,M=N+(I<<16&4294967295|I>>>16),I=C+(M^N^T)+O[14]+4259657740&4294967295,C=M+(I<<23&4294967295|I>>>9),I=T+(C^M^N)+O[1]+2763975236&4294967295,T=C+(I<<4&4294967295|I>>>28),I=N+(T^C^M)+O[4]+1272893353&4294967295,N=T+(I<<11&4294967295|I>>>21),I=M+(N^T^C)+O[7]+4139469664&4294967295,M=N+(I<<16&4294967295|I>>>16),I=C+(M^N^T)+O[10]+3200236656&4294967295,C=M+(I<<23&4294967295|I>>>9),I=T+(C^M^N)+O[13]+681279174&4294967295,T=C+(I<<4&4294967295|I>>>28),I=N+(T^C^M)+O[0]+3936430074&4294967295,N=T+(I<<11&4294967295|I>>>21),I=M+(N^T^C)+O[3]+3572445317&4294967295,M=N+(I<<16&4294967295|I>>>16),I=C+(M^N^T)+O[6]+76029189&4294967295,C=M+(I<<23&4294967295|I>>>9),I=T+(C^M^N)+O[9]+3654602809&4294967295,T=C+(I<<4&4294967295|I>>>28),I=N+(T^C^M)+O[12]+3873151461&4294967295,N=T+(I<<11&4294967295|I>>>21),I=M+(N^T^C)+O[15]+530742520&4294967295,M=N+(I<<16&4294967295|I>>>16),I=C+(M^N^T)+O[2]+3299628645&4294967295,C=M+(I<<23&4294967295|I>>>9),I=T+(M^(C|~N))+O[0]+4096336452&4294967295,T=C+(I<<6&4294967295|I>>>26),I=N+(C^(T|~M))+O[7]+1126891415&4294967295,N=T+(I<<10&4294967295|I>>>22),I=M+(T^(N|~C))+O[14]+2878612391&4294967295,M=N+(I<<15&4294967295|I>>>17),I=C+(N^(M|~T))+O[5]+4237533241&4294967295,C=M+(I<<21&4294967295|I>>>11),I=T+(M^(C|~N))+O[12]+1700485571&4294967295,T=C+(I<<6&4294967295|I>>>26),I=N+(C^(T|~M))+O[3]+2399980690&4294967295,N=T+(I<<10&4294967295|I>>>22),I=M+(T^(N|~C))+O[10]+4293915773&4294967295,M=N+(I<<15&4294967295|I>>>17),I=C+(N^(M|~T))+O[1]+2240044497&4294967295,C=M+(I<<21&4294967295|I>>>11),I=T+(M^(C|~N))+O[8]+1873313359&4294967295,T=C+(I<<6&4294967295|I>>>26),I=N+(C^(T|~M))+O[15]+4264355552&4294967295,N=T+(I<<10&4294967295|I>>>22),I=M+(T^(N|~C))+O[6]+2734768916&4294967295,M=N+(I<<15&4294967295|I>>>17),I=C+(N^(M|~T))+O[13]+1309151649&4294967295,C=M+(I<<21&4294967295|I>>>11),I=T+(M^(C|~N))+O[4]+4149444226&4294967295,T=C+(I<<6&4294967295|I>>>26),I=N+(C^(T|~M))+O[11]+3174756917&4294967295,N=T+(I<<10&4294967295|I>>>22),I=M+(T^(N|~C))+O[2]+718787259&4294967295,M=N+(I<<15&4294967295|I>>>17),I=C+(N^(M|~T))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+T&4294967295,R.g[1]=R.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+N&4294967295}n.prototype.u=function(R,T){T===void 0&&(T=R.length);for(var C=T-this.blockSize,O=this.B,M=this.h,N=0;N<T;){if(M==0)for(;N<=C;)a(this,R,N),N+=this.blockSize;if(typeof R=="string"){for(;N<T;)if(O[M++]=R.charCodeAt(N++),M==this.blockSize){a(this,O),M=0;break}}else for(;N<T;)if(O[M++]=R[N++],M==this.blockSize){a(this,O),M=0;break}}this.h=M,this.o+=T},n.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var T=1;T<R.length-8;++T)R[T]=0;var C=8*this.o;for(T=R.length-8;T<R.length;++T)R[T]=C&255,C/=256;for(this.u(R),R=Array(16),T=C=0;4>T;++T)for(var O=0;32>O;O+=8)R[C++]=this.g[T]>>>O&255;return R};function o(R,T){var C=f;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=T(R)}function u(R,T){this.h=T;for(var C=[],O=!0,M=R.length-1;0<=M;M--){var N=R[M]|0;O&&N==T||(C[M]=N,O=!1)}this.g=C}var f={};function p(R){return-128<=R&&128>R?o(R,function(T){return new u([T|0],0>T?-1:0)}):new u([R|0],0>R?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return _;if(0>R)return x(m(-R));for(var T=[],C=1,O=0;R>=C;O++)T[O]=R/C|0,C*=4294967296;return new u(T,0)}function y(R,T){if(R.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(R.charAt(0)=="-")return x(y(R.substring(1),T));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(T,8)),O=_,M=0;M<R.length;M+=8){var N=Math.min(8,R.length-M),I=parseInt(R.substring(M,M+N),T);8>N?(N=m(Math.pow(T,N)),O=O.j(N).add(m(I))):(O=O.j(C),O=O.add(m(I)))}return O}var _=p(0),b=p(1),D=p(16777216);r=u.prototype,r.m=function(){if(L(this))return-x(this).m();for(var R=0,T=1,C=0;C<this.g.length;C++){var O=this.i(C);R+=(0<=O?O:4294967296+O)*T,T*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k(this))return"0";if(L(this))return"-"+x(this).toString(R);for(var T=m(Math.pow(R,6)),C=this,O="";;){var M=le(C,T).g;C=F(C,M.j(T));var N=((0<C.g.length?C.g[0]:C.h)>>>0).toString(R);if(C=M,k(C))return N+O;for(;6>N.length;)N="0"+N;O=N+O}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function k(R){if(R.h!=0)return!1;for(var T=0;T<R.g.length;T++)if(R.g[T]!=0)return!1;return!0}function L(R){return R.h==-1}r.l=function(R){return R=F(this,R),L(R)?-1:k(R)?0:1};function x(R){for(var T=R.g.length,C=[],O=0;O<T;O++)C[O]=~R.g[O];return new u(C,~R.h).add(b)}r.abs=function(){return L(this)?x(this):this},r.add=function(R){for(var T=Math.max(this.g.length,R.g.length),C=[],O=0,M=0;M<=T;M++){var N=O+(this.i(M)&65535)+(R.i(M)&65535),I=(N>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);O=I>>>16,N&=65535,I&=65535,C[M]=I<<16|N}return new u(C,C[C.length-1]&-2147483648?-1:0)};function F(R,T){return R.add(x(T))}r.j=function(R){if(k(this)||k(R))return _;if(L(this))return L(R)?x(this).j(x(R)):x(x(this).j(R));if(L(R))return x(this.j(x(R)));if(0>this.l(D)&&0>R.l(D))return m(this.m()*R.m());for(var T=this.g.length+R.g.length,C=[],O=0;O<2*T;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<R.g.length;M++){var N=this.i(O)>>>16,I=this.i(O)&65535,he=R.i(M)>>>16,de=R.i(M)&65535;C[2*O+2*M]+=I*de,Y(C,2*O+2*M),C[2*O+2*M+1]+=N*de,Y(C,2*O+2*M+1),C[2*O+2*M+1]+=I*he,Y(C,2*O+2*M+1),C[2*O+2*M+2]+=N*he,Y(C,2*O+2*M+2)}for(O=0;O<T;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=T;O<2*T;O++)C[O]=0;return new u(C,0)};function Y(R,T){for(;(R[T]&65535)!=R[T];)R[T+1]+=R[T]>>>16,R[T]&=65535,T++}function Q(R,T){this.g=R,this.h=T}function le(R,T){if(k(T))throw Error("division by zero");if(k(R))return new Q(_,_);if(L(R))return T=le(x(R),T),new Q(x(T.g),x(T.h));if(L(T))return T=le(R,x(T)),new Q(x(T.g),T.h);if(30<R.g.length){if(L(R)||L(T))throw Error("slowDivide_ only works with positive integers.");for(var C=b,O=T;0>=O.l(R);)C=oe(C),O=oe(O);var M=$(C,1),N=$(O,1);for(O=$(O,2),C=$(C,2);!k(O);){var I=N.add(O);0>=I.l(R)&&(M=M.add(C),N=I),O=$(O,1),C=$(C,1)}return T=F(R,M.j(T)),new Q(M,T)}for(M=_;0<=R.l(T);){for(C=Math.max(1,Math.floor(R.m()/T.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),N=m(C),I=N.j(T);L(I)||0<I.l(R);)C-=O,N=m(C),I=N.j(T);k(N)&&(N=b),M=M.add(N),R=F(R,I)}return new Q(M,R)}r.A=function(R){return le(this,R).h},r.and=function(R){for(var T=Math.max(this.g.length,R.g.length),C=[],O=0;O<T;O++)C[O]=this.i(O)&R.i(O);return new u(C,this.h&R.h)},r.or=function(R){for(var T=Math.max(this.g.length,R.g.length),C=[],O=0;O<T;O++)C[O]=this.i(O)|R.i(O);return new u(C,this.h|R.h)},r.xor=function(R){for(var T=Math.max(this.g.length,R.g.length),C=[],O=0;O<T;O++)C[O]=this.i(O)^R.i(O);return new u(C,this.h^R.h)};function oe(R){for(var T=R.g.length+1,C=[],O=0;O<T;O++)C[O]=R.i(O)<<1|R.i(O-1)>>>31;return new u(C,R.h)}function $(R,T){var C=T>>5;T%=32;for(var O=R.g.length-C,M=[],N=0;N<O;N++)M[N]=0<T?R.i(N+C)>>>T|R.i(N+C+1)<<32-T:R.i(N+C);return new u(M,R.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,zS=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Ra=u}).apply(typeof sb<"u"?sb:typeof self<"u"?self:typeof window<"u"?window:{});var pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YS,Qu,qS,Ad,Gm,GS,QS,KS;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,w){return d==Array.prototype||d==Object.prototype||(d[v]=w.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof pd=="object"&&pd];for(var v=0;v<d.length;++v){var w=d[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var n=t(this);function a(d,v){if(v)e:{var w=n;d=d.split(".");for(var A=0;A<d.length-1;A++){var j=d[A];if(!(j in w))break e;w=w[j]}d=d[d.length-1],A=w[d],v=v(A),v!=A&&v!=null&&e(w,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var w=0,A=!1,j={next:function(){if(!A&&w<d.length){var X=w++;return{value:v(X,d[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}a("Array.prototype.values",function(d){return d||function(){return o(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function m(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,w){return d.call.apply(d.bind,arguments)}function _(d,v,w){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),d.apply(v,j)}}return function(){return d.apply(v,arguments)}}function b(d,v,w){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function D(d,v){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function k(d,v){function w(){}w.prototype=v.prototype,d.aa=v.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(A,j,X){for(var fe=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)fe[Ye-2]=arguments[Ye];return v.prototype[j].apply(A,fe)}}function L(d){const v=d.length;if(0<v){const w=Array(v);for(let A=0;A<v;A++)w[A]=d[A];return w}return[]}function x(d,v){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(p(A)){const j=d.length||0,X=A.length||0;d.length=j+X;for(let fe=0;fe<X;fe++)d[j+fe]=A[fe]}else d.push(A)}}class F{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(d){return/^[\s\xa0]*$/.test(d)}function Q(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function le(d){return le[" "](d),d}le[" "]=function(){};var oe=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function $(d,v,w){for(const A in d)v.call(w,d[A],A,d)}function R(d,v){for(const w in d)v.call(void 0,d[w],w,d)}function T(d){const v={};for(const w in d)v[w]=d[w];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,v){let w,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(w in A)d[w]=A[w];for(let X=0;X<C.length;X++)w=C[X],Object.prototype.hasOwnProperty.call(A,w)&&(d[w]=A[w])}}function M(d){var v=1;d=d.split(":");const w=[];for(;0<v&&d.length;)w.push(d.shift()),v--;return d.length&&w.push(d.join(":")),w}function N(d){f.setTimeout(()=>{throw d},0)}function I(){var d=Se;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class he{constructor(){this.h=this.g=null}add(v,w){const A=de.get();A.set(v,w),this.h?this.h.next=A:this.g=A,this.h=A}}var de=new F(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ue=!1,Se=new he,V=()=>{const d=f.Promise.resolve(void 0);Z=()=>{d.then(ne)}};var ne=()=>{for(var d;d=I();){try{d.h.call(d.g)}catch(w){N(w)}var v=de;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ue=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};f.addEventListener("test",w,v),f.removeEventListener("test",w,v)}catch{}return d}();function Ue(d,v){if(ce.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(oe){e:{try{le(v.nodeName);var j=!0;break e}catch{}j=!1}j||(v=null)}}else w=="mouseover"?v=d.fromElement:w=="mouseout"&&(v=d.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Oe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ue.aa.h.call(this)}}k(Ue,ce);var Oe={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),dt=0;function _r(d,v,w,A,j){this.listener=d,this.proxy=null,this.src=v,this.type=w,this.capture=!!A,this.ha=j,this.key=++dt,this.da=this.fa=!1}function Fi(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Jr(d){this.src=d,this.g={},this.h=0}Jr.prototype.add=function(d,v,w,A,j){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var fe=Ga(d,v,A,j);return-1<fe?(v=d[fe],w||(v.fa=!1)):(v=new _r(v,this.src,X,!!A,j),v.fa=w,d.push(v)),v};function qa(d,v){var w=v.type;if(w in d.g){var A=d.g[w],j=Array.prototype.indexOf.call(A,v,void 0),X;(X=0<=j)&&Array.prototype.splice.call(A,j,1),X&&(Fi(v),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Ga(d,v,w,A){for(var j=0;j<d.length;++j){var X=d[j];if(!X.da&&X.listener==v&&X.capture==!!w&&X.ha==A)return j}return-1}var Qa="closure_lm_"+(1e6*Math.random()|0),Rl={};function Pc(d,v,w,A,j){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Pc(d,v[X],w,A,j);return null}return w=Lc(w),d&&d[Gt]?d.K(v,w,m(A)?!!A.capture:!1,j):jn(d,v,w,!1,A,j)}function jn(d,v,w,A,j,X){if(!v)throw Error("Invalid event type");var fe=m(j)?!!j.capture:!!j,Ye=eo(d);if(Ye||(d[Qa]=Ye=new Jr(d)),w=Ye.add(v,w,A,fe,X),w.proxy)return w;if(A=$h(),w.proxy=A,A.src=d,A.listener=w,d.addEventListener)be||(j=fe),j===void 0&&(j=!1),d.addEventListener(v.toString(),A,j);else if(d.attachEvent)d.attachEvent(Ka(v.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function $h(){function d(w){return v.call(d.src,d.listener,w)}const v=Zh;return d}function Il(d,v,w,A,j){if(Array.isArray(v))for(var X=0;X<v.length;X++)Il(d,v[X],w,A,j);else A=m(A)?!!A.capture:!!A,w=Lc(w),d&&d[Gt]?(d=d.i,v=String(v).toString(),v in d.g&&(X=d.g[v],w=Ga(X,w,A,j),-1<w&&(Fi(X[w]),Array.prototype.splice.call(X,w,1),X.length==0&&(delete d.g[v],d.h--)))):d&&(d=eo(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Ga(v,w,A,j)),(w=-1<d?v[d]:null)&&Js(w))}function Js(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Gt])qa(v.i,d);else{var w=d.type,A=d.proxy;v.removeEventListener?v.removeEventListener(w,A,d.capture):v.detachEvent?v.detachEvent(Ka(w),A):v.addListener&&v.removeListener&&v.removeListener(A),(w=eo(v))?(qa(w,d),w.h==0&&(w.src=null,v[Qa]=null)):Fi(d)}}}function Ka(d){return d in Rl?Rl[d]:Rl[d]="on"+d}function Zh(d,v){if(d.da)d=!0;else{v=new Ue(v,this);var w=d.listener,A=d.ha||d.src;d.fa&&Js(d),d=w.call(A,v)}return d}function eo(d){return d=d[Qa],d instanceof Jr?d:null}var Ol="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lc(d){return typeof d=="function"?d:(d[Ol]||(d[Ol]=function(v){return d.handleEvent(v)}),d[Ol])}function bt(){pe.call(this),this.i=new Jr(this),this.M=this,this.F=null}k(bt,pe),bt.prototype[Gt]=!0,bt.prototype.removeEventListener=function(d,v,w,A){Il(this,d,v,w,A)};function nt(d,v){var w,A=d.F;if(A)for(w=[];A;A=A.F)w.push(A);if(d=d.M,A=v.type||v,typeof v=="string")v=new ce(v,d);else if(v instanceof ce)v.target=v.target||d;else{var j=v;v=new ce(A,d),O(v,j)}if(j=!0,w)for(var X=w.length-1;0<=X;X--){var fe=v.g=w[X];j=On(fe,A,!0,v)&&j}if(fe=v.g=d,j=On(fe,A,!0,v)&&j,j=On(fe,A,!1,v)&&j,w)for(X=0;X<w.length;X++)fe=v.g=w[X],j=On(fe,A,!1,v)&&j}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var w=d.g[v],A=0;A<w.length;A++)Fi(w[A]);delete d.g[v],d.h--}}this.F=null},bt.prototype.K=function(d,v,w,A){return this.i.add(String(d),v,!1,w,A)},bt.prototype.L=function(d,v,w,A){return this.i.add(String(d),v,!0,w,A)};function On(d,v,w,A){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var j=!0,X=0;X<v.length;++X){var fe=v[X];if(fe&&!fe.da&&fe.capture==w){var Ye=fe.listener,Bt=fe.ha||fe.src;fe.fa&&qa(d.i,fe),j=Ye.call(Bt,A)!==!1&&j}}return j&&!A.defaultPrevented}function fn(d,v,w){if(typeof d=="function")w&&(d=b(d,w));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(d,v||0)}function Vc(d){d.g=fn(()=>{d.g=null,d.i&&(d.i=!1,Vc(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Jh extends pe{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Vc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wa(d){pe.call(this),this.h=d,this.g={}}k(Wa,pe);var Xa=[];function $a(d){$(d.g,function(v,w){this.g.hasOwnProperty(w)&&Js(v)},d),d.g={}}Wa.prototype.N=function(){Wa.aa.N.call(this),$a(this)},Wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=f.JSON.stringify,to=f.JSON.parse,Za=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Ml(){}Ml.prototype.h=null;function xl(d){return d.h||(d.h=d.i())}function kl(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ti(){ce.call(this,"d")}k(ti,ce);function Nl(){ce.call(this,"c")}k(Nl,ce);var wr={},Pl=null;function ji(){return Pl=Pl||new bt}wr.La="serverreachability";function no(d){ce.call(this,wr.La,d)}k(no,ce);function zi(d){const v=ji();nt(v,new no(v))}wr.STAT_EVENT="statevent";function Uc(d,v){ce.call(this,wr.STAT_EVENT,d),this.stat=v}k(Uc,ce);function mt(d){const v=ji();nt(v,new Uc(v,d))}wr.Ma="timingevent";function Ht(d,v){ce.call(this,wr.Ma,d),this.size=v}k(Ht,ce);function xt(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},v)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function Ll(d,v,w,A,j,X){d.info(function(){if(d.g)if(X)for(var fe="",Ye=X.split("&"),Bt=0;Bt<Ye.length;Bt++){var qe=Ye[Bt].split("=");if(1<qe.length){var Kt=qe[0];qe=qe[1];var Ft=Kt.split("_");fe=2<=Ft.length&&Ft[1]=="type"?fe+(Kt+"="+qe+"&"):fe+(Kt+"=redacted&")}}else fe=null;else fe=X;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+v+`
`+w+`
`+fe})}function ep(d,v,w,A,j,X,fe){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+v+`
`+w+`
`+X+" "+fe})}function Yi(d,v,w,A){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ja(d,w)+(A?" "+A:"")})}function Hc(d,v){d.info(function(){return"TIMEOUT: "+v})}zn.prototype.info=function(){};function Ja(d,v){if(!d.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var A=w[d];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var X=j[0];if(X!="noop"&&X!="stop"&&X!="close")for(var fe=1;fe<j.length;fe++)j[fe]=""}}}}return ur(w)}catch{return v}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Er;function br(){}k(br,Ml),br.prototype.g=function(){return new XMLHttpRequest},br.prototype.i=function(){return{}},Er=new br;function _n(d,v,w,A){this.j=d,this.i=v,this.l=w,this.R=A||1,this.U=new Wa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ct}function Ct(){this.i=null,this.g="",this.h=!1}var Vl={},ro={};function cr(d,v,w){d.L=1,d.v=is(Mn(v)),d.m=w,d.P=!0,ri(d,null)}function ri(d,v){d.F=Date.now(),es(d),d.A=Mn(d.v);var w=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),zl(w.i,"t",A),d.C=0,w=d.j.J,d.h=new Ct,d.g=tf(d.j,w?v:null,!d.m),0<d.O&&(d.M=new Jh(b(d.Y,d,d.g),d.O)),v=d.U,w=d.g,A=d.ca;var j="readystatechange";Array.isArray(j)||(j&&(Xa[0]=j.toString()),j=Xa);for(var X=0;X<j.length;X++){var fe=Pc(w,j[X],A||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),zi(),Ll(d.i,d.u,d.A,d.l,d.R,d.m)}_n.prototype.ca=function(d){d=d.target;const v=this.M;v&&Qn(d)==3?v.j():this.Y(d)},_n.prototype.Y=function(d){try{if(d==this.g)e:{const Ft=Qn(this.g);var v=this.g.Ba();const fi=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||Qc(this.g)))){this.J||Ft!=4||v==7||(v==8||0>=fi?zi(3):zi(2)),Gi(this);var w=this.g.Z();this.X=w;t:if(Bc(this)){var A=Qc(this.g);d="";var j=A.length,X=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),Tr(this);var fe="";break t}this.h.i=new f.TextDecoder}for(v=0;v<j;v++)this.h.h=!0,d+=this.h.i.decode(A[v],{stream:!(X&&v==j-1)});A.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=w==200,ep(this.i,this.u,this.A,this.l,this.R,Ft,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Bt=this.g;if((Ye=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Ye)){var qe=Ye;break t}}qe=null}if(w=qe)Yi(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ts(this,w);else{this.o=!1,this.s=3,mt(12),en(this),Tr(this);break e}}if(this.P){w=!0;let tn;for(;!this.J&&this.C<fe.length;)if(tn=Fc(this,fe),tn==ro){Ft==4&&(this.s=4,mt(14),w=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Vl){this.s=4,mt(15),Yi(this.i,this.l,fe,"[Invalid Chunk]"),w=!1;break}else Yi(this.i,this.l,tn,null),ts(this,tn);if(Bc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||fe.length!=0||this.h.h||(this.s=1,mt(16),w=!1),this.o=this.o&&w,!w)Yi(this.i,this.l,fe,"[Invalid Chunked Response]"),en(this),Tr(this);else if(0<fe.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),ds(Kt),Kt.M=!0,mt(11))}}else Yi(this.i,this.l,fe,null),ts(this,fe);Ft==4&&en(this),this.o&&!this.J&&(Ft==4?Zc(this.j,this):(this.o=!1,es(this)))}else ap(this.g),w==400&&0<fe.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),en(this),Tr(this)}}}catch{}finally{}};function Bc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Fc(d,v){var w=d.C,A=v.indexOf(`
`,w);return A==-1?ro:(w=Number(v.substring(w,A)),isNaN(w)?Vl:(A+=1,A+w>v.length?ro:(v=v.slice(A,A+w),d.C=A+w,v)))}_n.prototype.cancel=function(){this.J=!0,en(this)};function es(d){d.S=Date.now()+d.I,jc(d,d.I)}function jc(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=xt(b(d.ba,d),v)}function Gi(d){d.B&&(f.clearTimeout(d.B),d.B=null)}_n.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Hc(this.i,this.A),this.L!=2&&(zi(),mt(17)),en(this),this.s=2,Tr(this)):jc(this,this.S-d)};function Tr(d){d.j.G==0||d.J||Zc(d.j,d)}function en(d){Gi(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,$a(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function ts(d,v){try{var w=d.j;if(w.G!=0&&(w.g==d||Ul(w.h,d))){if(!d.K&&Ul(w.h,d)&&w.G==3){try{var A=w.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)mo(w),po(w);else break e;Kl(w),mt(18)}}else w.za=j[1],0<w.za-w.T&&37500>j[2]&&w.F&&w.v==0&&!w.C&&(w.C=xt(b(w.Za,w),6e3));if(1>=ao(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ci(w,11)}else if((d.K||w.g==d)&&mo(w),!Y(v))for(j=w.Da.g.parse(v),v=0;v<j.length;v++){let qe=j[v];if(w.T=qe[0],qe=qe[1],w.G==2)if(qe[0]=="c"){w.K=qe[1],w.ia=qe[2];const Kt=qe[3];Kt!=null&&(w.la=Kt,w.j.info("VER="+w.la));const Ft=qe[4];Ft!=null&&(w.Aa=Ft,w.j.info("SVER="+w.Aa));const fi=qe[5];fi!=null&&typeof fi=="number"&&0<fi&&(A=1.5*fi,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const tn=d.g;if(tn){const Or=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var X=A.h;X.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(so(X,X.h),X.h=null))}if(A.D){const Xl=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xl&&(A.ya=Xl,ot(A.I,A.D,Xl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var fe=d;if(A.qa=ef(A,A.J?A.ia:null,A.W),fe.K){wn(A.h,fe);var Ye=fe,Bt=A.L;Bt&&(Ye.I=Bt),Ye.B&&(Gi(Ye),es(Ye)),A.g=fe}else Xc(A);0<w.i.length&&go(w)}else qe[0]!="stop"&&qe[0]!="close"||ci(w,7);else w.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?ci(w,7):Gl(w):qe[0]!="noop"&&w.l&&w.l.ta(qe),w.v=0)}}zi(4)}catch{}}var zc=class{constructor(d,v){this.g=d,this.map=v}};function ii(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function io(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ao(d){return d.h?1:d.g?d.g.size:0}function Ul(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function so(d,v){d.g?d.g.add(v):d.h=v}function wn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}ii.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Hl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const w of d.g.values())v=v.concat(w.D);return v}return L(d.i)}function tp(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var v=[],w=d.length,A=0;A<w;A++)v.push(d[A]);return v}v=[],w=0;for(A in d)v[w++]=d[A];return v}function oo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var v=[];d=d.length;for(var w=0;w<d;w++)v.push(w);return v}v=[],w=0;for(const A in d)v[w++]=A;return v}}}function Bl(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var w=oo(d),A=tp(d),j=A.length,X=0;X<j;X++)v.call(void 0,A[X],w&&w[X],d)}var ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function np(d,v){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var A=d[w].indexOf("="),j=null;if(0<=A){var X=d[w].substring(0,A);j=d[w].substring(A+1)}else X=d[w];v(X,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function kt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof kt){this.h=d.h,rs(this,d.j),this.o=d.o,this.g=d.g,Qi(this,d.s),this.l=d.l;var v=d.i,w=new si;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),ai(this,w),this.m=d.m}else d&&(v=String(d).match(ns))?(this.h=!1,rs(this,v[1]||"",!0),this.o=Yn(v[2]||""),this.g=Yn(v[3]||"",!0),Qi(this,v[4]),this.l=Yn(v[5]||"",!0),ai(this,v[6]||"",!0),this.m=Yn(v[7]||"")):(this.h=!1,this.i=new si(null,this.h))}kt.prototype.toString=function(){var d=[],v=this.j;v&&d.push(as(v,Fl,!0),":");var w=this.g;return(w||v=="file")&&(d.push("//"),(v=this.o)&&d.push(as(v,Fl,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(as(w,w.charAt(0)=="/"?rp:jl,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",as(w,lo)),d.join("")};function Mn(d){return new kt(d)}function rs(d,v,w){d.j=w?Yn(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Qi(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function ai(d,v,w){v instanceof si?(d.i=v,qc(d.i,d.h)):(w||(v=as(v,ip)),d.i=new si(v,d.h))}function ot(d,v,w){d.i.set(v,w)}function is(d){return ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Yn(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function as(d,v,w){return typeof d=="string"?(d=encodeURI(d).replace(v,Yc),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Yc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Fl=/[#\/\?@]/g,jl=/[#\?:]/g,rp=/[#\?]/g,ip=/[#\?@]/g,lo=/#/g;function si(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function qn(d){d.g||(d.g=new Map,d.h=0,d.i&&np(d.i,function(v,w){d.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}r=si.prototype,r.add=function(d,v){qn(this),this.i=null,d=Sr(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(v),this.h+=1,this};function oi(d,v){qn(d),v=Sr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function li(d,v){return qn(d),v=Sr(d,v),d.g.has(v)}r.forEach=function(d,v){qn(this),this.g.forEach(function(w,A){w.forEach(function(j){d.call(v,j,A,this)},this)},this)},r.na=function(){qn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let A=0;A<v.length;A++){const j=d[A];for(let X=0;X<j.length;X++)w.push(v[A])}return w},r.V=function(d){qn(this);let v=[];if(typeof d=="string")li(this,d)&&(v=v.concat(this.g.get(Sr(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)v=v.concat(d[w])}return v},r.set=function(d,v){return qn(this),this.i=null,d=Sr(this,d),li(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},r.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function zl(d,v,w){oi(d,v),0<w.length&&(d.i=null,d.g.set(Sr(d,v),L(w)),d.h+=w.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var A=v[w];const X=encodeURIComponent(String(A)),fe=this.V(A);for(A=0;A<fe.length;A++){var j=X;fe[A]!==""&&(j+="="+encodeURIComponent(String(fe[A]))),d.push(j)}}return this.i=d.join("&")};function Sr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function qc(d,v){v&&!d.j&&(qn(d),d.i=null,d.g.forEach(function(w,A){var j=A.toLowerCase();A!=j&&(oi(this,A),zl(this,j,w))},d)),d.j=v}function ss(d,v){const w=new zn;if(f.Image){const A=new Image;A.onload=D(Gn,w,"TestLoadImage: loaded",!0,v,A),A.onerror=D(Gn,w,"TestLoadImage: error",!1,v,A),A.onabort=D(Gn,w,"TestLoadImage: abort",!1,v,A),A.ontimeout=D(Gn,w,"TestLoadImage: timeout",!1,v,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else v(!1)}function fr(d,v){const w=new zn,A=new AbortController,j=setTimeout(()=>{A.abort(),Gn(w,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:A.signal}).then(X=>{clearTimeout(j),X.ok?Gn(w,"TestPingServer: ok",!0,v):Gn(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(j),Gn(w,"TestPingServer: error",!1,v)})}function Gn(d,v,w,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(w)}catch{}}function os(){this.g=new Za}function Dr(d,v,w){const A=w||"";try{Bl(d,function(j,X){let fe=j;m(j)&&(fe=ur(j)),v.push(A+X+"="+encodeURIComponent(fe))})}catch(j){throw v.push(A+"type="+encodeURIComponent("_badmap")),j}}function Ki(d){this.l=d.Ub||null,this.j=d.eb||!1}k(Ki,Ml),Ki.prototype.g=function(){return new ui(this.l,this.j)},Ki.prototype.i=function(d){return function(){return d}}({});function ui(d,v){bt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(ui,bt),r=ui.prototype,r.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Ar(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},r.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}r.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Cr(this):Ar(this),this.readyState==3&&Yl(this)}},r.Ra=function(d){this.g&&(this.response=this.responseText=d,Cr(this))},r.Qa=function(d){this.g&&(this.response=d,Cr(this))},r.ga=function(){this.g&&Cr(this)};function Cr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ar(d)}r.setRequestHeader=function(d,v){this.u.append(d,v)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=v.next();return d.join(`\r
`)};function Ar(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ql(d){let v="";return $(d,function(w,A){v+=A,v+=":",v+=w,v+=`\r
`}),v}function Qt(d,v,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=ql(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):ot(d,v,w))}function Je(d){bt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Je,bt);var uo=/^https?$/i,ls=["POST","PUT"];r=Je.prototype,r.Ha=function(d){this.J=d},r.ea=function(d,v,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Er.g(),this.v=this.o?xl(this.o):xl(Er),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){Gc(this,X);return}if(d=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)w.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())w.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),j=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ls,v,void 0))||A||j||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,fe]of w)this.g.setRequestHeader(X,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{us(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){Gc(this,X)}};function Gc(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,co(d),Rr(d)}function co(d){d.A||(d.A=!0,nt(d,"complete"),nt(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,nt(this,"complete"),nt(this,"abort"),Rr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rr(this,!0)),Je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?fo(this):this.bb())},r.bb=function(){fo(this)};function fo(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Qn(d)!=4||d.Z()!=2)){if(d.u&&Qn(d)==4)fn(d.Ea,0,d);else if(nt(d,"readystatechange"),Qn(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var A;if(A=fe===0){var j=String(d.D).match(ns)[1]||null;!j&&f.self&&f.self.location&&(j=f.self.location.protocol.slice(0,-1)),A=!uo.test(j?j.toLowerCase():"")}w=A}if(w)nt(d,"complete"),nt(d,"success");else{d.m=6;try{var X=2<Qn(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",co(d)}}finally{Rr(d)}}}}function Rr(d,v){if(d.g){us(d);const w=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||nt(d,"ready");try{w.onreadystatechange=A}catch{}}}function us(d){d.I&&(f.clearTimeout(d.I),d.I=null)}r.isActive=function(){return!!this.g};function Qn(d){return d.g?d.g.readyState:0}r.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),to(v)}};function Qc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ap(d){const v={};d=(d.g&&2<=Qn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(Y(d[A]))continue;var w=M(d[A]);const j=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=v[j]||[];v[j]=X,X.push(w)}R(v,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cs(d,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||v}function ho(d){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cs("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cs("baseRetryDelayMs",5e3,d),this.cb=cs("retryDelaySeedMs",1e4,d),this.Wa=cs("forwardChannelMaxRetries",2,d),this.wa=cs("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ii(d&&d.concurrentRequestLimit),this.Da=new os,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ho.prototype,r.la=8,r.G=1,r.connect=function(d,v,w,A){mt(0),this.W=d,this.H=v||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=ef(this,null,this.W),go(this)};function Gl(d){if(Kc(d),d.G==3){var v=d.U++,w=Mn(d.I);if(ot(w,"SID",d.K),ot(w,"RID",v),ot(w,"TYPE","terminate"),fs(d,w),v=new _n(d,d.j,v),v.L=2,v.v=is(Mn(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=v.v,w=!0),w||(v.g=tf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),es(v)}Jc(d)}function po(d){d.g&&(ds(d),d.g.cancel(),d.g=null)}function Kc(d){po(d),d.u&&(f.clearTimeout(d.u),d.u=null),mo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function go(d){if(!io(d.h)&&!d.s){d.s=!0;var v=d.Ga;Z||V(),ue||(Z(),ue=!0),Se.add(v,d),d.B=0}}function sp(d,v){return ao(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=xt(b(d.Ga,d,v),Wl(d,d.B)),d.B++,!0)}r.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const j=new _n(this,this.j,d);let X=this.o;if(this.S&&(X?(X=T(X),O(X,this.S)):X=this.S),this.m!==null||this.O||(j.H=X,X=null),this.P)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Wc(this,j,v),w=Mn(this.I),ot(w,"RID",d),ot(w,"CVER",22),this.D&&ot(w,"X-HTTP-Session-Id",this.D),fs(this,w),X&&(this.O?v="headers="+encodeURIComponent(String(ql(X)))+"&"+v:this.m&&Qt(w,this.m,X)),so(this.h,j),this.Ua&&ot(w,"TYPE","init"),this.P?(ot(w,"$req",v),ot(w,"SID","null"),j.T=!0,cr(j,w,null)):cr(j,w,v),this.G=2}}else this.G==3&&(d?Ql(this,d):this.i.length==0||io(this.h)||Ql(this))};function Ql(d,v){var w;v?w=v.l:w=d.U++;const A=Mn(d.I);ot(A,"SID",d.K),ot(A,"RID",w),ot(A,"AID",d.T),fs(d,A),d.m&&d.o&&Qt(A,d.m,d.o),w=new _n(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Wc(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),so(d.h,w),cr(w,A,v)}function fs(d,v){d.H&&$(d.H,function(w,A){ot(v,A,w)}),d.l&&Bl({},function(w,A){ot(v,A,w)})}function Wc(d,v,w){w=Math.min(d.i.length,w);var A=d.l?b(d.l.Na,d.l,d):null;e:{var j=d.i;let X=-1;for(;;){const fe=["count="+w];X==-1?0<w?(X=j[0].g,fe.push("ofs="+X)):X=0:fe.push("ofs="+X);let Ye=!0;for(let Bt=0;Bt<w;Bt++){let qe=j[Bt].g;const Kt=j[Bt].map;if(qe-=X,0>qe)X=Math.max(0,j[Bt].g-100),Ye=!1;else try{Dr(Kt,fe,"req"+qe+"_")}catch{A&&A(Kt)}}if(Ye){A=fe.join("&");break e}}}return d=d.i.splice(0,w),v.D=d,A}function Xc(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Z||V(),ue||(Z(),ue=!0),Se.add(v,d),d.v=0}}function Kl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=xt(b(d.Fa,d),Wl(d,d.v)),d.v++,!0)}r.Fa=function(){if(this.u=null,$c(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=xt(b(this.ab,this),d)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),po(this),$c(this))};function ds(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function $c(d){d.g=new _n(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Mn(d.qa);ot(v,"RID","rpc"),ot(v,"SID",d.K),ot(v,"AID",d.T),ot(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ot(v,"TO",d.ja),ot(v,"TYPE","xmlhttp"),fs(d,v),d.m&&d.o&&Qt(v,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=is(Mn(v)),w.m=null,w.P=!0,ri(w,d)}r.Za=function(){this.C!=null&&(this.C=null,po(this),Kl(this),mt(19))};function mo(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Zc(d,v){var w=null;if(d.g==v){mo(d),ds(d),d.g=null;var A=2}else if(Ul(d.h,v))w=v.D,wn(d.h,v),A=1;else return;if(d.G!=0){if(v.o)if(A==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var j=d.B;A=ji(),nt(A,new Ht(A,w)),go(d)}else Xc(d);else if(j=v.s,j==3||j==0&&0<v.X||!(A==1&&sp(d,v)||A==2&&Kl(d)))switch(w&&0<w.length&&(v=d.h,v.i=v.i.concat(w)),j){case 1:ci(d,5);break;case 4:ci(d,10);break;case 3:ci(d,6);break;default:ci(d,2)}}}function Wl(d,v){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*v}function ci(d,v){if(d.j.info("Error code "+v),v==2){var w=b(d.fb,d),A=d.Xa;const j=!A;A=new kt(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||rs(A,"https"),is(A),j?ss(A.toString(),w):fr(A.toString(),w)}else mt(2);d.G=0,d.l&&d.l.sa(v),Jc(d),Kc(d)}r.fb=function(d){d?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Jc(d){if(d.G=0,d.ka=[],d.l){const v=Hl(d.h);(v.length!=0||d.i.length!=0)&&(x(d.ka,v),x(d.ka,d.i),d.h.i.length=0,L(d.i),d.i.length=0),d.l.ra()}}function ef(d,v,w){var A=w instanceof kt?Mn(w):new kt(w);if(A.g!="")v&&(A.g=v+"."+A.g),Qi(A,A.s);else{var j=f.location;A=j.protocol,v=v?v+"."+j.hostname:j.hostname,j=+j.port;var X=new kt(null);A&&rs(X,A),v&&(X.g=v),j&&Qi(X,j),w&&(X.l=w),A=X}return w=d.D,v=d.ya,w&&v&&ot(A,w,v),ot(A,"VER",d.la),fs(d,A),A}function tf(d,v,w){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Je(new Ki({eb:w})):new Je(d.pa),v.Ha(d.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function nf(){}r=nf.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function yo(){}yo.prototype.g=function(d,v){return new En(d,v)};function En(d,v){bt.call(this),this.g=new ho(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!Y(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Y(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Ir(this)}k(En,bt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Gl(this.g)},En.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=ur(d),d=w);v.i.push(new zc(v.Ya++,d)),v.G==3&&go(v)},En.prototype.N=function(){this.g.l=null,delete this.j,Gl(this.g),delete this.g,En.aa.N.call(this)};function rf(d){ti.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const w in v){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}k(rf,ti);function af(){Nl.call(this),this.status=1}k(af,Nl);function Ir(d){this.g=d}k(Ir,nf),Ir.prototype.ua=function(){nt(this.g,"a")},Ir.prototype.ta=function(d){nt(this.g,new rf(d))},Ir.prototype.sa=function(d){nt(this.g,new af)},Ir.prototype.ra=function(){nt(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,KS=function(){return new yo},QS=function(){return ji()},GS=wr,Gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,Ad=qi,ni.COMPLETE="complete",qS=ni,kl.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Qu=kl,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,YS=Je}).apply(typeof pd<"u"?pd:typeof self<"u"?self:typeof window<"u"?window:{});const ob="@firebase/firestore",lb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Py("@firebase/firestore");function Xo(){return Ys.logLevel}function me(r,...e){if(Ys.logLevel<=je.DEBUG){const t=e.map(Uy);Ys.debug(`Firestore (${Tl}): ${r}`,...t)}}function Li(r,...e){if(Ys.logLevel<=je.ERROR){const t=e.map(Uy);Ys.error(`Firestore (${Tl}): ${r}`,...t)}}function ka(r,...e){if(Ys.logLevel<=je.WARN){const t=e.map(Uy);Ys.warn(`Firestore (${Tl}): ${r}`,...t)}}function Uy(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,WS(r,n,t)}function WS(r,e,t){let n=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw Li(n),new Error(n)}function tt(r,e,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,r||WS(e,a,n)}function xe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class B2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class F2{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let n=this.i;const a=p=>this.i!==n?(n=this.i,t(p)):Promise.resolve();let o=new Ia;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ia,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const p=o;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ia)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(tt(typeof n.accessToken=="string",31837,{l:n}),new XS(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class j2{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z2{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new j2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ub{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);const n=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const a=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ub(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ub(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=q2(40);for(let o=0;o<a.length;++o)n.length<20&&a[o]<t&&(n+=e.charAt(a[o]%62))}return n}}function Ve(r,e){return r<e?-1:r>e?1:0}function Qm(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),a=e.codePointAt(t);if(n!==a){if(n<128&&a<128)return Ve(n,a);{const o=$S(),u=G2(o.encode(cb(r,t)),o.encode(cb(e,t)));return u!==0?u:Ve(n,a)}}t+=n>65535?2:1}return Ve(r.length,e.length)}function cb(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function G2(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ve(r[t],e[t]);return Ve(r.length,e.length)}function pl(r,e,t){return r.length===e.length&&r.every((n,a)=>t(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="__name__";class Vr{constructor(e,t,n){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Re(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let a=0;a<n;a++){const o=Vr.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Ve(e.length,t.length)}static compareSegments(e,t){const n=Vr.isNumericId(e),a=Vr.isNumericId(t);return n&&!a?-1:!n&&a?1:n&&a?Vr.extractNumericId(e).compare(Vr.extractNumericId(t)):Qm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ra.fromString(e.substring(4,e.length-2))}}class pt extends Vr{construct(e,t,n){return new pt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new _e(se.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(a=>a.length>0))}return new pt(t)}static emptyPath(){return new pt([])}}const Q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Vr{construct(e,t,n){return new on(e,t,n)}static isValidIdentifier(e){return Q2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fb}static keyField(){return new on([fb])}static fromServerFormat(e){const t=[];let n="",a=0;const o=()=>{if(n.length===0)throw new _e(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new _e(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(n+=f,a++):(o(),a++)}if(o(),u)throw new _e(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(pt.fromString(e))}static fromName(e){return new Te(pt.fromString(e).popFirst(5))}static empty(){return new Te(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(r,e,t){if(!t)throw new _e(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function K2(r,e,t,n){if(e===!0&&n===!0)throw new _e(se.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function db(r){if(!Te.isDocumentKey(r))throw new _e(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hb(r){if(Te.isDocumentKey(r))throw new _e(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function JS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function By(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Re(12329,{type:typeof r})}function qs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new _e(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=By(r);throw new _e(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(r,e){const t={typeString:r};return e&&(t.value=e),t}function bc(r,e){if(!JS(r))throw new _e(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const a=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const u=r[n];if(a&&typeof u!==a){t=`JSON field '${n}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${n}' field to equal '${o.value}'`;break}}if(t)throw new _e(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=-62135596800,gb=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*gb);return new gt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pb)throw new _e(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gb}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bc(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Vt("string",gt._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new gt(0,0))}static max(){return new Me(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=-1;function W2(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(n===1e9?new gt(t+1,0):new gt(t,n));return new Na(a,Te.empty(),e)}function X2(r){return new Na(r.readTime,r.key,lc)}class Na{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Na(Me.min(),Te.empty(),lc)}static max(){return new Na(Me.max(),Te.empty(),lc)}}function $2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(r.documentKey,e.documentKey),t!==0?t:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==Z2)throw r;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((n,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,n)=>{t(e)})}static reject(e){return new ie((t,n)=>{n(e)})}static waitFor(e){return new ie((t,n)=>{let a=0,o=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++o,u&&o===a&&t()},p=>n(p))}),u=!0,o===a&&t()})}static or(e){let t=ie.resolve(!1);for(const n of e)t=t.next(a=>a?ie.resolve(a):n());return t}static forEach(e,t){const n=[];return e.forEach((a,o)=>{n.push(t.call(this,a,o))}),this.waitFor(n)}static mapArray(e,t){return new ie((n,a)=>{const o=e.length,u=new Array(o);let f=0;for(let p=0;p<o;p++){const m=p;t(e[m]).next(y=>{u[m]=y,++f,f===o&&n(u)},y=>a(y))}})}static doWhile(e,t){return new ie((n,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):n()};o()})}}function eL(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Dl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this._e(n),this.ae=n=>t.writeSequenceNumber(n))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Mh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=-1;function xh(r){return r==null}function Zd(r){return r===0&&1/r==-1/0}function tL(r){return typeof r=="number"&&Number.isInteger(r)&&!Zd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="";function nL(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=mb(e)),e=rL(r.get(t),e);return mb(e)}function rL(r,e){let t=e;const n=r.length;for(let a=0;a<n;a++){const o=r.charAt(a);switch(o){case"\0":t+="";break;case eD:t+="";break;default:t+=o}}return t}function mb(r){return r+eD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ba(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function tD(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return t+n.left.size;a<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gd(this.root,e,this.comparator,!0)}}class gd{constructor(e,t,n,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,n,a,o){this.key=e,this.value=t,this.color=n??sn.RED,this.left=a??sn.EMPTY,this.right=o??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,a,o){return new sn(e??this.key,t??this.value,n??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let a=this;const o=n(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,n),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return sn.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,n,a,o){return this}insert(e,t,n){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vb(this.data.getIterator())}getIteratorFrom(e){return new vb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=n.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class vb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Bn([])}unionWith(e){let t=new qt(on.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nD("Invalid base64 string: "+o):o}}(e);return new cn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const iL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pa(r){if(tt(!!r,39018),typeof r=="string"){let e=0;const t=iL.exec(r);if(tt(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:It(r.seconds),nanos:It(r.nanos)}}function It(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function La(r){return typeof r=="string"?cn.fromBase64String(r):cn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="server_timestamp",iD="__type__",aD="__previous_value__",sD="__local_write_time__";function jy(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[iD])===null||t===void 0?void 0:t.stringValue)===rD}function kh(r){const e=r.mapValue.fields[aD];return jy(e)?kh(e):e}function uc(r){const e=Pa(r.mapValue.fields[sD].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,t,n,a,o,u,f,p,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y}}const Jd="(default)";class cc{constructor(e,t){this.projectId=e,this.database=t||Jd}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database===Jd}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="__type__",sL="__max__",md={mapValue:{}},lD="__vector__",eh="value";function Va(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jy(r)?4:lL(r)?9007199254740991:oL(r)?10:11:Re(28295,{value:r})}function Xr(r,e){if(r===e)return!0;const t=Va(r);if(t!==Va(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return uc(r).isEqual(uc(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Pa(a.timestampValue),f=Pa(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,o){return La(a.bytesValue).isEqual(La(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,o){return It(a.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(r,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return It(a.integerValue)===It(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=It(a.doubleValue),f=It(o.doubleValue);return u===f?Zd(u)===Zd(f):isNaN(u)&&isNaN(f)}return!1}(r,e);case 9:return pl(r.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},f=o.mapValue.fields||{};if(yb(u)!==yb(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!Xr(u[p],f[p])))return!1;return!0}(r,e);default:return Re(52216,{left:r})}}function fc(r,e){return(r.values||[]).find(t=>Xr(t,e))!==void 0}function gl(r,e){if(r===e)return 0;const t=Va(r),n=Va(e);if(t!==n)return Ve(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(o,u){const f=It(o.integerValue||o.doubleValue),p=It(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return _b(r.timestampValue,e.timestampValue);case 4:return _b(uc(r),uc(e));case 5:return Qm(r.stringValue,e.stringValue);case 6:return function(o,u){const f=La(o),p=La(u);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(o,u){const f=o.split("/"),p=u.split("/");for(let m=0;m<f.length&&m<p.length;m++){const y=Ve(f[m],p[m]);if(y!==0)return y}return Ve(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,u){const f=Ve(It(o.latitude),It(u.latitude));return f!==0?f:Ve(It(o.longitude),It(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return wb(r.arrayValue,e.arrayValue);case 10:return function(o,u){var f,p,m,y;const _=o.fields||{},b=u.fields||{},D=(f=_[eh])===null||f===void 0?void 0:f.arrayValue,k=(p=b[eh])===null||p===void 0?void 0:p.arrayValue,L=Ve(((m=D==null?void 0:D.values)===null||m===void 0?void 0:m.length)||0,((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0);return L!==0?L:wb(D,k)}(r.mapValue,e.mapValue);case 11:return function(o,u){if(o===md.mapValue&&u===md.mapValue)return 0;if(o===md.mapValue)return 1;if(u===md.mapValue)return-1;const f=o.fields||{},p=Object.keys(f),m=u.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let _=0;_<p.length&&_<y.length;++_){const b=Qm(p[_],y[_]);if(b!==0)return b;const D=gl(f[p[_]],m[y[_]]);if(D!==0)return D}return Ve(p.length,y.length)}(r.mapValue,e.mapValue);default:throw Re(23264,{le:t})}}function _b(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const t=Pa(r),n=Pa(e),a=Ve(t.seconds,n.seconds);return a!==0?a:Ve(t.nanos,n.nanos)}function wb(r,e){const t=r.values||[],n=e.values||[];for(let a=0;a<t.length&&a<n.length;++a){const o=gl(t[a],n[a]);if(o)return o}return Ve(t.length,n.length)}function ml(r){return Km(r)}function Km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Pa(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return La(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Te.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",a=!0;for(const o of t.values||[])a?a=!1:n+=",",n+=Km(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of n)o?o=!1:a+=",",a+=`${u}:${Km(t.fields[u])}`;return a+"}"}(r.mapValue):Re(61005,{value:r})}function Rd(r){switch(Va(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kh(r);return e?16+Rd(e):16;case 5:return 2*r.stringValue.length;case 6:return La(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,o)=>a+Rd(o),0)}(r.arrayValue);case 10:case 11:return function(n){let a=0;return Ba(n.fields,(o,u)=>{a+=o.length+Rd(u)}),a}(r.mapValue);default:throw Re(13486,{value:r})}}function Wm(r){return!!r&&"integerValue"in r}function zy(r){return!!r&&"arrayValue"in r}function Eb(r){return!!r&&"nullValue"in r}function bb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Id(r){return!!r&&"mapValue"in r}function oL(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[oD])===null||t===void 0?void 0:t.stringValue)===lD}function Ju(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ba(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Ju(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ju(r.arrayValue.values[t]);return e}return Object.assign({},r)}function lL(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===sL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Id(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ju(t)}setAll(e){let t=on.emptyPath(),n={},a=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,n,a),n={},a=[],t=f.popLast()}u?n[f.lastSegment()]=Ju(u):a.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,a)}delete(e){const t=this.field(e.popLast());Id(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=t.mapValue.fields[e.get(n)];Id(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,n){Ba(t,(a,o)=>e[a]=o);for(const a of n)delete e[a]}clone(){return new In(Ju(this.value))}}function uD(r){const e=[];return Ba(r.fields,(t,n)=>{const a=new on([t]);if(Id(n)){const o=uD(n.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,t,n,a,o,u,f){this.key=e,this.documentType=t,this.version=n,this.readTime=a,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new mn(e,0,Me.min(),Me.min(),Me.min(),In.empty(),0)}static newFoundDocument(e,t,n,a){return new mn(e,1,t,Me.min(),n,a,0)}static newNoDocument(e,t){return new mn(e,2,t,Me.min(),Me.min(),In.empty(),0)}static newUnknownDocument(e,t){return new mn(e,3,t,Me.min(),Me.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t){this.position=e,this.inclusive=t}}function Tb(r,e,t){let n=0;for(let a=0;a<r.position.length;a++){const o=e[a],u=r.position[a];if(o.field.isKeyField()?n=Te.comparator(Te.fromName(u.referenceValue),t.key):n=gl(u,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function Sb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Xr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function uL(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{}class Yt extends cD{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new fL(e,t,n):t==="array-contains"?new pL(e,n):t==="in"?new gL(e,n):t==="not-in"?new mL(e,n):t==="array-contains-any"?new yL(e,n):new Yt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new dL(e,n):new hL(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(gl(t,this.value)):t!==null&&Va(this.value)===Va(t)&&this.matchesComparison(gl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends cD{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new $r(e,t)}matches(e){return fD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function fD(r){return r.op==="and"}function dD(r){return cL(r)&&fD(r)}function cL(r){for(const e of r.filters)if(e instanceof $r)return!1;return!0}function Xm(r){if(r instanceof Yt)return r.field.canonicalString()+r.op.toString()+ml(r.value);if(dD(r))return r.filters.map(e=>Xm(e)).join(",");{const e=r.filters.map(t=>Xm(t)).join(",");return`${r.op}(${e})`}}function hD(r,e){return r instanceof Yt?function(n,a){return a instanceof Yt&&n.op===a.op&&n.field.isEqual(a.field)&&Xr(n.value,a.value)}(r,e):r instanceof $r?function(n,a){return a instanceof $r&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((o,u,f)=>o&&hD(u,a.filters[f]),!0):!1}(r,e):void Re(19439)}function pD(r){return r instanceof Yt?function(t){return`${t.field.canonicalString()} ${t.op} ${ml(t.value)}`}(r):r instanceof $r?function(t){return t.op.toString()+" {"+t.getFilters().map(pD).join(" ,")+"}"}(r):"Filter"}class fL extends Yt{constructor(e,t,n){super(e,t,n),this.key=Te.fromName(n.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class dL extends Yt{constructor(e,t){super(e,"in",t),this.keys=gD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hL extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=gD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gD(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Te.fromName(n.referenceValue))}class pL extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zy(t)&&fc(t.arrayValue,this.value)}}class gL extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fc(this.value.arrayValue,t)}}class mL extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!fc(this.value.arrayValue,t)}}class yL extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>fc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,t=null,n=[],a=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=a,this.limit=o,this.startAt=u,this.endAt=f,this.Pe=null}}function Db(r,e=null,t=[],n=[],a=null,o=null,u=null){return new vL(r,e,t,n,a,o,u)}function Yy(r){const e=xe(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Xm(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>ml(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>ml(n)).join(",")),e.Pe=t}return e.Pe}function qy(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!uL(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!hD(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Sb(r.startAt,e.startAt)&&Sb(r.endAt,e.endAt)}function $m(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t=null,n=[],a=[],o=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=a,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function _L(r,e,t,n,a,o,u,f){return new Nh(r,e,t,n,a,o,u,f)}function Gy(r){return new Nh(r)}function Cb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wL(r){return r.collectionGroup!==null}function ec(r){const e=xe(r);if(e.Te===null){e.Te=[];const t=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new qt(on.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new nh(o,n))}),t.has(on.keyField().canonicalString())||e.Te.push(new nh(on.keyField(),n))}return e.Te}function zr(r){const e=xe(r);return e.Ie||(e.Ie=EL(e,ec(r))),e.Ie}function EL(r,e){if(r.limitType==="F")return Db(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new nh(a.field,o)});const t=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return Db(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Zm(r,e,t){return new Nh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ph(r,e){return qy(zr(r),zr(e))&&r.limitType===e.limitType}function mD(r){return`${Yy(zr(r))}|lt:${r.limitType}`}function $o(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(a=>pD(a)).join(", ")}]`),xh(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>ml(a)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>ml(a)).join(",")),`Target(${n})`}(zr(r))}; limitType=${r.limitType})`}function Lh(r,e){return e.isFoundDocument()&&function(n,a){const o=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Te.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,a){for(const o of ec(n))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,a){for(const o of n.filters)if(!o.matches(a))return!1;return!0}(r,e)&&function(n,a){return!(n.startAt&&!function(u,f,p){const m=Tb(u,f,p);return u.inclusive?m<=0:m<0}(n.startAt,ec(n),a)||n.endAt&&!function(u,f,p){const m=Tb(u,f,p);return u.inclusive?m>=0:m>0}(n.endAt,ec(n),a))}(r,e)}function bL(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function yD(r){return(e,t)=>{let n=!1;for(const a of ec(r)){const o=TL(a,e,t);if(o!==0)return o;n=n||a.field.isKeyField()}return 0}}function TL(r,e,t){const n=r.field.isKeyField()?Te.comparator(e.key,t.key):function(o,u,f){const p=u.data.field(o),m=f.data.field(o);return p!==null&&m!==null?gl(p,m):Re(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Re(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[a,o]of n)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[t]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(t,n)=>{for(const[a,o]of n)e(a,o)})}isEmpty(){return tD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new Et(Te.comparator);function Vi(){return SL}const vD=new Et(Te.comparator);function Ku(...r){let e=vD;for(const t of r)e=e.insert(t.key,t);return e}function _D(r){let e=vD;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function xs(){return tc()}function wD(){return tc()}function tc(){return new $s(r=>r.toString(),(r,e)=>r.isEqual(e))}const DL=new Et(Te.comparator),CL=new qt(Te.comparator);function ze(...r){let e=CL;for(const t of r)e=e.add(t);return e}const AL=new qt(Ve);function RL(){return AL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function ED(r){return{integerValue:""+r}}function IL(r,e){return tL(e)?ED(e):Qy(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function OL(r,e,t){return r instanceof rh?function(a,o){const u={fields:{[iD]:{stringValue:rD},[sD]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&jy(o)&&(o=kh(o)),o&&(u.fields[aD]=o),{mapValue:u}}(t,e):r instanceof dc?TD(r,e):r instanceof hc?SD(r,e):function(a,o){const u=bD(a,o),f=Ab(u)+Ab(a.Ee);return Wm(u)&&Wm(a.Ee)?ED(f):Qy(a.serializer,f)}(r,e)}function ML(r,e,t){return r instanceof dc?TD(r,e):r instanceof hc?SD(r,e):t}function bD(r,e){return r instanceof ih?function(n){return Wm(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class rh extends Vh{}class dc extends Vh{constructor(e){super(),this.elements=e}}function TD(r,e){const t=DD(e);for(const n of r.elements)t.some(a=>Xr(a,n))||t.push(n);return{arrayValue:{values:t}}}class hc extends Vh{constructor(e){super(),this.elements=e}}function SD(r,e){let t=DD(e);for(const n of r.elements)t=t.filter(a=>!Xr(a,n));return{arrayValue:{values:t}}}class ih extends Vh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Ab(r){return It(r.integerValue||r.doubleValue)}function DD(r){return zy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function xL(r,e){return r.field.isEqual(e.field)&&function(n,a){return n instanceof dc&&a instanceof dc||n instanceof hc&&a instanceof hc?pl(n.elements,a.elements,Xr):n instanceof ih&&a instanceof ih?Xr(n.Ee,a.Ee):n instanceof rh&&a instanceof rh}(r.transform,e.transform)}class kL{constructor(e,t){this.version=e,this.transformResults=t}}class Yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Od(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Uh{}function CD(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new RD(r.key,Yr.none()):new Tc(r.key,r.data,Yr.none());{const t=r.data,n=In.empty();let a=new qt(on.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?n.delete(o):n.set(o,u),a=a.add(o)}return new Fa(r.key,n,new Bn(a.toArray()),Yr.none())}}function NL(r,e,t){r instanceof Tc?function(a,o,u){const f=a.value.clone(),p=Ib(a.fieldTransforms,o,u.transformResults);f.setAll(p),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Fa?function(a,o,u){if(!Od(a.precondition,o))return void o.convertToUnknownDocument(u.version);const f=Ib(a.fieldTransforms,o,u.transformResults),p=o.data;p.setAll(AD(a)),p.setAll(f),o.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function nc(r,e,t,n){return r instanceof Tc?function(o,u,f,p){if(!Od(o.precondition,u))return f;const m=o.value.clone(),y=Ob(o.fieldTransforms,p,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(r,e,t,n):r instanceof Fa?function(o,u,f,p){if(!Od(o.precondition,u))return f;const m=Ob(o.fieldTransforms,p,u),y=u.data;return y.setAll(AD(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(r,e,t,n):function(o,u,f){return Od(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(r,e,t)}function PL(r,e){let t=null;for(const n of r.fieldTransforms){const a=e.data.field(n.field),o=bD(n.transform,a||null);o!=null&&(t===null&&(t=In.empty()),t.set(n.field,o))}return t||null}function Rb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&pl(n,a,(o,u)=>xL(o,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Tc extends Uh{constructor(e,t,n,a=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Fa extends Uh{constructor(e,t,n,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function AD(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function Ib(r,e,t){const n=new Map;tt(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let a=0;a<t.length;a++){const o=r[a],u=o.transform,f=e.data.field(o.field);n.set(o.field,ML(u,f,t[a]))}return n}function Ob(r,e,t){const n=new Map;for(const a of r){const o=a.transform,u=t.data.field(a.field);n.set(a.field,OL(o,u,e))}return n}class RD extends Uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LL extends Uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,t,n,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&NL(o,e,n[a])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=nc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=nc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=wD();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=t.has(a.key)?null:f;const p=CD(u,f);p!==null&&n.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Me.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,(t,n)=>Rb(t,n))&&pl(this.baseMutations,e.baseMutations,(t,n)=>Rb(t,n))}}class Ky{constructor(e,t,n,a){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=a}static from(e,t,n){tt(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let a=function(){return DL}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,n[u].version);return new Ky(e,t,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Qe;function BL(r){switch(r){case se.OK:return Re(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Re(15467,{code:r})}}function ID(r){if(r===void 0)return Li("GRPC error has no .code"),se.UNKNOWN;switch(r){case Lt.OK:return se.OK;case Lt.CANCELLED:return se.CANCELLED;case Lt.UNKNOWN:return se.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return se.INTERNAL;case Lt.UNAVAILABLE:return se.UNAVAILABLE;case Lt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Lt.NOT_FOUND:return se.NOT_FOUND;case Lt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Lt.ABORTED:return se.ABORTED;case Lt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Lt.DATA_LOSS:return se.DATA_LOSS;default:return Re(39323,{code:r})}}(Qe=Lt||(Lt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=new Ra([4294967295,4294967295],0);function Mb(r){const e=$S().encode(r),t=new zS;return t.update(e),new Uint8Array(t.digest())}function xb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ra([t,n],0),new Ra([a,o],0)]}class Wy{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Wu(`Invalid padding: ${t}`);if(n<0)throw new Wu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Wu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Wu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ra.fromNumber(this.fe)}pe(e,t,n){let a=e.add(t.multiply(Ra.fromNumber(n)));return a.compare(FL)===1&&(a=new Ra([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=Mb(e),[n,a]=xb(t);for(let o=0;o<this.hashCount;o++){const u=this.pe(n,a,o);if(!this.ye(u))return!1}return!0}static create(e,t,n){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Wy(o,a,t);return n.forEach(f=>u.insert(f)),u}insert(e){if(this.fe===0)return;const t=Mb(e),[n,a]=xb(t);for(let o=0;o<this.hashCount;o++){const u=this.pe(n,a,o);this.we(u)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t,n,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const a=new Map;return a.set(e,Sc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Hh(Me.min(),a,new Et(Ve),Vi(),ze())}}class Sc{constructor(e,t,n,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Sc(n,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,n,a){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=a}}class OD{constructor(e,t){this.targetId=e,this.De=t}}class MD{constructor(e,t,n=cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=a}}class kb{constructor(){this.ve=0,this.Ce=Nb(),this.Fe=cn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ze(),t=ze(),n=ze();return this.Ce.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:n=n.add(a);break;default:Re(38017,{changeType:o})}}),new Sc(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=Nb()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class jL{constructor(e){this.We=e,this.Ge=new Map,this.ze=Vi(),this.je=yd(),this.Je=yd(),this.He=new Et(Ve)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((n,a)=>{this.nt(a)&&t(a)})}it(e){const t=e.targetId,n=e.De.count,a=this.st(t);if(a){const o=a.target;if($m(o))if(n===0){const u=new Te(o.path);this.Xe(t,u,mn.newNoDocument(u,Me.min()))}else tt(n===1,20013,{expectedCount:n});else{const u=this.ot(t);if(u!==n){const f=this._t(e),p=f?this.ut(f,e,u):1;if(p!==0){this.rt(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,m)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:o=0}=t;let u,f;try{u=La(n).toUint8Array()}catch(p){if(p instanceof nD)return ka("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Wy(u,a,o)}catch(p){return ka(p instanceof Wu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.fe===0?null:f}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let a=0;return n.forEach(o=>{const u=this.We.lt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.Xe(t,o,null),a++)}),a}Pt(e){const t=new Map;this.Ge.forEach((o,u)=>{const f=this.st(u);if(f){if(o.current&&$m(f.target)){const p=new Te(f.target.path);this.Tt(p).has(u)||this.It(u,p)||this.Xe(u,p,mn.newNoDocument(p,e))}o.Ne&&(t.set(u,o.Le()),o.ke())}});let n=ze();this.Je.forEach((o,u)=>{let f=!0;u.forEachWhile(p=>{const m=this.st(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(n=n.add(o))}),this.ze.forEach((o,u)=>u.setReadTime(e));const a=new Hh(e,t,this.He,this.ze,n);return this.ze=Vi(),this.je=yd(),this.Je=yd(),this.He=new Et(Ve),a}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const a=this.tt(e);this.It(e,t)?a.qe(t,1):a.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new kb,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new qt(Ve),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new qt(Ve),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new kb),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function yd(){return new Et(Te.comparator)}function Nb(){return new Et(Te.comparator)}const zL={asc:"ASCENDING",desc:"DESCENDING"},YL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qL={and:"AND",or:"OR"};class GL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jm(r,e){return r.useProto3Json||xh(e)?e:{value:e}}function ah(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xD(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function QL(r,e){return ah(r,e.toTimestamp())}function qr(r){return tt(!!r,49232),Me.fromTimestamp(function(t){const n=Pa(t);return new gt(n.seconds,n.nanos)}(r))}function Xy(r,e){return ey(r,e).canonicalString()}function ey(r,e){const t=function(a){return new pt(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?t:t.child(e)}function kD(r){const e=pt.fromString(r);return tt(UD(e),10190,{key:e.toString()}),e}function ty(r,e){return Xy(r.databaseId,e.path)}function Tm(r,e){const t=kD(e);if(t.get(1)!==r.databaseId.projectId)throw new _e(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new _e(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Te(PD(t))}function ND(r,e){return Xy(r.databaseId,e)}function KL(r){const e=kD(r);return e.length===4?pt.emptyPath():PD(e)}function ny(r){return new pt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function PD(r){return tt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Pb(r,e,t){return{name:ty(r,e),fields:t.value.mapValue.fields}}function WL(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Re(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(tt(y===void 0||typeof y=="string",58123),cn.fromBase64String(y||"")):(tt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),cn.fromUint8Array(y||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const y=m.code===void 0?se.UNKNOWN:ID(m.code);return new _e(y,m.message||"")}(u);t=new MD(n,a,o,f||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=Tm(r,n.document.name),o=qr(n.document.updateTime),u=n.document.createTime?qr(n.document.createTime):Me.min(),f=new In({mapValue:{fields:n.document.fields}}),p=mn.newFoundDocument(a,o,u,f),m=n.targetIds||[],y=n.removedTargetIds||[];t=new Md(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=Tm(r,n.document),o=n.readTime?qr(n.readTime):Me.min(),u=mn.newNoDocument(a,o),f=n.removedTargetIds||[];t=new Md([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=Tm(r,n.document),o=n.removedTargetIds||[];t=new Md([],o,a,null)}else{if(!("filter"in e))return Re(11601,{At:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:o}=n,u=new HL(a,o),f=n.targetId;t=new OD(f,u)}}return t}function XL(r,e){let t;if(e instanceof Tc)t={update:Pb(r,e.key,e.value)};else if(e instanceof RD)t={delete:ty(r,e.key)};else if(e instanceof Fa)t={update:Pb(r,e.key,e.data),updateMask:aV(e.fieldMask)};else{if(!(e instanceof LL))return Re(16599,{Rt:e.type});t={verify:ty(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,u){const f=u.transform;if(f instanceof rh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof dc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof hc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ih)return{fieldPath:u.field.canonicalString(),increment:f.Ee};throw Re(20930,{transform:u.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:QL(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Re(27497)}(r,e.precondition)),t}function $L(r,e){return r&&r.length>0?(tt(e!==void 0,14353),r.map(t=>function(a,o){let u=a.updateTime?qr(a.updateTime):qr(o);return u.isEqual(Me.min())&&(u=qr(o)),new kL(u,a.transformResults||[])}(t,e))):[]}function ZL(r,e){return{documents:[ND(r,e.path)]}}function JL(r,e){const t={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=ND(r,a);const o=function(m){if(m.length!==0)return VD($r.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(y=>function(b){return{field:Zo(b.field),direction:nV(b.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Jm(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{Vt:t,parent:a}}function eV(r){let e=KL(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let a=null;if(n>0){tt(n===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(_){const b=LD(_);return b instanceof $r&&dD(b)?b.getFilters():[b]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(b=>function(k){return new nh(Jo(k.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(b))}(t.orderBy));let f=null;t.limit&&(f=function(_){let b;return b=typeof _=="object"?_.value:_,xh(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(_){const b=!!_.before,D=_.values||[];return new th(D,b)}(t.startAt));let m=null;return t.endAt&&(m=function(_){const b=!_.before,D=_.values||[];return new th(D,b)}(t.endAt)),_L(e,a,u,o,f,"F",p,m)}function tV(r,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function LD(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Jo(t.unaryFilter.field);return Yt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Jo(t.unaryFilter.field);return Yt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Jo(t.unaryFilter.field);return Yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Jo(t.unaryFilter.field);return Yt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(r):r.fieldFilter!==void 0?function(t){return Yt.create(Jo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return $r.create(t.compositeFilter.filters.map(n=>LD(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(t.compositeFilter.op))}(r):Re(30097,{filter:r})}function nV(r){return zL[r]}function rV(r){return YL[r]}function iV(r){return qL[r]}function Zo(r){return{fieldPath:r.canonicalString()}}function Jo(r){return on.fromServerFormat(r.fieldPath)}function VD(r){return r instanceof Yt?function(t){if(t.op==="=="){if(bb(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NAN"}};if(Eb(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bb(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NOT_NAN"}};if(Eb(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(t.field),op:rV(t.op),value:t.value}}}(r):r instanceof $r?function(t){const n=t.getFilters().map(a=>VD(a));return n.length===1?n[0]:{compositeFilter:{op:iV(t.op),filters:n}}}(r):Re(54877,{filter:r})}function aV(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UD(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t,n,a,o=Me.min(),u=Me.min(),f=cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.gt=e}}function oV(r){const e=eV({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.Dn=new uV}addToCollectionParentIndex(e,t){return this.Dn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Na.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Na.min())}updateCollectionGroup(e,t,n){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class uV{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t]||new qt(pt.comparator),o=!a.has(n);return this.index[t]=a.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t];return a&&a.has(n)}getEntries(e){return(this.index[e]||new qt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HD=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(HD,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new yl(0)}static ur(){return new yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="LruGarbageCollector",cV=1048576;function Ub([r,e],[t,n]){const a=Ve(r,t);return a===0?Ve(e,n):a}class fV{constructor(e){this.Tr=e,this.buffer=new qt(Ub),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();Ub(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dV{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){me(Vb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Dl(t)?me(Vb,"Ignoring IndexedDB error during garbage collection: ",t):await Sl(t)}await this.Rr(3e5)})}}class hV{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Mh.ue);const n=new fV(t);return this.Vr.forEachTarget(e,a=>n.Er(a.sequenceNumber)).next(()=>this.Vr.gr(e,a=>n.Er(a))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Lb)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lb):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,a,o,u,f,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(n=_,f=Date.now(),this.removeTargets(e,n,t))).next(_=>(o=_,p=Date.now(),this.removeOrphanedDocuments(e,n))).next(_=>(m=Date.now(),Xo()<=je.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${o} targets in `+(p-f)+`ms
	Removed ${_} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_})))}}function pV(r,e){return new hV(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.changes=new $s(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ie.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,t,n,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(n!==null&&nc(n.mutation,a,Bn.empty(),gt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,ze()).next(()=>n))}getLocalViewOfDocuments(e,t,n=ze()){const a=xs();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,n).next(o=>{let u=Ku();return o.forEach((f,p)=>{u=u.insert(f,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const n=xs();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ze()))}populateOverlays(e,t,n){const a=[];return n.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,n,a){let o=Vi();const u=tc(),f=function(){return tc()}();return t.forEach((p,m)=>{const y=n.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Fa)?o=o.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),nc(y.mutation,m,y.mutation.getFieldMask(),gt.now())):u.set(m.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((m,y)=>u.set(m,y)),t.forEach((m,y)=>{var _;return f.set(m,new mV(y,(_=u.get(m))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,t){const n=tc();let a=new Et((u,f)=>u-f),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let y=n.get(p)||Bn.empty();y=f.applyToLocalView(m,y),n.set(p,y);const _=(a.get(f.batchId)||ze()).add(p);a=a.insert(f.batchId,_)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,y=p.value,_=wD();y.forEach(b=>{if(!o.has(b)){const D=CD(t.get(b),n.get(b));D!==null&&_.set(b,D),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,_))}return ie.waitFor(u)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,a){return function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,a):this.getDocumentsMatchingCollectionQuery(e,t,n,a)}getNextDocuments(e,t,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,a-o.size):ie.resolve(xs());let f=lc,p=o;return u.next(m=>ie.forEach(m,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),o.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{p=p.insert(y,b)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,p,m,ze())).next(y=>({batchId:f,changes:_D(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(n=>{let a=Ku();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,n,a){const o=t.collectionGroup;let u=Ku();return this.indexManager.getCollectionParents(e,o).next(f=>ie.forEach(f,p=>{const m=function(_,b){return new Nh(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,n,a).next(y=>{y.forEach((_,b)=>{u=u.insert(_,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,n,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,a))).next(u=>{o.forEach((p,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,mn.newInvalidDocument(y)))});let f=Ku();return u.forEach((p,m)=>{const y=o.get(p);y!==void 0&&nc(y.mutation,m,Bn.empty(),gt.now()),Lh(t,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(a){return{id:a.id,version:a.version,createTime:qr(a.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(a){return{name:a.name,query:oV(a.bundledQuery),readTime:qr(a.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.overlays=new Et(Te.comparator),this.kr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const n=xs();return ie.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&n.set(a,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((a,o)=>{this.wt(e,t,o)}),ie.resolve()}removeOverlaysForBatchId(e,t,n){const a=this.kr.get(n);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(n)),ie.resolve()}getOverlaysForCollection(e,t,n){const a=xs(),o=t.length+1,u=new Te(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&p.largestBatchId>n&&a.set(p.getKey(),p)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,t,n,a){let o=new Et((m,y)=>m-y);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>n){let y=o.get(m.largestBatchId);y===null&&(y=xs(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const f=xs(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>f.set(m,y)),!(f.size()>=a)););return ie.resolve(f)}wt(e,t,n){const a=this.overlays.get(n.key);if(a!==null){const u=this.kr.get(a.largestBatchId).delete(n.key);this.kr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new UL(t,n));let o=this.kr.get(t);o===void 0&&(o=ze(),this.kr.set(t,o)),this.kr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.qr=new qt(Zt.Qr),this.$r=new qt(Zt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new Zt(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Wr(new Zt(e,t))}Gr(e,t){e.forEach(n=>this.removeReference(n,t))}zr(e){const t=new Te(new pt([])),n=new Zt(t,e),a=new Zt(t,e+1),o=[];return this.$r.forEachInRange([n,a],u=>{this.Wr(u),o.push(u.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Te(new pt([])),n=new Zt(t,e),a=new Zt(t,e+1);let o=ze();return this.$r.forEachInRange([n,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Zt(e,0),n=this.qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Zt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Te.comparator(e.key,t.key)||Ve(e.Hr,t.Hr)}static Ur(e,t){return Ve(e.Hr,t.Hr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new qt(Zt.Qr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,a){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new VL(o,t,n,a);this.mutationQueue.push(u);for(const f of a)this.Yr=this.Yr.add(new Zt(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,t){return ie.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,a=this.Xr(n),o=a<0?0:a;return ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Fy:this.er-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Zt(t,0),a=new Zt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([n,a],u=>{const f=this.Zr(u.Hr);o.push(f)}),ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new qt(Ve);return t.forEach(a=>{const o=new Zt(a,0),u=new Zt(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,u],f=>{n=n.add(f.Hr)})}),ie.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,a=n.length+1;let o=n;Te.isDocumentKey(o)||(o=o.child(""));const u=new Zt(new Te(o),0);let f=new qt(Ve);return this.Yr.forEachWhile(p=>{const m=p.key.path;return!!n.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Hr)),!0)},u),ie.resolve(this.ei(f))}ei(e){const t=[];return e.forEach(n=>{const a=this.Zr(n);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){tt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Yr;return ie.forEach(t.mutations,a=>{const o=new Zt(a.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new Zt(t,0),a=this.Yr.firstAfterOrEqual(n);return ie.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.ni=e,this.docs=function(){return new Et(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,a=this.docs.get(n),o=a?a.size:0,u=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ie.resolve(n?n.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let n=Vi();return t.forEach(a=>{const o=this.docs.get(a);n=n.insert(a,o?o.document.mutableCopy():mn.newInvalidDocument(a))}),ie.resolve(n)}getDocumentsMatchingQuery(e,t,n,a){let o=Vi();const u=t.path,f=new Te(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||$2(X2(y),n)<=0||(a.has(y.key)||Lh(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ie.resolve(o)}getAllFromCollectionGroup(e,t,n,a){Re(9500)}ri(e,t){return ie.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new TV(this)}getSize(e){return ie.resolve(this.size)}}class TV extends gV{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?t.push(this.Or.addEntry(e,a)):this.Or.removeEntry(n)}),ie.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.persistence=e,this.ii=new $s(t=>Yy(t),qy),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.si=0,this.oi=new $y,this.targetCount=0,this._i=yl.ar()}forEachTarget(e,t){return this.ii.forEach((n,a)=>t(a)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),ie.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new yl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.hr(t),ie.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,n){let a=0;const o=[];return this.ii.forEach((u,f)=>{f.sequenceNumber<=t&&n.get(f.targetId)===null&&(this.ii.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),ie.waitFor(o).next(()=>a)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return ie.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),ie.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),ie.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return ie.resolve(n)}containsKey(e,t){return ie.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,t){this.ai={},this.overlays={},this.ui=new Mh(0),this.ci=!1,this.ci=!0,this.li=new wV,this.referenceDelegate=e(this),this.hi=new SV(this),this.indexManager=new lV,this.remoteDocumentCache=function(a){return new bV(a)}(n=>this.referenceDelegate.Pi(n)),this.serializer=new sV(t),this.Ti=new vV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _V,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new EV(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){me("MemoryPersistence","Starting transaction:",e);const a=new DV(this.ui.next());return this.referenceDelegate.Ii(),n(a).next(o=>this.referenceDelegate.di(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Ei(e,t){return ie.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class DV extends J2{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.Ai=new $y,this.Ri=null}static Vi(e){return new Zy(e)}get mi(){if(this.Ri)return this.Ri;throw Re(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),ie.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(a=>this.mi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.mi.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.mi,n=>{const a=Te.fromPath(n);return this.fi(e,a).next(o=>{o||t.removeEntry(a,Me.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(n=>{n?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ie.or([()=>ie.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class sh{constructor(e,t){this.persistence=e,this.gi=new $s(n=>nL(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=pV(this,t)}static Vi(e,t){return new sh(e,t)}Ii(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(a=>n+a))}yr(e){let t=0;return this.gr(e,n=>{t++}).next(()=>t)}gr(e,t){return ie.forEach(this.gi,(n,a)=>this.Sr(e,n,a).next(o=>o?ie.resolve():t(a)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ri(e,u=>this.Sr(e,u,t).next(f=>{f||(n++,o.removeEntry(u,Me.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ie.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rd(e.data.value)),t}Sr(e,t,n){return ie.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.gi.get(t);return ie.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,t,n,a){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=a}static Es(e,t){let n=ze(),a=ze();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Jy(e,t.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return _P()?8:eL(vn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,a){const o={result:null};return this.ps(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ys(e,t,a,n).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new CV;return this.ws(e,t,u).next(f=>{if(o.result=f,this.Rs)return this.Ss(e,t,u,f.size)})}).next(()=>o.result)}Ss(e,t,n,a){return n.documentReadCount<this.Vs?(Xo()<=je.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(Xo()<=je.DEBUG&&me("QueryEngine","Query:",$o(t),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.fs*a?(Xo()<=je.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(t))):ie.resolve())}ps(e,t){if(Cb(t))return ie.resolve(null);let n=zr(t);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Zm(t,null,"F"),n=zr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const u=ze(...o);return this.gs.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,n).next(p=>{const m=this.bs(t,f);return this.Ds(t,m,u,p.readTime)?this.ps(e,Zm(t,null,"F")):this.vs(e,m,t,p)}))})))}ys(e,t,n,a){return Cb(t)||a.isEqual(Me.min())?ie.resolve(null):this.gs.getDocuments(e,n).next(o=>{const u=this.bs(t,o);return this.Ds(t,u,n,a)?ie.resolve(null):(Xo()<=je.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),$o(t)),this.vs(e,u,t,W2(a,lc)).next(f=>f))})}bs(e,t){let n=new qt(yD(e));return t.forEach((a,o)=>{Lh(e,o)&&(n=n.add(o))}),n}Ds(e,t,n,a){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ws(e,t,n){return Xo()<=je.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",$o(t)),this.gs.getDocumentsMatchingQuery(e,t,Na.min(),n)}vs(e,t,n,a){return this.gs.getDocumentsMatchingQuery(e,n,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="LocalStore",RV=3e8;class IV{constructor(e,t,n,a){this.persistence=e,this.Cs=t,this.serializer=a,this.Fs=new Et(Ve),this.Ms=new $s(o=>Yy(o),qy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yV(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function OV(r,e,t,n){return new IV(r,e,t,n)}async function FD(r,e){const t=xe(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let a;return t.mutationQueue.getAllMutationBatches(n).next(o=>(a=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const u=[],f=[];let p=ze();for(const m of a){u.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of o){f.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(n,p).next(m=>({Bs:m,removedBatchIds:u,addedBatchIds:f}))})})}function MV(r,e){const t=xe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(f,p,m,y){const _=m.batch,b=_.keys();let D=ie.resolve();return b.forEach(k=>{D=D.next(()=>y.getEntry(p,k)).next(L=>{const x=m.docVersions.get(k);tt(x!==null,48541),L.version.compareTo(x)<0&&(_.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),y.addEntry(L)))})}),D.next(()=>f.mutationQueue.removeMutationBatch(p,_))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(f){let p=ze();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(n,a))})}function jD(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function xV(r,e){const t=xe(r),n=e.snapshotVersion;let a=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});a=t.Fs;const f=[];e.targetChanges.forEach((y,_)=>{const b=a.get(_);if(!b)return;f.push(t.hi.removeMatchingKeys(o,y.removedDocuments,_).next(()=>t.hi.addMatchingKeys(o,y.addedDocuments,_)));let D=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?D=D.withResumeToken(cn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):y.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(y.resumeToken,n)),a=a.insert(_,D),function(L,x,F){return L.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=RV?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(b,D,y)&&f.push(t.hi.updateTargetData(o,D))});let p=Vi(),m=ze();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),f.push(kV(o,u,e.documentUpdates).next(y=>{p=y.Ls,m=y.ks})),!n.isEqual(Me.min())){const y=t.hi.getLastRemoteSnapshotVersion(o).next(_=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,n));f.push(y)}return ie.waitFor(f).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,m)).next(()=>p)}).then(o=>(t.Fs=a,o))}function kV(r,e,t){let n=ze(),a=ze();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let u=Vi();return t.forEach((f,p)=>{const m=o.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Me.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):me(ev,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Ls:u,ks:a}})}function NV(r,e){const t=xe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Fy),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function PV(r,e){const t=xe(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return t.hi.getTargetData(n,e).next(o=>o?(a=o,ie.resolve(a)):t.hi.allocateTargetId(n).next(u=>(a=new ba(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.hi.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=t.Fs.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(n.targetId,n),t.Ms.set(e,n.targetId)),n})}async function ry(r,e,t){const n=xe(r),a=n.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,u=>n.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Dl(u))throw u;me(ev,`Failed to update sequence numbers for target ${e}: ${u}`)}n.Fs=n.Fs.remove(e),n.Ms.delete(a.target)}function Hb(r,e,t){const n=xe(r);let a=Me.min(),o=ze();return n.persistence.runTransaction("Execute query","readwrite",u=>function(p,m,y){const _=xe(p),b=_.Ms.get(y);return b!==void 0?ie.resolve(_.Fs.get(b)):_.hi.getTargetData(m,y)}(n,u,zr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,n.hi.getMatchingKeysForTargetId(u,f.targetId).next(p=>{o=p})}).next(()=>n.Cs.getDocumentsMatchingQuery(u,e,t?a:Me.min(),t?o:ze())).next(f=>(LV(n,bL(e),f),{documents:f,qs:o})))}function LV(r,e,t){let n=r.xs.get(e)||Me.min();t.forEach((a,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.xs.set(e,n)}class Bb{constructor(){this.activeTargetIds=RL()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VV{constructor(){this.Fo=new Bb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Bb,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="ConnectivityMonitor";class jb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){me(Fb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){me(Fb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd=null;function iy(){return vd===null?vd=function(){return 268435456+Math.round(2147483648*Math.random())}():vd++,"0x"+vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="RestConnection",HV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BV{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${a}`,this.Ko=this.databaseId.database===Jd?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Wo(e,t,n,a,o){const u=iy(),f=this.Go(e,t.toUriEncodedString());me(Sm,`Sending RPC '${e}' ${u}:`,f,n);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,a,o);const{host:m}=new URL(f),y=El(m);return this.jo(e,f,p,n,y).then(_=>(me(Sm,`Received RPC '${e}' ${u}: `,_),_),_=>{throw ka(Sm,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",n),_})}Jo(e,t,n,a,o,u){return this.Wo(e,t,n,a,o)}zo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),n&&n.headers.forEach((a,o)=>e[o]=a)}Go(e,t){const n=HV[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class jV extends BV{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,a,o){const u=iy();return new Promise((f,p)=>{const m=new YS;m.setWithCredentials(!0),m.listenOnce(qS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ad.NO_ERROR:const _=m.getResponseJson();me(pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case Ad.TIMEOUT:me(pn,`RPC '${e}' ${u} timed out`),p(new _e(se.DEADLINE_EXCEEDED,"Request time out"));break;case Ad.HTTP_ERROR:const b=m.getStatus();if(me(pn,`RPC '${e}' ${u} failed with status:`,b,"response text:",m.getResponseText()),b>0){let D=m.getResponseJson();Array.isArray(D)&&(D=D[0]);const k=D==null?void 0:D.error;if(k&&k.status&&k.message){const L=function(F){const Y=F.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(Y)>=0?Y:se.UNKNOWN}(k.status);p(new _e(L,k.message))}else p(new _e(se.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new _e(se.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{c_:e,streamId:u,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{me(pn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(a);me(pn,`RPC '${e}' ${u} sending request:`,a),m.send(t,"POST",y,n,15)})}P_(e,t,n){const a=iy(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=KS(),f=QS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const y=o.join("");me(pn,`Creating RPC '${e}' stream ${a}: ${y}`,p);const _=u.createWebChannel(y,p);this.T_(_);let b=!1,D=!1;const k=new FV({Ho:x=>{D?me(pn,`Not sending because RPC '${e}' stream ${a} is closed:`,x):(b||(me(pn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),b=!0),me(pn,`RPC '${e}' stream ${a} sending:`,x),_.send(x))},Yo:()=>_.close()}),L=(x,F,Y)=>{x.listen(F,Q=>{try{Y(Q)}catch(le){setTimeout(()=>{throw le},0)}})};return L(_,Qu.EventType.OPEN,()=>{D||(me(pn,`RPC '${e}' stream ${a} transport opened.`),k.s_())}),L(_,Qu.EventType.CLOSE,()=>{D||(D=!0,me(pn,`RPC '${e}' stream ${a} transport closed`),k.__(),this.I_(_))}),L(_,Qu.EventType.ERROR,x=>{D||(D=!0,ka(pn,`RPC '${e}' stream ${a} transport errored. Name:`,x.name,"Message:",x.message),k.__(new _e(se.UNAVAILABLE,"The operation could not be completed")))}),L(_,Qu.EventType.MESSAGE,x=>{var F;if(!D){const Y=x.data[0];tt(!!Y,16349);const Q=Y,le=(Q==null?void 0:Q.error)||((F=Q[0])===null||F===void 0?void 0:F.error);if(le){me(pn,`RPC '${e}' stream ${a} received error:`,le);const oe=le.status;let $=function(C){const O=Lt[C];if(O!==void 0)return ID(O)}(oe),R=le.message;$===void 0&&($=se.INTERNAL,R="Unknown error status: "+oe+" with message "+le.message),D=!0,k.__(new _e($,R)),_.close()}else me(pn,`RPC '${e}' stream ${a} received:`,Y),k.a_(Y)}}),L(f,GS.STAT_EVENT,x=>{x.stat===Gm.PROXY?me(pn,`RPC '${e}' stream ${a} detected buffering proxy`):x.stat===Gm.NOPROXY&&me(pn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{k.o_()},0),k}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(r){return new GL(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,t,n=1e3,a=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=n,this.E_=a,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),a=Math.max(0,t-n);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="PersistentStream";class YD{constructor(e,t,n,a,o,u,f,p){this.Fi=e,this.w_=n,this.S_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new zD(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Li(t.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.b_===t&&this.W_(n,a)},n=>{e(()=>{const a=new _e(se.UNKNOWN,"Fetching auth token failed: "+n.message);return this.G_(a)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{n(()=>this.G_(a))}),this.stream.onMessage(a=>{n(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return me(zb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(me(zb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zV extends YD{constructor(e,t,n,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,a,u),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=WL(this.serializer,e),n=function(o){if(!("targetChange"in o))return Me.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?qr(u.readTime):Me.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=ny(this.serializer),t.addTarget=function(o,u){let f;const p=u.target;if(f=$m(p)?{documents:ZL(o,p)}:{query:JL(o,p).Vt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=xD(o,u.resumeToken);const m=Jm(o,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(Me.min())>0){f.readTime=ah(o,u.snapshotVersion.toTimestamp());const m=Jm(o,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const n=tV(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=ny(this.serializer),t.removeTarget=e,this.k_(t)}}class YV extends YD{constructor(e,t,n,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,a,u),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=$L(e.writeResults,e.commitTime),n=qr(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=ny(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>XL(this.serializer,n))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{}class GV extends qV{constructor(e,t,n,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new _e(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Wo(e,ey(t,n),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(se.UNKNOWN,o.toString())})}Jo(e,t,n,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Jo(e,ey(t,n),a,u,f,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(se.UNKNOWN,u.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class QV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Li(t),this._a=!1):me("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="RemoteStore";class KV{constructor(e,t,n,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(u=>{n.enqueueAndForget(async()=>{Zs(this)&&(me(Gs,"Restarting streams for network reachability change."),await async function(p){const m=xe(p);m.Ia.add(4),await Dc(m),m.Aa.set("Unknown"),m.Ia.delete(4),await Fh(m)}(this))})}),this.Aa=new QV(n,a)}}async function Fh(r){if(Zs(r))for(const e of r.da)await e(!0)}async function Dc(r){for(const e of r.da)await e(!1)}function qD(r,e){const t=xe(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),iv(t)?rv(t):Cl(t).x_()&&nv(t,e))}function tv(r,e){const t=xe(r),n=Cl(t);t.Ta.delete(e),n.x_()&&GD(t,e),t.Ta.size===0&&(n.x_()?n.B_():Zs(t)&&t.Aa.set("Unknown"))}function nv(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cl(r).H_(e)}function GD(r,e){r.Ra.$e(e),Cl(r).Y_(e)}function rv(r){r.Ra=new jL({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Cl(r).start(),r.Aa.aa()}function iv(r){return Zs(r)&&!Cl(r).M_()&&r.Ta.size>0}function Zs(r){return xe(r).Ia.size===0}function QD(r){r.Ra=void 0}async function WV(r){r.Aa.set("Online")}async function XV(r){r.Ta.forEach((e,t)=>{nv(r,e)})}async function $V(r,e){QD(r),iv(r)?(r.Aa.la(e),rv(r)):r.Aa.set("Unknown")}async function ZV(r,e,t){if(r.Aa.set("Online"),e instanceof MD&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const f of o.targetIds)a.Ta.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ta.delete(f),a.Ra.removeTarget(f))}(r,e)}catch(n){me(Gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await oh(r,n)}else if(e instanceof Md?r.Ra.Ye(e):e instanceof OD?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Me.min()))try{const n=await jD(r.localStore);t.compareTo(n)>=0&&await function(o,u){const f=o.Ra.Pt(u);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=o.Ta.get(m);y&&o.Ta.set(m,y.withResumeToken(p.resumeToken,u))}}),f.targetMismatches.forEach((p,m)=>{const y=o.Ta.get(p);if(!y)return;o.Ta.set(p,y.withResumeToken(cn.EMPTY_BYTE_STRING,y.snapshotVersion)),GD(o,p);const _=new ba(y.target,p,m,y.sequenceNumber);nv(o,_)}),o.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(n){me(Gs,"Failed to raise snapshot:",n),await oh(r,n)}}async function oh(r,e,t){if(!Dl(e))throw e;r.Ia.add(1),await Dc(r),r.Aa.set("Offline"),t||(t=()=>jD(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{me(Gs,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await Fh(r)})}function KD(r,e){return e().catch(t=>oh(r,t,e))}async function jh(r){const e=xe(r),t=Ua(e);let n=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Fy;for(;JV(e);)try{const a=await NV(e.localStore,n);if(a===null){e.Pa.length===0&&t.B_();break}n=a.batchId,e4(e,a)}catch(a){await oh(e,a)}WD(e)&&XD(e)}function JV(r){return Zs(r)&&r.Pa.length<10}function e4(r,e){r.Pa.push(e);const t=Ua(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function WD(r){return Zs(r)&&!Ua(r).M_()&&r.Pa.length>0}function XD(r){Ua(r).start()}async function t4(r){Ua(r).na()}async function n4(r){const e=Ua(r);for(const t of r.Pa)e.X_(t.mutations)}async function r4(r,e,t){const n=r.Pa.shift(),a=Ky.from(n,e,t);await KD(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),await jh(r)}async function i4(r,e){e&&Ua(r).Z_&&await async function(n,a){if(function(u){return BL(u)&&u!==se.ABORTED}(a.code)){const o=n.Pa.shift();Ua(n).N_(),await KD(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,a)),await jh(n)}}(r,e),WD(r)&&XD(r)}async function Yb(r,e){const t=xe(r);t.asyncQueue.verifyOperationInProgress(),me(Gs,"RemoteStore received new credentials");const n=Zs(t);t.Ia.add(3),await Dc(t),n&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Fh(t)}async function a4(r,e){const t=xe(r);e?(t.Ia.delete(2),await Fh(t)):e||(t.Ia.add(2),await Dc(t),t.Aa.set("Unknown"))}function Cl(r){return r.Va||(r.Va=function(t,n,a){const o=xe(t);return o.ia(),new zV(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(r.datastore,r.asyncQueue,{Zo:WV.bind(null,r),e_:XV.bind(null,r),n_:$V.bind(null,r),J_:ZV.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),iv(r)?rv(r):r.Aa.set("Unknown")):(await r.Va.stop(),QD(r))})),r.Va}function Ua(r){return r.ma||(r.ma=function(t,n,a){const o=xe(t);return o.ia(),new YV(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:t4.bind(null,r),n_:i4.bind(null,r),ea:n4.bind(null,r),ta:r4.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await jh(r)):(await r.ma.stop(),r.Pa.length>0&&(me(Gs,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,t,n,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=a,this.removalCallback=o,this.deferred=new Ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,a,o){const u=Date.now()+n,f=new av(e,t,u,a,o);return f.start(n),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sv(r,e){if(Li("AsyncQueue",`${e}: ${r}`),Dl(r))return new _e(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Te.comparator(t.key,n.key):(t,n)=>Te.comparator(t.key,n.key),this.keyedMap=Ku(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=n.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new nl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.fa=new Et(Te.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?e.type!==0&&n.type===3?this.fa=this.fa.insert(t,e):e.type===3&&n.type!==1?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.fa=this.fa.remove(t):e.type===1&&n.type===2?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Re(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class vl{constructor(e,t,n,a,o,u,f,p,m){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,n,a,o){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new vl(e,t,nl.emptySet(t),u,n,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==n[a].type||!t[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class o4{constructor(){this.queries=Gb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,n){const a=xe(t),o=a.queries;a.queries=Gb(),o.forEach((u,f)=>{for(const p of f.wa)p.onError(n)})})(this,new _e(se.ABORTED,"Firestore shutting down"))}}function Gb(){return new $s(r=>mD(r),Ph)}async function l4(r,e){const t=xe(r);let n=3;const a=e.query;let o=t.queries.get(a);o?!o.Sa()&&e.ba()&&(n=2):(o=new s4,n=e.ba()?0:1);try{switch(n){case 0:o.ya=await t.onListen(a,!0);break;case 1:o.ya=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const f=sv(u,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&ov(t)}async function u4(r,e){const t=xe(r),n=e.query;let a=3;const o=t.queries.get(n);if(o){const u=o.wa.indexOf(e);u>=0&&(o.wa.splice(u,1),o.wa.length===0?a=e.ba()?0:1:!o.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function c4(r,e){const t=xe(r);let n=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const f of u.wa)f.Ca(a)&&(n=!0);u.ya=a}}n&&ov(t)}function f4(r,e,t){const n=xe(r),a=n.queries.get(e);if(a)for(const o of a.wa)o.onError(t);n.queries.delete(e)}function ov(r){r.Da.forEach(e=>{e.next()})}var ay,Qb;(Qb=ay||(ay={})).Fa="default",Qb.Cache="cache";class d4{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new vl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const n=t!=="Offline";return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ay.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.key=e}}class ZD{constructor(e){this.key=e}}class h4{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ze(),this.mutatedKeys=ze(),this.Xa=yD(e),this.eu=new nl(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new qb,a=t?t.eu:this.eu;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const b=a.get(y),D=Lh(this.query,_)?_:null,k=!!b&&this.mutatedKeys.has(b.key),L=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let x=!1;b&&D?b.data.isEqual(D.data)?k!==L&&(n.track({type:3,doc:D}),x=!0):this.iu(b,D)||(n.track({type:2,doc:D}),x=!0,(p&&this.Xa(D,p)>0||m&&this.Xa(D,m)<0)&&(f=!0)):!b&&D?(n.track({type:0,doc:D}),x=!0):b&&!D&&(n.track({type:1,doc:b}),x=!0,(p||m)&&(f=!0)),x&&(D?(u=u.add(D),o=L?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),n.track({type:1,doc:y})}return{eu:u,ru:n,Ds:f,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,a){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort((y,_)=>function(D,k){const L=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{At:x})}};return L(D)-L(k)}(y.type,_.type)||this.Xa(y.doc,_.doc)),this.su(n),a=a!=null&&a;const f=t&&!a?this.ou():[],p=this.Za.size===0&&this.current&&!a?1:0,m=p!==this.Ya;return this.Ya=p,u.length!==0||m?{snapshot:new vl(this.query,e.eu,o,u,e.mutatedKeys,p===0,m,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new qb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ze(),this.eu.forEach(n=>{this.au(n.key)&&(this.Za=this.Za.add(n.key))});const t=[];return e.forEach(n=>{this.Za.has(n)||t.push(new ZD(n))}),this.Za.forEach(n=>{e.has(n)||t.push(new $D(n))}),t}uu(e){this.Ha=e.qs,this.Za=ze();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return vl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const lv="SyncEngine";class p4{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class g4{constructor(e){this.key=e,this.lu=!1}}class m4{constructor(e,t,n,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new $s(f=>mD(f),Ph),this.Tu=new Map,this.Iu=new Set,this.du=new Et(Te.comparator),this.Eu=new Map,this.Au=new $y,this.Ru={},this.Vu=new Map,this.mu=yl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function y4(r,e,t=!0){const n=i1(r);let a;const o=n.Pu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.cu()):a=await JD(n,e,t,!0),a}async function v4(r,e){const t=i1(r);await JD(t,e,!0,!1)}async function JD(r,e,t,n){const a=await PV(r.localStore,zr(e)),o=a.targetId,u=r.sharedClientState.addLocalQueryTarget(o,t);let f;return n&&(f=await _4(r,e,o,u==="current",a.resumeToken)),r.isPrimaryClient&&t&&qD(r.remoteStore,a),f}async function _4(r,e,t,n,a){r.gu=(_,b,D)=>async function(L,x,F,Y){let Q=x.view.nu(F);Q.Ds&&(Q=await Hb(L.localStore,x.query,!1).then(({documents:R})=>x.view.nu(R,Q)));const le=Y&&Y.targetChanges.get(x.targetId),oe=Y&&Y.targetMismatches.get(x.targetId)!=null,$=x.view.applyChanges(Q,L.isPrimaryClient,le,oe);return Wb(L,x.targetId,$._u),$.snapshot}(r,_,b,D);const o=await Hb(r.localStore,e,!0),u=new h4(e,o.qs),f=u.nu(o.documents),p=Sc.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",a),m=u.applyChanges(f,r.isPrimaryClient,p);Wb(r,t,m._u);const y=new p4(e,t,u);return r.Pu.set(e,y),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),m.snapshot}async function w4(r,e,t){const n=xe(r),a=n.Pu.get(e),o=n.Tu.get(a.targetId);if(o.length>1)return n.Tu.set(a.targetId,o.filter(u=>!Ph(u,e))),void n.Pu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await ry(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),t&&tv(n.remoteStore,a.targetId),sy(n,a.targetId)}).catch(Sl)):(sy(n,a.targetId),await ry(n.localStore,a.targetId,!0))}async function E4(r,e){const t=xe(r),n=t.Pu.get(e),a=t.Tu.get(n.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),tv(t.remoteStore,n.targetId))}async function b4(r,e,t){const n=I4(r);try{const a=await function(u,f){const p=xe(u),m=gt.now(),y=f.reduce((D,k)=>D.add(k.key),ze());let _,b;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let k=Vi(),L=ze();return p.Os.getEntries(D,y).next(x=>{k=x,k.forEach((F,Y)=>{Y.isValidDocument()||(L=L.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,k)).next(x=>{_=x;const F=[];for(const Y of f){const Q=PL(Y,_.get(Y.key).overlayedDocument);Q!=null&&F.push(new Fa(Y.key,Q,uD(Q.value.mapValue),Yr.exists(!0)))}return p.mutationQueue.addMutationBatch(D,m,F,f)}).next(x=>{b=x;const F=x.applyToLocalDocumentSet(_,L);return p.documentOverlayCache.saveOverlays(D,x.batchId,F)})}).then(()=>({batchId:b.batchId,changes:_D(_)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(u,f,p){let m=u.Ru[u.currentUser.toKey()];m||(m=new Et(Ve)),m=m.insert(f,p),u.Ru[u.currentUser.toKey()]=m}(n,a.batchId,t),await Cc(n,a.changes),await jh(n.remoteStore)}catch(a){const o=sv(a,"Failed to persist write");t.reject(o)}}async function e1(r,e){const t=xe(r);try{const n=await xV(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t.Eu.get(o);u&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.lu=!0:a.modifiedDocuments.size>0?tt(u.lu,14607):a.removedDocuments.size>0&&(tt(u.lu,42227),u.lu=!1))}),await Cc(t,n,e)}catch(n){await Sl(n)}}function Kb(r,e,t){const n=xe(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const a=[];n.Pu.forEach((o,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const p=xe(u);p.onlineState=f;let m=!1;p.queries.forEach((y,_)=>{for(const b of _.wa)b.va(f)&&(m=!0)}),m&&ov(p)}(n.eventManager,e),a.length&&n.hu.J_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function T4(r,e,t){const n=xe(r);n.sharedClientState.updateQueryState(e,"rejected",t);const a=n.Eu.get(e),o=a&&a.key;if(o){let u=new Et(Te.comparator);u=u.insert(o,mn.newNoDocument(o,Me.min()));const f=ze().add(o),p=new Hh(Me.min(),new Map,new Et(Ve),u,f);await e1(n,p),n.du=n.du.remove(o),n.Eu.delete(e),uv(n)}else await ry(n.localStore,e,!1).then(()=>sy(n,e,t)).catch(Sl)}async function S4(r,e){const t=xe(r),n=e.batch.batchId;try{const a=await MV(t.localStore,e);n1(t,n,null),t1(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Cc(t,a)}catch(a){await Sl(a)}}async function D4(r,e,t){const n=xe(r);try{const a=await function(u,f){const p=xe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,f).next(_=>(tt(_!==null,37113),y=_.keys(),p.mutationQueue.removeMutationBatch(m,_))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(n.localStore,e);n1(n,e,t),t1(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Cc(n,a)}catch(a){await Sl(a)}}function t1(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function n1(r,e,t){const n=xe(r);let a=n.Ru[n.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),n.Ru[n.currentUser.toKey()]=a}}function sy(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Tu.get(e))r.Pu.delete(n),t&&r.hu.pu(n,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(n=>{r.Au.containsKey(n)||r1(r,n)})}function r1(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(tv(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),uv(r))}function Wb(r,e,t){for(const n of t)n instanceof $D?(r.Au.addReference(n.key,e),C4(r,n)):n instanceof ZD?(me(lv,"Document no longer in limbo: "+n.key),r.Au.removeReference(n.key,e),r.Au.containsKey(n.key)||r1(r,n.key)):Re(19791,{yu:n})}function C4(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Iu.has(n)||(me(lv,"New document in limbo: "+t),r.Iu.add(n),uv(r))}function uv(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new Te(pt.fromString(e)),n=r.mu.next();r.Eu.set(n,new g4(t)),r.du=r.du.insert(t,n),qD(r.remoteStore,new ba(zr(Gy(t.path)),n,"TargetPurposeLimboResolution",Mh.ue))}}async function Cc(r,e,t){const n=xe(r),a=[],o=[],u=[];n.Pu.isEmpty()||(n.Pu.forEach((f,p)=>{u.push(n.gu(p,e,t).then(m=>{var y;if((m||t)&&n.isPrimaryClient){const _=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;n.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(m){a.push(m);const _=Jy.Es(p.targetId,m);o.push(_)}}))}),await Promise.all(u),n.hu.J_(a),await async function(p,m){const y=xe(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ie.forEach(m,b=>ie.forEach(b.Is,D=>y.persistence.referenceDelegate.addReference(_,b.targetId,D)).next(()=>ie.forEach(b.ds,D=>y.persistence.referenceDelegate.removeReference(_,b.targetId,D)))))}catch(_){if(!Dl(_))throw _;me(ev,"Failed to update sequence numbers: "+_)}for(const _ of m){const b=_.targetId;if(!_.fromCache){const D=y.Fs.get(b),k=D.snapshotVersion,L=D.withLastLimboFreeSnapshotVersion(k);y.Fs=y.Fs.insert(b,L)}}}(n.localStore,o))}async function A4(r,e){const t=xe(r);if(!t.currentUser.isEqual(e)){me(lv,"User change. New user:",e.toKey());const n=await FD(t.localStore,e);t.currentUser=e,function(o,u){o.Vu.forEach(f=>{f.forEach(p=>{p.reject(new _e(se.CANCELLED,u))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Cc(t,n.Bs)}}function R4(r,e){const t=xe(r),n=t.Eu.get(e);if(n&&n.lu)return ze().add(n.key);{let a=ze();const o=t.Tu.get(e);if(!o)return a;for(const u of o){const f=t.Pu.get(u);a=a.unionWith(f.view.tu)}return a}}function i1(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=e1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T4.bind(null,e),e.hu.J_=c4.bind(null,e.eventManager),e.hu.pu=f4.bind(null,e.eventManager),e}function I4(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D4.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return OV(this.persistence,new AV,e.initialUser,this.serializer)}Du(e){return new BD(Zy.Vi,this.serializer)}bu(e){return new VV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class O4 extends lh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){tt(this.persistence.referenceDelegate instanceof sh,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new dV(n,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new BD(n=>sh.Vi(n,t),this.serializer)}}class oy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Kb(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=A4.bind(null,this.syncEngine),await a4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o4}()}createDatastore(e){const t=Bh(e.databaseInfo.databaseId),n=function(o){return new jV(o)}(e.databaseInfo);return function(o,u,f,p){return new GV(o,u,f,p)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,a,o,u,f){return new KV(n,a,o,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Kb(this.syncEngine,t,0),function(){return jb.C()?new jb:new UV}())}createSyncEngine(e,t){return function(a,o,u,f,p,m,y){const _=new m4(a,o,u,f,p,m);return y&&(_.fu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=xe(a);me(Gs,"RemoteStore shutting down."),o.Ia.add(5),await Dc(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}oy.provider={build:()=>new oy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="FirestoreClient";class x4{constructor(e,t,n,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=a,this.user=gn.UNAUTHENTICATED,this.clientId=Hy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async u=>{me(Ha,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(n,u=>(me(Ha,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=sv(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Cm(r,e){r.asyncQueue.verifyOperationInProgress(),me(Ha,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async a=>{n.isEqual(a)||(await FD(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>{ka("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{me("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{ka("Terminating Firestore due to IndexedDb database deletion failed",a)})}),r._offlineComponents=e}async function Xb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await k4(r);me(Ha,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>Yb(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,a)=>Yb(e.remoteStore,a)),r._onlineComponents=e}async function k4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(Ha,"Using user provided OfflineComponentProvider");try{await Cm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;ka("Error using user provided cache. Falling back to memory cache: "+t),await Cm(r,new lh)}}else me(Ha,"Using default OfflineComponentProvider"),await Cm(r,new O4(void 0));return r._offlineComponents}async function a1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(Ha,"Using user provided OnlineComponentProvider"),await Xb(r,r._uninitializedComponentsProvider._online)):(me(Ha,"Using default OnlineComponentProvider"),await Xb(r,new oy))),r._onlineComponents}function N4(r){return a1(r).then(e=>e.syncEngine)}async function P4(r){const e=await a1(r),t=e.eventManager;return t.onListen=y4.bind(null,e.syncEngine),t.onUnlisten=w4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=v4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=E4.bind(null,e.syncEngine),t}function L4(r,e,t={}){const n=new Ia;return r.asyncQueue.enqueueAndForget(async()=>function(o,u,f,p,m){const y=new M4({next:b=>{y.Ou(),u.enqueueAndForget(()=>u4(o,_));const D=b.docs.has(f);!D&&b.fromCache?m.reject(new _e(se.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&p&&p.source==="server"?m.reject(new _e(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),_=new d4(Gy(f.path),y,{includeMetadataChanges:!0,ka:!0});return l4(o,_)}(await P4(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firestore.googleapis.com",Zb=!0;class Jb{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o1,this.ssl=Zb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Zb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cV)throw new _e(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s1((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,t,n,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new H2;switch(n.type){case"firstParty":return new z2(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new _e(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=$b.get(t);n&&(me("ComponentProvider","Removing Datastore"),$b.delete(t),n.terminate())}(this),Promise.resolve()}}function V4(r,e,t,n={}){var a;r=qs(r,zh);const o=El(e),u=r._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;o&&(PS(`https://${p}`),LS("Firestore",!0)),u.host!==o1&&u.host!==p&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:p,ssl:o,emulatorOptions:n});if(!js(m,f)&&(r._setSettings(m),n.mockUserToken)){let y,_;if(typeof n.mockUserToken=="string")y=n.mockUserToken,_=gn.MOCK_USER;else{y=cP(n.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const b=n.mockUserToken.sub||n.mockUserToken.user_id;if(!b)throw new _e(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new gn(b)}r._authCredentials=new B2(new XS(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new cv(this.firestore,e,this._query)}}class Ut{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(bc(t,Ut._jsonSchema))return new Ut(e,n||null,new Te(pt.fromString(t.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Vt("string",Ut._jsonSchemaVersion),referencePath:Vt("string")};class Oa extends cv{constructor(e,t,n){super(e,t,Gy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new Te(e))}withConverter(e){return new Oa(this.firestore,e,this._path)}}function Ac(r,e,...t){if(r=un(r),ZS("collection","path",e),r instanceof zh){const n=pt.fromString(e,...t);return hb(n),new Oa(r,null,n)}{if(!(r instanceof Ut||r instanceof Oa))throw new _e(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(pt.fromString(e,...t));return hb(n),new Oa(r.firestore,null,n)}}function Rc(r,e,...t){if(r=un(r),arguments.length===1&&(e=Hy.newId()),ZS("doc","path",e),r instanceof zh){const n=pt.fromString(e,...t);return db(n),new Ut(r,null,new Te(n))}{if(!(r instanceof Ut||r instanceof Oa))throw new _e(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(pt.fromString(e,...t));return db(n),new Ut(r.firestore,r instanceof Oa?r.converter:null,new Te(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="AsyncQueue";class tT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new zD(this,"async_queue_retry"),this.oc=()=>{const n=Dm();n&&me(eT,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=e;const t=Dm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Dm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Ia;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Dl(e))throw e;me(eT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(n=>{throw this.tc=n,this.nc=!1,Li("INTERNAL UNHANDLED ERROR: ",nT(n)),n}).then(n=>(this.nc=!1,n))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const a=av.createAndSchedule(this,e,t,n,o=>this.lc(o));return this.ec.push(a),a}ac(){this.tc&&Re(47125,{hc:nT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function nT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Yh extends zh{constructor(e,t,n,a){super(e,t,n,a),this.type="firestore",this._queue=new tT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tT(e),this._firestoreClient=void 0,await e}}}function U4(r,e){const t=typeof r=="object"?r:BS(),n=typeof r=="string"?r:Jd,a=Vy(t,"firestore").getImmediate({identifier:n});if(!a._initialized){const o=lP("firestore");o&&V4(a,...o)}return a}function l1(r){if(r._terminated)throw new _e(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||H4(r),r._firestoreClient}function H4(r){var e,t,n;const a=r._freezeSettings(),o=function(f,p,m,y){return new aL(f,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,s1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new x4(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sr(cn.fromBase64String(e))}catch(t){throw new _e(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sr(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bc(e,sr._jsonSchema))return sr.fromBase64String(e.bytes)}}sr._jsonSchemaVersion="firestore/bytes/1.0",sr._jsonSchema={type:Vt("string",sr._jsonSchemaVersion),bytes:Vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gr._jsonSchemaVersion}}static fromJSON(e){if(bc(e,Gr._jsonSchema))return new Gr(e.latitude,e.longitude)}}Gr._jsonSchemaVersion="firestore/geoPoint/1.0",Gr._jsonSchema={type:Vt("string",Gr._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==a[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bc(e,Qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Qr(e.vectorValues);throw new _e(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qr._jsonSchemaVersion="firestore/vectorValue/1.0",Qr._jsonSchema={type:Vt("string",Qr._jsonSchemaVersion),vectorValues:Vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=/^__.*__$/;class F4{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tc(e,this.data,t,this.fieldTransforms)}}class u1{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function c1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ec:r})}}class dv{constructor(e,t,n,a,o,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=a,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new dv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:n,mc:!1});return a.fc(e),a}gc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:n,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return uh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(c1(this.Ec)&&B4.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class j4{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Bh(e)}Dc(e,t,n,a=!1){return new dv({Ec:e,methodName:t,bc:n,path:on.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function f1(r){const e=r._freezeSettings(),t=Bh(r._databaseId);return new j4(r._databaseId,!!e.ignoreUndefinedProperties,t)}function z4(r,e,t,n,a,o={}){const u=r.Dc(o.merge||o.mergeFields?2:0,e,t,a);hv("Data must be an object, but it was:",u,n);const f=d1(n,u);let p,m;if(o.merge)p=new Bn(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const b=ly(e,_,t);if(!u.contains(b))throw new _e(se.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);p1(y,b)||y.push(b)}p=new Bn(y),m=u.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,m=u.fieldTransforms;return new F4(new In(f),p,m)}class Gh extends fv{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}function Y4(r,e,t,n){const a=r.Dc(1,e,t);hv("Data must be an object, but it was:",a,n);const o=[],u=In.empty();Ba(n,(p,m)=>{const y=pv(e,p,t);m=un(m);const _=a.gc(y);if(m instanceof Gh)o.push(y);else{const b=Qh(m,_);b!=null&&(o.push(y),u.set(y,b))}});const f=new Bn(o);return new u1(u,f,a.fieldTransforms)}function q4(r,e,t,n,a,o){const u=r.Dc(1,e,t),f=[ly(e,n,t)],p=[a];if(o.length%2!=0)throw new _e(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)f.push(ly(e,o[b])),p.push(o[b+1]);const m=[],y=In.empty();for(let b=f.length-1;b>=0;--b)if(!p1(m,f[b])){const D=f[b];let k=p[b];k=un(k);const L=u.gc(D);if(k instanceof Gh)m.push(D);else{const x=Qh(k,L);x!=null&&(m.push(D),y.set(D,x))}}const _=new Bn(m);return new u1(y,_,u.fieldTransforms)}function Qh(r,e){if(h1(r=un(r)))return hv("Unsupported field value:",e,r),d1(r,e);if(r instanceof fv)return function(n,a){if(!c1(a.Ec))throw a.wc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(n,a){const o=[];let u=0;for(const f of n){let p=Qh(f,a.yc(u));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),u++}return{arrayValue:{values:o}}}(r,e)}return function(n,a){if((n=un(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return IL(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=gt.fromDate(n);return{timestampValue:ah(a.serializer,o)}}if(n instanceof gt){const o=new gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ah(a.serializer,o)}}if(n instanceof Gr)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof sr)return{bytesValue:xD(a.serializer,n._byteString)};if(n instanceof Ut){const o=a.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw a.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Xy(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Qr)return function(u,f){return{mapValue:{fields:{[oD]:{stringValue:lD},[eh]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.wc("VectorValues must only contain numeric values.");return Qy(f.serializer,m)})}}}}}}(n,a);throw a.wc(`Unsupported field value: ${By(n)}`)}(r,e)}function d1(r,e){const t={};return tD(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(r,(n,a)=>{const o=Qh(a,e.Vc(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function h1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof Gr||r instanceof sr||r instanceof Ut||r instanceof fv||r instanceof Qr)}function hv(r,e,t){if(!h1(t)||!JS(t)){const n=By(t);throw n==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+n)}}function ly(r,e,t){if((e=un(e))instanceof qh)return e._internalPath;if(typeof e=="string")return pv(r,e);throw uh("Field path arguments must be of type string or ",r,!1,void 0,t)}const G4=new RegExp("[~\\*/\\[\\]]");function pv(r,e,t){if(e.search(G4)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new qh(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function uh(r,e,t,n,a){const o=n&&!n.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(o||u)&&(p+=" (found",o&&(p+=` in field ${n}`),u&&(p+=` in document ${a}`),p+=")"),new _e(se.INVALID_ARGUMENT,f+r+p)}function p1(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,t,n,a,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(m1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Q4 extends g1{data(){return super.data()}}function m1(r,e){return typeof e=="string"?pv(r,e):e instanceof qh?e._internalPath:e._delegate._internalPath}class K4{convertValue(e,t="none"){switch(Va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(La(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ba(e,(a,o)=>{n[a]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,a;const o=(a=(n=(t=e.fields)===null||t===void 0?void 0:t[eh].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(u=>It(u.doubleValue));return new Qr(o)}convertGeoPoint(e){return new Gr(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=kh(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(uc(e));default:return null}}convertTimestamp(e){const t=Pa(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=pt.fromString(e);tt(UD(n),9688,{name:e});const a=new cc(n.get(1),n.get(3)),o=new Te(n.popFirst(5));return a.isEqual(t)||Li(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class Xu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vs extends g1{constructor(e,t,n,a,o,u){super(e,t,n,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(m1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Vs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vs._jsonSchema={type:Vt("string",Vs._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class xd extends Vs{data(e={}){return super.data(e)}}class rc{constructor(e,t,n,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Xu(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new xd(this._firestore,this._userDataWriter,n.key,n,new Xu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(f=>{const p=new xd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Xu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const p=new xd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Xu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:X4(f.type),doc:p,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],a=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function X4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(r){r=qs(r,Ut);const e=qs(r.firestore,Yh);return L4(l1(e),r._key).then(t=>J4(e,r,t))}rc._jsonSchemaVersion="firestore/querySnapshot/1.0",rc._jsonSchema={type:Vt("string",rc._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class $4 extends K4{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,t)}}function Z4(r,e,t){r=qs(r,Ut);const n=qs(r.firestore,Yh),a=W4(r.converter,e,t);return y1(n,[z4(f1(n),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Yr.none())])}function mv(r,e,t,...n){r=qs(r,Ut);const a=qs(r.firestore,Yh),o=f1(a);let u;return u=typeof(e=un(e))=="string"||e instanceof qh?q4(o,"updateDoc",r._key,e,t,n):Y4(o,"updateDoc",r._key,e),y1(a,[u.toMutation(r._key,Yr.exists(!0))])}function y1(r,e){return function(n,a){const o=new Ia;return n.asyncQueue.enqueueAndForget(async()=>b4(await N4(n),a,o)),o.promise}(l1(r),e)}function J4(r,e,t){const n=t.docs.get(e._key),a=new $4(r);return new Vs(r,a,e._key,n,new Xu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Tl=a})(bl),hl(new zs("firestore",(n,{instanceIdentifier:a,options:o})=>{const u=n.getProvider("app").getImmediate(),f=new Yh(new F2(n.getProvider("auth-internal")),new Y2(u,n.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new _e(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(m.options.projectId,y)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),Aa(ob,lb,e),Aa(ob,lb,"esm2017")})();const e3={apiKey:"AIzaSyA0gYfg7qkKg5O3aviAlPldnwdGJR67G00",authDomain:"get-craftly.firebaseapp.com",projectId:"get-craftly",storageBucket:"get-craftly.firebasestorage.app",messagingSenderId:"240520915259",appId:"1:240520915259:web:8d9f9cf76117f238686f1e",measurementId:"G-675350SN84"},v1=HS(e3),Ic=U4(v1),Oc="boards";async function rT(r){const e=Rc(Ac(Ic,Oc),r);let t;try{t=await gv(e)}catch(a){throw console.error("getDoc threw error for boardId:",r,a),a}if(!t.exists())throw console.warn("Board does not exist for boardId:",r),new Error("Board not found");return t.data()}async function Ko(r,e,t){const n=Rc(Ac(Ic,Oc),r);await Z4(n,{...e,owner:t},{merge:!0})}async function t3(r,e,t){const n=Rc(Ac(Ic,Oc),r),a=await gv(n);if(!a.exists())throw new Error("Board not found");const o=a.data(),u=(Array.isArray(o.lanes)?o.lanes:[]).map(f=>f.id===e?{...f,...t}:f);await mv(n,{lanes:u})}async function ju(r,e,t,n){const a=Rc(Ac(Ic,Oc),r),o=await gv(a);if(!o.exists())throw new Error("Board not found");const u=o.data(),f=(Array.isArray(u.lanes)?u.lanes:[]).map(p=>{if(p.id===e){const m=(p.rows||[]).map(y=>{const _=(y.cards||[]).map(b=>b.id===t?{...b,...n}:b);return{...y,cards:_}});return{...p,rows:m}}return p});await mv(a,{lanes:f})}async function n3(r,e,t,n){const a=Rc(Ac(Ic,Oc),r);await mv(a,{lanes:n})}const r3=({isOpen:r,onConfirm:e,onCancel:t,message:n})=>r?ae.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:ae.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-xl",children:[ae.jsx("p",{className:"text-lg mb-4",children:n}),ae.jsxs("div",{className:"flex justify-end gap-4",children:[ae.jsx("button",{onClick:t,className:"px-4 py-2 rounded text-gray-700 bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),ae.jsx("button",{onClick:e,className:"px-4 py-2 rounded text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"})]})]})}):null,i3=({user:r})=>{const[e,t]=W.useState([]),[n,a]=W.useState([]),[o,u]=W.useState(!1),[f,p]=W.useState(null);W.useEffect(()=>{async function $(){if(r)try{const R=await rT(r.uid);t(R.lanes||[]),a(R.tags||[])}catch(R){if(R&&R.message&&R.message.toLowerCase().includes("board not found")||typeof R=="string"&&R.toLowerCase().includes("board not found")){const T={lanes:[{id:"lane-1",title:"To Do",rows:[{title:"WIP",cards:[]},{title:"Planned",cards:[]},{title:"Done",cards:[]}]}],tags:[]};await Ko(r.uid,T,r.uid);try{const C=await rT(r.uid);t(C.lanes||[]),a(C.tags||[])}catch{t(T.lanes),a(T.tags)}}}}$()},[r]);const m=async $=>{a(R=>[...R,$]),r&&await Ko(r.uid,{tags:[...n,$]},r.uid)},y=async($,R,T)=>{const C=JSON.parse(JSON.stringify(e)),{sourceColumnId:O,sourceRowIndex:M}=$,N=C.find(de=>de.id===O),I=N.rows[M].cards.find(de=>de.id===$.id);if(!I)return;N.rows[M].cards=N.rows[M].cards.filter(de=>de.id!==$.id);const he=C.find(de=>de.id===R);he.rows[T].title==="Done"?I.completed=!0:I.completed=!1,he.rows[T].cards.push(I),t(C),await Ko(r.uid,{lanes:C},r.uid)},_=async($,R,T,C)=>{t(O=>{const M=[...O],N=M.findIndex(he=>he.id===R),I=M[N].rows[T].cards.findIndex(he=>he.id===$);return M[N].rows[T].cards[I].title=C,M}),await ju(r.uid,R,$,{title:C})},b=async($,R,T,C)=>{t(O=>{const M=[...O],N=M.findIndex(he=>he.id===R),I=M[N].rows[T].cards.findIndex(he=>he.id===$);return M[N].rows[T].cards[I].tags=C,M}),await ju(r.uid,R,$,{tags:C})},D=async($,R,T)=>{t(O=>O.map(N=>N.id===R?{...N,rows:N.rows.map((I,he)=>he===T?{...I,cards:I.cards.map(de=>de.id===$?{...de,priority:!de.priority}:de)}:I)}:N));const C=e.find(O=>O.id===R).rows[T].cards.find(O=>O.id===$);await ju(r.uid,R,$,{priority:!C.priority})},k=async($,R,T)=>{t(O=>{const M=JSON.parse(JSON.stringify(O)),N=M.findIndex(Z=>Z.id===R),I=M[N],he=I.rows[T].cards.find(Z=>Z.id===$);if(!he)return O;he.completed=!he.completed,I.rows[T].cards=I.rows[T].cards.filter(Z=>Z.id!==$);const de=I.rows.findIndex(Z=>Z.title==="Done"),H=I.rows.findIndex(Z=>Z.title==="WIP");return de===-1||H===-1?O:(he.completed?I.rows[de].cards.push(he):I.rows[H].cards.push(he),M)});const C=e.find(O=>O.id===R).rows[T].cards.find(O=>O.id===$);await ju(r.uid,R,$,{completed:!C.completed})},L=async($,R)=>{t(T=>{const C=[...T],O=C.findIndex(M=>M.id===$);return C[O].title=R,C}),await t3(r.uid,$,{title:R})},x=async $=>{const R={id:`new-lane-${Date.now()}`,title:"New Lane",rows:[{title:"WIP",cards:[]},{title:"Planned",cards:[]},{title:"Done",cards:[]}]};t(T=>{const C=[...T],O=C.findIndex(M=>M.id===$);return C.splice(O+1,0,R),Ko(r.uid,{lanes:C},r.uid),C})},F=$=>{e.find(C=>C.id===$).rows.some(C=>C.cards.length>0)?(p($),u(!0)):t(C=>{const O=C.filter(M=>M.id!==$);return Ko(r.uid,{lanes:O},r.uid),O})},Y=()=>{t($=>{const R=$.filter(T=>T.id!==f);return Ko(r.uid,{lanes:R},r.uid),R}),u(!1),p(null)},Q=()=>{u(!1),p(null)},le=async($,R,T)=>{if(T.trim()==="")return;const C={id:`card-${Date.now()}`,title:T,priority:!1,tags:[],date:"",completed:!1},O=e.map(M=>{if(M.id===$){const N=M.rows.map((I,he)=>he===R?{...I,cards:[...I.cards,C]}:I);return{...M,rows:N}}return M});t(O),await n3(r.uid,$,C,O)},oe=({columnId:$,rowIndex:R,addCard:T})=>{const[C,O]=W.useState(!1),[M,N]=W.useState(""),I=()=>{O(!0)},he=()=>{M.trim()&&(T($,R,M),N(""),O(!1))},de=()=>{N(""),O(!1)};return ae.jsx("div",{className:"mt-3",children:C?ae.jsxs(ae.Fragment,{children:[ae.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md mb-2 text-sm",placeholder:"New card title",value:M,onChange:H=>N(H.target.value),onKeyDown:H=>{H.key==="Enter"&&he(),H.key==="Escape"&&de()},autoFocus:!0}),ae.jsxs("div",{className:"flex justify-end gap-2",children:[ae.jsx("button",{onClick:he,className:"px-3 py-1 text-xs font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add"}),ae.jsx("button",{onClick:de,className:"px-3 py-1 text-xs font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"})]})]}):ae.jsxs("button",{className:"w-full p-2 text-left text-gray-500 hover:text-gray-700 hover:bg-gray-50 rounded-lg transition-colors flex items-center",onClick:I,children:[ae.jsx(aO,{className:"w-4 h-4 mr-2"}),"Add task"]})})};return ae.jsxs(ae.Fragment,{children:[ae.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:ae.jsx("div",{className:"flex gap-6 overflow-x-auto pb-6 w-full justify-center items-start",style:{display:"flex",justifyContent:"center"},children:e.map($=>ae.jsx("div",{className:"flex-shrink-0 w-80",children:ae.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[ae.jsx(JN,{title:$.title,updateColumnTitle:R=>L($.id,R),addLane:()=>x($.id),deleteLane:()=>F($.id)}),($.rows||[]).map((R,T)=>ae.jsxs("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 p-3",children:[ae.jsx("div",{className:"flex items-center justify-between mb-3",children:ae.jsx("span",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:R.title})}),ae.jsxs(ZN,{columnId:$.id,rowIndex:T,moveCard:y,children:[R.cards.map(C=>ae.jsx($N,{card:C,columnId:$.id,rowIndex:T,updateCardTitle:_,updateCardTags:b,availableTags:n,addNewTag:m,toggleCardPriority:D,toggleCardCompleted:k,updateCardDate:async(O,M,N,I)=>{t(he=>{const de=[...he],H=de.findIndex(ue=>ue.id===M),Z=de[H].rows[N].cards.findIndex(ue=>ue.id===O);return de[H].rows[N].cards[Z].date=I,de}),await ju(r.uid,M,O,{date:I})}},C.id)),ae.jsx(oe,{columnId:$.id,rowIndex:T,addCard:le})]})]},T))]})},$.id))})}),ae.jsx(r3,{isOpen:o,onConfirm:Y,onCancel:Q,message:"This lane contains cards. Are you sure you want to delete it?"})]})},a3=({user:r})=>ae.jsx($R,{backend:YI,children:ae.jsx(i3,{user:r})});function yv(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t}function _1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const s3=_1,w1=new wc("auth","Firebase",_1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Py("@firebase/auth");function o3(r,...e){ch.logLevel<=je.WARN&&ch.warn(`Auth (${bl}): ${r}`,...e)}function kd(r,...e){ch.logLevel<=je.ERROR&&ch.error(`Auth (${bl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(r,...e){throw _v(r,...e)}function yr(r,...e){return _v(r,...e)}function vv(r,e,t){const n=Object.assign(Object.assign({},s3()),{[e]:t});return new wc("auth","Firebase",n).create(e,{appName:r.name})}function ki(r){return vv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l3(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&lr(r,"argument-error"),vv(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _v(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return w1.create(r,...e)}function Ae(r,e,...t){if(!r)throw _v(e,...t)}function Ci(r){const e="INTERNAL ASSERTION FAILED: "+r;throw kd(e),new Error(e)}function Ui(r,e){r||Ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function u3(){return iT()==="http:"||iT()==="https:"}function iT(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u3()||mP()||"connection"in navigator)?navigator.onLine:!0}function f3(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ui(t>e,"Short delay should be less than long delay!"),this.isMobile=hP()||yP()}get(){return c3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(r,e){Ui(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p3=new Mc(3e4,6e4);function ja(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function za(r,e,t,n,a={}){return b1(r,a,async()=>{let o={},u={};n&&(e==="GET"?u=n:o={body:JSON.stringify(n)});const f=Ec(Object.assign({key:r.config.apiKey},u)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const m=Object.assign({method:e,headers:p},o);return gP()||(m.referrerPolicy="no-referrer"),r.emulatorConfig&&El(r.emulatorConfig.host)&&(m.credentials="include"),E1.fetch()(await T1(r,r.config.apiHost,t,f),m)})}async function b1(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},d3),e);try{const a=new m3(r),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw _d(r,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw _d(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw _d(r,"user-disabled",u);const y=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw vv(r,y,m);lr(r,y)}}catch(a){if(a instanceof Bi)throw a;lr(r,"network-request-failed",{message:String(a)})}}async function xc(r,e,t,n,a={}){const o=await za(r,e,t,n,a);return"mfaPendingCredential"in o&&lr(r,"multi-factor-auth-required",{_serverResponse:o}),o}async function T1(r,e,t,n){const a=`${e}${t}?${n}`,o=r,u=o.config.emulator?wv(r.config,a):`${r.config.apiScheme}://${a}`;return h3.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function g3(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(yr(this.auth,"network-request-failed")),p3.get())})}}function _d(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const a=yr(r,e,n);return a.customData._tokenResponse=t,a}function aT(r){return r!==void 0&&r.enterprise!==void 0}class y3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return g3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function v3(r,e){return za(r,"GET","/v2/recaptchaConfig",ja(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(r,e){return za(r,"POST","/v1/accounts:delete",e)}async function fh(r,e){return za(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w3(r,e=!1){const t=un(r),n=await t.getIdToken(e),a=Ev(n);Ae(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:n,authTime:ic(Am(a.auth_time)),issuedAtTime:ic(Am(a.iat)),expirationTime:ic(Am(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Am(r){return Number(r)*1e3}function Ev(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return kd("JWT malformed, contained fewer than 3 sections"),null;try{const a=MS(t);return a?JSON.parse(a):(kd("Failed to decode base64 JWT payload"),null)}catch(a){return kd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function sT(r){const e=Ev(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Bi&&E3(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function E3({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(r){var e;const t=r.auth,n=await r.getIdToken(),a=await pc(r,fh(t,{idToken:n}));Ae(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?S1(o.providerUserInfo):[],f=S3(r.providerData,u),p=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),y=p?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new cy(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,_)}async function T3(r){const e=un(r);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S3(r,e){return[...r.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function S1(r){return r.map(e=>{var{providerId:t}=e,n=yv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(r,e){const t=await b1(r,{},async()=>{const n=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=r.config,u=await T1(r,a,"/v1/token",`key=${o}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:n};return r.emulatorConfig&&El(r.emulatorConfig.host)&&(p.credentials="include"),E1.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function C3(r,e){return za(r,"POST","/v2/accounts:revokeToken",ja(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=sT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:a,expiresIn:o}=await D3(e,t);this.updateTokensAndExpiration(n,a,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:a,expirationTime:o}=t,u=new rl;return n&&(Ae(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),a&&(Ae(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ae(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rl,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class gr{constructor(e){var{uid:t,auth:n,stsTokenManager:a}=e,o=yv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new b3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await pc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return w3(this,e)}reload(){return T3(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await dh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await pc(this,_3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,a,o,u,f,p,m,y;const _=(n=t.displayName)!==null&&n!==void 0?n:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,D=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,k=(u=t.photoURL)!==null&&u!==void 0?u:void 0,L=(f=t.tenantId)!==null&&f!==void 0?f:void 0,x=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,F=(m=t.createdAt)!==null&&m!==void 0?m:void 0,Y=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Q,emailVerified:le,isAnonymous:oe,providerData:$,stsTokenManager:R}=t;Ae(Q&&R,e,"internal-error");const T=rl.fromJSON(this.name,R);Ae(typeof Q=="string",e,"internal-error"),ya(_,e.name),ya(b,e.name),Ae(typeof le=="boolean",e,"internal-error"),Ae(typeof oe=="boolean",e,"internal-error"),ya(D,e.name),ya(k,e.name),ya(L,e.name),ya(x,e.name),ya(F,e.name),ya(Y,e.name);const C=new gr({uid:Q,auth:e,email:b,emailVerified:le,displayName:_,isAnonymous:oe,photoURL:k,phoneNumber:D,tenantId:L,stsTokenManager:T,createdAt:F,lastLoginAt:Y});return $&&Array.isArray($)&&(C.providerData=$.map(O=>Object.assign({},O))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(e,t,n=!1){const a=new rl;a.updateFromServerResponse(t);const o=new gr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await dh(o),o}static async _fromGetAccountInfoResponse(e,t,n){const a=t.users[0];Ae(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?S1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),f=new rl;f.updateFromIdToken(n);const p=new gr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new cy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new Map;function Ai(r){Ui(r instanceof Function,"Expected a class definition");let e=oT.get(r);return e?(Ui(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,oT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}D1.type="NONE";const lT=D1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(r,e,t){return`firebase:${r}:${e}:${t}`}class il{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:a,name:o}=this.auth;this.fullUserKey=Nd(this.userKey,a.apiKey,o),this.fullPersistenceKey=Nd("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await fh(this.auth,{idToken:e}).catch(()=>{});return t?gr._fromGetAccountInfoResponse(this.auth,t,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new il(Ai(lT),e,n);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Ai(lT);const u=Nd(n,e.config.apiKey,e.name);let f=null;for(const m of t)try{const y=await m._get(u);if(y){let _;if(typeof y=="string"){const b=await fh(e,{idToken:y}).catch(()=>{});if(!b)break;_=await gr._fromGetAccountInfoResponse(e,b,y)}else _=gr._fromJSON(e,y);m!==o&&(f=_),o=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!p.length?new il(o,e,n):(o=p[0],f&&await o._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new il(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M1(e))return"Blackberry";if(x1(e))return"Webos";if(A1(e))return"Safari";if((e.includes("chrome/")||R1(e))&&!e.includes("edge/"))return"Chrome";if(O1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function C1(r=vn()){return/firefox\//i.test(r)}function A1(r=vn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R1(r=vn()){return/crios\//i.test(r)}function I1(r=vn()){return/iemobile/i.test(r)}function O1(r=vn()){return/android/i.test(r)}function M1(r=vn()){return/blackberry/i.test(r)}function x1(r=vn()){return/webos/i.test(r)}function bv(r=vn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function A3(r=vn()){var e;return bv(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R3(){return vP()&&document.documentMode===10}function k1(r=vn()){return bv(r)||O1(r)||x1(r)||M1(r)||/windows phone/i.test(r)||I1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(r,e=[]){let t;switch(r){case"Browser":t=uT(vn());break;case"Worker":t=`${uT(vn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((u,f)=>{try{const p=e(o);u(p)}catch(p){f(p)}});n.onAbort=t,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(r,e={}){return za(r,"GET","/v2/passwordPolicy",ja(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=6;class x3{constructor(e){var t,n,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:M3,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,a,o,u,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(n=p.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsUppercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,t,n,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cT(this),this.idTokenSubscription=new cT(this),this.beforeStateQueue=new I3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(async()=>{var n,a,o;if(!this._deleted&&(this.persistenceManager=await il.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fh(this,{idToken:e}),n=await gr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Hn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&(p!=null&&p.user)&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(ki(this));const t=e?un(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O3(this),t=new x3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await C3(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ai(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[Ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(f,this,"internal-error"),f.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,n,a);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&o3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ya(r){return un(r)}class cT{constructor(e){this.auth=e,this.observer=null,this.addObserver=CP(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N3(r){Kh=r}function P1(r){return Kh.loadJS(r)}function P3(){return Kh.recaptchaEnterpriseScript}function L3(){return Kh.gapiScript}function V3(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class U3{constructor(){this.enterprise=new H3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class H3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const B3="recaptcha-enterprise",L1="NO_RECAPTCHA";class F3{constructor(e){this.type=B3,this.auth=Ya(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,f)=>{v3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new y3(p);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(p=>{f(p)})})}function a(o,u,f){const p=window.grecaptcha;aT(p)?p.enterprise.ready(()=>{p.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(L1)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new U3().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{n(this.auth).then(f=>{if(!t&&aT(window.grecaptcha))a(f,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=P3();p.length!==0&&(p+=f),P1(p).then(()=>{a(f,o,u)}).catch(m=>{u(m)})}}).catch(f=>{u(f)})})}}async function fT(r,e,t,n=!1,a=!1){const o=new F3(r);let u;if(a)u=L1;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return n?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function fy(r,e,t,n,a){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await fT(r,e,t,t==="getOobCode");return n(r,u)}else return n(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await fT(r,e,t,t==="getOobCode");return n(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(r,e){const t=Vy(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(js(o,e??{}))return a;lr(a,"already-initialized")}return t.initialize({options:e})}function z3(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Ai);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Y3(r,e,t){const n=Ya(r);Ae(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,o=V1(e),{host:u,port:f}=q3(e),p=f===null?"":`:${f}`,m={url:`${o}//${u}${p}/`},y=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){Ae(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ae(js(m,n.config.emulator)&&js(y,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=m,n.emulatorConfig=y,n.settings.appVerificationDisabledForTesting=!0,El(u)?(PS(`${o}//${u}${p}`),LS("Auth",!0)):G3()}function V1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function q3(r){const e=V1(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const o=a[1];return{host:o,port:dT(n.substr(o.length+1))}}else{const[o,u]=n.split(":");return{host:o,port:dT(u)}}}function dT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function G3(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,t){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}async function Q3(r,e){return za(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(r,e){return xc(r,"POST","/v1/accounts:signInWithPassword",ja(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W3(r,e){return xc(r,"POST","/v1/accounts:signInWithEmailLink",ja(r,e))}async function X3(r,e){return xc(r,"POST","/v1/accounts:signInWithEmailLink",ja(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends Tv{constructor(e,t,n,a=null){super("password",n),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new gc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new gc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fy(e,t,"signInWithPassword",K3);case"emailLink":return W3(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fy(e,n,"signUpPassword",Q3);case"emailLink":return X3(e,{idToken:t,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(r,e){return xc(r,"POST","/v1/accounts:signInWithIdp",ja(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="http://localhost";class Qs extends Tv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=t,o=yv(t,["providerId","signInMethod"]);if(!n||!a)return null;const u=new Qs(n,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return al(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,al(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,al(e,t)}buildRequest(){const e={requestUri:$3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ec(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function J3(r){const e=qu(Gu(r)).link,t=e?qu(Gu(e)).deep_link_id:null,n=qu(Gu(r)).deep_link_id;return(n?qu(Gu(n)).link:null)||n||t||e||r}class Sv{constructor(e){var t,n,a,o,u,f;const p=qu(Gu(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,y=(n=p.oobCode)!==null&&n!==void 0?n:null,_=Z3((a=p.mode)!==null&&a!==void 0?a:null);Ae(m&&y&&_,"argument-error"),this.apiKey=m,this.operation=_,this.code=y,this.continueUrl=(o=p.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=p.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=J3(e);try{return new Sv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.providerId=Al.PROVIDER_ID}static credential(e,t){return gc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Sv.parseLink(t);return Ae(n,"argument-error"),gc._fromEmailAndCode(e,n.code,n.tenantId)}}Al.PROVIDER_ID="password";Al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Dv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends kc{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.FACEBOOK_SIGN_IN_METHOD="facebook.com";va.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qs._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Di.credential(t,n)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends kc{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _a.credential(e.oauthAccessToken)}catch{return null}}}_a.GITHUB_SIGN_IN_METHOD="github.com";_a.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends kc{constructor(){super("twitter.com")}static credential(e,t){return Qs._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return wa.credential(t,n)}catch{return null}}}wa.TWITTER_SIGN_IN_METHOD="twitter.com";wa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(r,e){return xc(r,"POST","/v1/accounts:signUp",ja(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,a=!1){const o=await gr._fromIdTokenResponse(e,n,a),u=hT(n);return new Ks({user:o,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const a=hT(n);return new Ks({user:e,providerId:a,_tokenResponse:n,operationType:t})}}function hT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends Bi{constructor(e,t,n,a){var o;super(t.code,t.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,a){return new hh(e,t,n,a)}}function U1(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(r,o,e,n):o})}async function t6(r,e,t=!1){const n=await pc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ks._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n6(r,e,t=!1){const{auth:n}=r;if(Hn(n.app))return Promise.reject(ki(n));const a="reauthenticate";try{const o=await pc(r,U1(n,a,e,r),t);Ae(o.idToken,n,"internal-error");const u=Ev(o.idToken);Ae(u,n,"internal-error");const{sub:f}=u;return Ae(r.uid===f,n,"user-mismatch"),Ks._forOperation(r,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&lr(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(r,e,t=!1){if(Hn(r.app))return Promise.reject(ki(r));const n="signIn",a=await U1(r,n,e),o=await Ks._fromIdTokenResponse(r,n,a);return t||await r._updateCurrentUser(o.user),o}async function r6(r,e){return H1(Ya(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(r){const e=Ya(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function i6(r,e,t){if(Hn(r.app))return Promise.reject(ki(r));const n=Ya(r),u=await fy(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e6).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&B1(r),p}),f=await Ks._fromIdTokenResponse(n,"signIn",u);return await n._updateCurrentUser(f.user),f}function a6(r,e,t){return Hn(r.app)?Promise.reject(ki(r)):r6(un(r),Al.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&B1(r),n})}function s6(r,e,t,n){return un(r).onIdTokenChanged(e,t,n)}function o6(r,e,t){return un(r).beforeAuthStateChanged(e,t)}function l6(r,e,t,n){return un(r).onAuthStateChanged(e,t,n)}function u6(r){return un(r).signOut()}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=1e3,f6=10;class j1 extends F1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),a=this.localCache[t];n!==a&&e(t,a,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const n=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},o=this.storage.getItem(n);R3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,f6):a()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},c6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}j1.type="LOCAL";const d6=j1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1 extends F1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}z1.type="SESSION";const Y1=z1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const n=new Wh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const f=Array.from(u).map(async m=>m(t.origin,o)),p=await h6(f);t.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((f,p)=>{const m=Cv("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},n);u={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(b.data.response);break;default:clearTimeout(y),clearTimeout(o),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function g6(r){Kr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function m6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function y6(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function v6(){return q1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="firebaseLocalStorageDb",_6=1,gh="firebaseLocalStorage",Q1="fbase_key";class Nc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xh(r,e){return r.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function w6(){const r=indexedDB.deleteDatabase(G1);return new Nc(r).toPromise()}function dy(){const r=indexedDB.open(G1,_6);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(gh,{keyPath:Q1})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(gh)?e(n):(n.close(),await w6(),e(await dy()))})})}async function pT(r,e,t){const n=Xh(r,!0).put({[Q1]:e,value:t});return new Nc(n).toPromise()}async function E6(r,e){const t=Xh(r,!1).get(e),n=await new Nc(t).toPromise();return n===void 0?null:n.value}function gT(r,e){const t=Xh(r,!0).delete(e);return new Nc(t).toPromise()}const b6=800,T6=3;class K1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>T6)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(v6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await m6(),!this.activeServiceWorker)return;this.sender=new p6(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||y6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dy();return await pT(e,ph,"1"),await gT(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>pT(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>E6(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Xh(a,!1).getAll();return new Nc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K1.type="LOCAL";const S6=K1;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(r,e){return e?Ai(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends Tv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,t){return al(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function D6(r){return H1(r.auth,new Av(r),r.bypassAuthState)}function C6(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),n6(t,new Av(r),r.bypassAuthState)}async function A6(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),t6(t,new Av(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,t,n,a,o=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:a,tenantId:o,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return D6;case"linkViaPopup":case"linkViaRedirect":return A6;case"reauthViaPopup":case"reauthViaRedirect":return C6;default:lr(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=new Mc(2e3,1e4);async function I6(r,e,t){if(Hn(r.app))return Promise.reject(yr(r,"operation-not-supported-in-this-environment"));const n=Ya(r);l3(r,e,Dv);const a=W1(n,t);return new ks(n,"signInViaPopup",e,a).executeNotNull()}class ks extends X1{constructor(e,t,n,a,o){super(e,t,a,o),this.provider=n,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=Cv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,R6.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="pendingRedirect",Pd=new Map;class M6 extends X1{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Pd.get(this.auth._key());if(!e){try{const n=await x6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Pd.set(this.auth._key(),e)}return this.bypassAuthState||Pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x6(r,e){const t=P6(e),n=N6(r);if(!await n._isAvailable())return!1;const a=await n._get(t)==="true";return await n._remove(t),a}function k6(r,e){Pd.set(r._key(),e)}function N6(r){return Ai(r._redirectPersistence)}function P6(r){return Nd(O6,r.config.apiKey,r.name)}async function L6(r,e,t=!1){if(Hn(r.app))return Promise.reject(ki(r));const n=Ya(r),a=W1(n,e),u=await new M6(n,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=10*60*1e3;class U6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!$1(e)){const a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(yr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V6&&this.cachedEventUids.clear(),this.cachedEventUids.has(mT(e))}saveEventToCache(e){this.cachedEventUids.add(mT(e)),this.lastProcessedEventTime=Date.now()}}function mT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function $1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function H6(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B6(r,e={}){return za(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j6=/^https?/;async function z6(r){if(r.config.emulator)return;const{authorizedDomains:e}=await B6(r);for(const t of e)try{if(Y6(t))return}catch{}lr(r,"unauthorized-domain")}function Y6(r){const e=uy(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!j6.test(t))return!1;if(F6.test(r))return n===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=new Mc(3e4,6e4);function yT(){const r=Kr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function G6(r){return new Promise((e,t)=>{var n,a,o;function u(){yT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yT(),t(yr(r,"network-request-failed"))},timeout:q6.get()})}if(!((a=(n=Kr().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Kr().gapi)===null||o===void 0)&&o.load)u();else{const f=V3("iframefcb");return Kr()[f]=()=>{gapi.load?u():t(yr(r,"network-request-failed"))},P1(`${L3()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Ld=null,e})}let Ld=null;function Q6(r){return Ld=Ld||G6(r),Ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=new Mc(5e3,15e3),W6="__/auth/iframe",X6="emulator/auth/iframe",$6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J6(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?wv(e,X6):`https://${r.config.authDomain}/${W6}`,n={apiKey:e.apiKey,appName:r.name,v:bl},a=Z6.get(r.config.apiHost);a&&(n.eid=a);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${Ec(n).slice(1)}`}async function eU(r){const e=await Q6(r),t=Kr().gapi;return Ae(t,r,"internal-error"),e.open({where:document.body,url:J6(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$6,dontclear:!0},n=>new Promise(async(a,o)=>{await n.restyle({setHideOnLeave:!1});const u=yr(r,"network-request-failed"),f=Kr().setTimeout(()=>{o(u)},K6.get());function p(){Kr().clearTimeout(f),a(n)}n.ping(p).then(p,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nU=500,rU=600,iU="_blank",aU="http://localhost";class vT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sU(r,e,t,n=nU,a=rU){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let f="";const p=Object.assign(Object.assign({},tU),{width:n.toString(),height:a.toString(),top:o,left:u}),m=vn().toLowerCase();t&&(f=R1(m)?iU:t),C1(m)&&(e=e||aU,p.scrollbars="yes");const y=Object.entries(p).reduce((b,[D,k])=>`${b}${D}=${k},`,"");if(A3(m)&&f!=="_self")return oU(e||"",f),new vT(null);const _=window.open(e||"",f,y);Ae(_,r,"popup-blocked");try{_.focus()}catch{}return new vT(_)}function oU(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU="__/auth/handler",uU="emulator/auth/handler",cU=encodeURIComponent("fac");async function _T(r,e,t,n,a,o){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:bl,eventId:a};if(e instanceof Dv){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",DP(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof kc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}r.tenantId&&(u.tid=r.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await r._getAppCheckToken(),m=p?`#${cU}=${encodeURIComponent(p)}`:"";return`${fU(r)}?${Ec(f).slice(1)}${m}`}function fU({config:r}){return r.emulator?wv(r,uU):`https://${r.authDomain}/${lU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class dU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y1,this._completeRedirectFn=L6,this._overrideRedirectResult=k6}async _openPopup(e,t,n,a){var o;Ui((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await _T(e,t,n,uy(),a);return sU(e,u,Cv())}async _openRedirect(e,t,n,a){await this._originValidation(e);const o=await _T(e,t,n,uy(),a);return g6(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Ui(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await eU(e),n=new U6(e);return t.register("authEvent",a=>(Ae(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rm,{type:Rm},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Rm];u!==void 0&&t(!!u),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=z6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return k1()||A1()||bv()}}const hU=dU;var wT="@firebase/auth",ET="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mU(r){hl(new zs("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=n.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:u,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N1(r)},m=new k3(n,a,o,p);return z3(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),hl(new zs("auth-internal",e=>{const t=Ya(e.getProvider("auth").getImmediate());return(n=>new pU(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Aa(wT,ET,gU(r)),Aa(wT,ET,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=5*60,vU=NS("authIdTokenMaxAge")||yU;let bT=null;const _U=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>vU)return;const a=t==null?void 0:t.token;bT!==a&&(bT=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Z1(r=BS()){const e=Vy(r,"auth");if(e.isInitialized())return e.getImmediate();const t=j3(r,{popupRedirectResolver:hU,persistence:[S6,d6,Y1]}),n=NS("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const u=_U(o.toString());o6(t,u,()=>u(t.currentUser)),s6(t,f=>u(f))}}const a=xS("auth");return a&&Y3(t,`http://${a}`),t}function wU(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}N3({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=a=>{const o=yr("internal-error");o.customData=a,t(o)},n.type="text/javascript",n.charset="UTF-8",wU().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mU("Browser");const Rv=Z1(v1),EU=new Di;function bU(){return I6(Rv,EU)}function TU(){return u6(Rv)}function SU(r){return l6(Rv,r)}function DU(){const[r,e]=W.useState(null),[t,n]=W.useState(""),[a,o]=W.useState(""),[u,f]=W.useState(!1),[p,m]=W.useState(""),[y,_]=W.useState(!1),b=Y=>n(Y.target.value),D=Y=>o(Y.target.value),k=()=>{f(Y=>!Y),m("")},L=()=>{_(!0),m("")},x=()=>{_(!1),n(""),o(""),m(""),f(!1)},F=async Y=>{Y.preventDefault(),m("");const Q=Z1();try{u?await i6(Q,t,a):await a6(Q,t,a)}catch(le){m(le.message)}};return W.useEffect(()=>{const Y=SU(e);return()=>Y()},[]),ae.jsxs("div",{className:"App",children:[ae.jsx("header",{style:{display:"flex",justifyContent:"flex-end",padding:"1rem"},children:r?ae.jsxs(ae.Fragment,{children:[ae.jsxs("span",{style:{marginRight:"1rem"},children:["Signed in as ",r.displayName||r.email]}),ae.jsx("button",{onClick:TU,children:"Sign Out"})]}):ae.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"1rem"},children:[ae.jsx("button",{onClick:bU,style:{padding:"0.5rem",borderRadius:"4px",background:"#e5e7eb",color:"#2563eb",border:"none",fontWeight:"bold"},children:"Sign In with Google"}),ae.jsx("button",{onClick:L,style:{padding:"0.5rem",borderRadius:"4px",background:"#e5e7eb",color:"#2563eb",border:"none",fontWeight:"bold"},children:"Sign In with Email/Password"}),y&&ae.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:ae.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",minWidth:"300px",boxShadow:"0 2px 16px rgba(0,0,0,0.15)",position:"relative"},children:[ae.jsx("button",{onClick:x,style:{position:"absolute",top:8,right:8,background:"none",border:"none",fontSize:"1.5rem",color:"#888",cursor:"pointer"},children:"×"}),ae.jsx("h2",{style:{marginBottom:"1rem",textAlign:"center",color:"#2563eb"},children:u?"Register":"Login"}),ae.jsxs("form",{onSubmit:F,style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[ae.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:b,required:!0,style:{padding:"0.5rem",borderRadius:"4px",border:"1px solid #ccc"}}),ae.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:D,required:!0,style:{padding:"0.5rem",borderRadius:"4px",border:"1px solid #ccc"}}),ae.jsx("button",{type:"submit",style:{padding:"0.5rem",borderRadius:"4px",background:"#2563eb",color:"white",border:"none",fontWeight:"bold"},children:u?"Register":"Login"}),ae.jsx("button",{type:"button",onClick:k,style:{background:"none",border:"none",color:"#2563eb",textDecoration:"underline",cursor:"pointer",fontSize:"0.95rem"},children:u?"Already have an account? Login":"Don't have an account? Register"}),p&&ae.jsx("span",{style:{color:"red",fontSize:"0.95rem",textAlign:"center"},children:p})]})]})})]})}),r&&ae.jsx(a3,{user:r})]})}NA.createRoot(document.getElementById("root")).render(ae.jsx(W.StrictMode,{children:ae.jsx(DU,{})}));
